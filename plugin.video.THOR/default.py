import base64;exec base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IHVybGxpYgppbXBvcnQgdXJsbGliMgppbXBvcnQgcmUKaW1wb3J0IG9zCmltcG9ydCB4Ym1jcGx1Z2luCmltcG9ydCB4Ym1jZ3VpCmltcG9ydCB4Ym1jYWRkb24KaW1wb3J0IHhibWN2ZnMKaW1wb3J0IHRyYWNlYmFjawppbXBvcnQgY29va2llbGliICwgYmFzZTY0CmZyb20gQmVhdXRpZnVsU291cCBpbXBvcnQgQmVhdXRpZnVsU3RvbmVTb3VwICwgQmVhdXRpZnVsU291cCAsIEJlYXV0aWZ1bFNPQVAKT08wME9vTyA9IE5vbmUKdHJ5IDoKIGZyb20geG1sIC4gc2F4IC4gc2F4dXRpbHMgaW1wb3J0IGVzY2FwZQpleGNlcHQgOiB0cmFjZWJhY2sgLiBwcmludF9leGMgKCApCnRyeSA6CiBpbXBvcnQganNvbgpleGNlcHQgOgogaW1wb3J0IHNpbXBsZWpzb24gYXMganNvbgppbXBvcnQgU2ltcGxlRG93bmxvYWRlciBhcyBkb3dubG9hZGVyCmltcG9ydCB0aW1lCmlmIDcgLSA3OiBJMUlJICogSUlJSSAuIElpICUgb09PCnRyeSA6CiBpbXBvcnQgc3NsCiBzc2wgLiBfY3JlYXRlX2RlZmF1bHRfaHR0cHNfY29udGV4dCA9IHNzbCAuIF9jcmVhdGVfdW52ZXJpZmllZF9jb250ZXh0CmV4Y2VwdCA6CiBwYXNzCiBpZiAxIC0gMTogSUkgLSBpaUlJaTFpMUlpaSAtIEkxIC0gSUlvb29PMG9vTzBvbyAqIE9PTwpJaWlpMWlJID0gRmFsc2UKT28wMDBvTzBvbyA9IEZhbHNlCk9PMDBvbzBvME8wb28gPSBbICcxODB1cGxvYWQuY29tJyAsICdhbGxteXZpZGVvcy5uZXQnICwgJ2Jlc3RyZWFtcy5uZXQnICwgJ2NsaWNrbnVwbG9hZC5jb20nICwgJ2Nsb3VkemlsbGEudG8nICwgJ21vdnNoYXJlLm5ldCcgLCAnbm92YW1vdi5jb20nICwgJ25vd3ZpZGVvLnN4JyAsICd2aWRlb3dlZWQuZXMnICwgJ2RhY2xpcHMuaW4nICwgJ2RhdGVtdWxlLmNvbScgLCAnZmFzdHZpZGVvLmluJyAsICdmYXN0c3RyZWFtLmluJyAsICdmaWxlaG9vdC5jb20nICwgJ2ZpbGVudWtlLmNvbScgLCAnc2hhcmVzaXguY29tJyAsICdwbHVzLmdvb2dsZS5jb20nICwgJ3BpY2FzYXdlYi5nb29nbGUuY29tJyAsICdnb3JpbGxhdmlkLmNvbScgLCAnZ29yaWxsYXZpZC5pbicgLCAnZ3JpZnRob3N0LmNvbScgLCAnaHVnZWZpbGVzLm5ldCcgLCAnaXBpdGhvcy50bycgLCAnaXNoYXJlZC5ldScgLCAna2luZ2ZpbGVzLm5ldCcgLCAnbWFpbC5ydScgLCAnbXkubWFpbC5ydScgLCAndmlkZW9hcGkubXkubWFpbC5ydScgLCAnbWlnaHR5dXBsb2FkLmNvbScgLCAnbW9vc2hhcmUuYml6JyAsICdtb3ZkaXZ4LmNvbScgLCAnbW92cG9kLm5ldCcgLCAnbW92cG9kLmluJyAsICdtb3ZyZWVsLmNvbScgLCAnbXJmaWxlLm1lJyAsICdub3N2aWRlby5jb20nICwgJ29wZW5sb2FkLmlvJyAsICdwbGF5ZWQudG8nICwgJ2JpdHNoYXJlLmNvbScgLCAnZmlsZWZhY3RvcnkuY29tJyAsICdrMnMuY2MnICwgJ29ib29tLmNvbScgLCAncmFwaWRnYXRvci5uZXQnICwgJ3ByaW1lc2hhcmUudHYnICwgJ2JpdHNoYXJlLmNvbScgLCAnZmlsZWZhY3RvcnkuY29tJyAsICdrMnMuY2MnICwgJ29ib29tLmNvbScgLCAncmFwaWRnYXRvci5uZXQnICwgJ3NoYXJlcmVwby5jb20nICwgJ3N0YWdldnUuY29tJyAsICdzdHJlYW1jbG91ZC5ldScgLCAnc3RyZWFtaW4udG8nICwgJ3RoZWZpbGUubWUnICwgJ3RoZXZpZGVvLm1lJyAsICd0dXNmaWxlcy5uZXQnICwgJ3VwbG9hZGMuY29tJyAsICd6YWxhYS5jb20nICwgJ3VwbG9hZHJvY2tldC5uZXQnICwgJ3VwdG9ib3guY29tJyAsICd2LXZpZHMuY29tJyAsICd2ZWVoZC5jb20nICwgJ3ZpZGJ1bGwuY29tJyAsICd2aWRlb21lZ2EudHYnICwgJ3ZpZHBsYXkubmV0JyAsICd2aWRzcG90Lm5ldCcgLCAndmlkdG8ubWUnICwgJ3ZpZHppLnR2JyAsICd2aW1lby5jb20nICwgJ3ZrLmNvbScgLCAndm9kbG9ja2VyLmNvbScgLCAneGZpbGVsb2FkLmNvbScgLCAneHZpZHN0YWdlLmNvbScgLCAnemV0dGFob3N0LnR2JyBdCk9PbzBPID0gWyAncGx1Z2luLnZpZGVvLmRyYW1hc29ubGluZScgLCAncGx1Z2luLnZpZGVvLmY0bVRlc3RlcicgLCAncGx1Z2luLnZpZGVvLnNoYWhpZG1iY25ldCcgLCAncGx1Z2luLnZpZGVvLlNwb3J0c0RldmlsJyAsICdwbHVnaW4uc3RyZWFtLnZhdWdobmxpdmUudHYnICwgJ3BsdWdpbi52aWRlby5aZW1UVi1zaGFuaScgXQppZiA2NiAtIDY2OiBpaUlpMUlpSSArIG9PMG8wICsgaTExSWkKY2xhc3MgaWkxMWlJMWkgKCB1cmxsaWIyIC4gSFRUUEVycm9yUHJvY2Vzc29yICkgOgogZGVmIGh0dHBfcmVzcG9uc2UgKCBzZWxmICwgcmVxdWVzdCAsIHJlc3BvbnNlICkgOgogIHJldHVybiByZXNwb25zZQogaHR0cHNfcmVzcG9uc2UgPSBodHRwX3Jlc3BvbnNlCiBpZiAxIC0gMTogaTExSWlJMUlJICsgTzAwTyAtIGlpSSAlIElpaUlJaUlJICogb08wMG9vbzBvME9PCmlJMTFJMWlpSTFpID0gRmFsc2UgOwppZiBpSTExSTFpaUkxaSA6CiBpZiAyOSAtIDI5OiBpSUlJMSAvIE8wMDAwMDBPICUgSTFJSUkxaUkxaWlpSWlJMSAuIG9PMG8wIC0gaTExSWlJMUlJIC8gSWlpSUlpSUkKIGlmIDQ0IC0gNDQ6IG9PTyAuIElpIC0gSTEgKiBJMUlJICogaWlJIC8gT09PCiB0cnkgOgogIGltcG9ydCBweXNyYyAuIHB5ZGV2ZCBhcyBweWRldmQKICBpZiA2NSAtIDY1OiBPMDAwMDAwTyAtIElpCiAgcHlkZXZkIC4gc2V0dHJhY2UgKCAnbG9jYWxob3N0JyAsIHN0ZG91dFRvU2VydmVyID0gVHJ1ZSAsIHN0ZGVyclRvU2VydmVyID0gVHJ1ZSApCiBleGNlcHQgSW1wb3J0RXJyb3IgOgogIHN5cyAuIHN0ZGVyciAuIHdyaXRlICggIkVycm9yOiAiICsKICJZb3UgbXVzdCBhZGQgb3JnLnB5dGhvbi5weWRldi5kZWJ1Zy5weXNyYyB0byB5b3VyIFBZVEhPTlBBVEguIiApCiAgc3lzIC4gZXhpdCAoIDEgKQogIGlmIDg3IC0gODc6IElpaUlJaUlJICUgaUlJSTEgLSBpaUlJaTFpMUlpaSAlIGlpSWkxSWlJICUgaTExSWlJMUlJICUgaUlJSTEKICBpZiA1IC0gNTogSTFJSSAuIE9PTyAtIGkxMUlpIC4gaTExSWlJMUlJICogSWkKT29vID0geGJtY2FkZG9uIC4gQWRkb24gKCAncGx1Z2luLnZpZGVvLkNhdG9hbCcgKQppaWkxSUkgPSBPb28gLiBnZXRBZGRvbkluZm8gKCAndmVyc2lvbicgKQpJMTExaTExSTFJID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBPb28gLiBnZXRBZGRvbkluZm8gKCAncHJvZmlsZScgKSAuIGRlY29kZSAoICd1dGYtOCcgKSApCmkxMWlpID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBPb28gLiBnZXRBZGRvbkluZm8gKCAncGF0aCcgKSAuIGRlY29kZSAoICd1dGYtOCcgKSApCm8wTzBvTzAgPSBvcyAuIHBhdGggLiBqb2luICggSTExMWkxMUkxSSAsICdmYXZvcml0ZXMnICkKSUlJaTExMTFpSSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBJMTExaTExSTFJICwgJ2hpc3RvcnknICkKaWlJSWlpaUkxMSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBJMTExaTExSTFJICwgJ2xpc3RfcmV2aXNpb24nICkKTzAwTzAwMCA9IG9zIC4gcGF0aCAuIGpvaW4gKCBpMTFpaSAsICdpY29uLnBuZycgKQpPME9PTyA9IG9zIC4gcGF0aCAuIGpvaW4gKCBpMTFpaSAsICdmYW5hcnQuanBnJyApCmlJaTExaUkxaWkxSSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBpMTFpaSAsIGJhc2U2NCAuIGI2NGRlY29kZSAoICdjMjkxY21ObFgyWnBiR1U9JyApICkKT09vT08gPSBJMTExaTExSTFJCmlmIDI5IC0gMjk6IElJSUkgLiBpMTFJaQpvb29PMCA9IG9zIC4gcGF0aCAuIGpvaW4gKCBJMTExaTExSTFJICwgJ0xpdmV3ZWJUVicgKQpkb3dubG9hZGVyID0gZG93bmxvYWRlciAuIFNpbXBsZURvd25sb2FkZXIgKCApCkkxMTFJID0gT29vIC4gZ2V0U2V0dGluZyAoICdkZWJ1ZycgKQppZiBvcyAuIHBhdGggLiBleGlzdHMgKCBvME8wb08wICkgPT0gVHJ1ZSA6CiBpSTFJaTEgPSBvcGVuICggbzBPMG9PMCApIC4gcmVhZCAoICkKZWxzZSA6IGlJMUlpMSA9IFsgXQppZiBvcyAuIHBhdGggLiBleGlzdHMgKCBpSWkxMWlJMWlpMUkgKSA9PSBUcnVlIDoKIGlJMWlJSTFpMWlJID0gb3BlbiAoIGlJaTExaUkxaWkxSSApIC4gcmVhZCAoICkKZWxzZSA6IGlJMWlJSTFpMWlJID0gWyBdCmlmIDc2IC0gNzY6IG9PMDBvb28wbzBPTyArIG9PMG8wICsgaWlJaTFJaUkgKiBJSW9vb08wb29PMG9vCmlmIDg5IC0gODk6IE9PTyAqIGlpSQpkZWYgaTFJaWlJSSAoIHN0cmluZyApIDoKIGlmIEkxMTFJID09ICd0cnVlJyA6CiAgeGJtYyAuIGxvZyAoICJbYWRkb24uQ2F0b2FsLSVzXTogJXMiICUgKCBpaWkxSUkgLCBzdHJpbmcgKSApCiAgaWYgMjggLSAyODogb08wbzAgKyBPMDBPICsgb08wbzAgKiBpMTFJaSAvIG9PTwogIGlmIDEzIC0gMTM6IGlpSUlpMWkxSWlpICUgaUlJSTEgLiBJMSAlIEkxCmRlZiBJaTFJaWkxSTFpMWkgKCB1cmwgLCBoZWFkZXJzID0gTm9uZSApIDoKIHRyeSA6CiAgaWYgaGVhZGVycyBpcyBOb25lIDoKICAgaGVhZGVycyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81Mi4wLjI3NDMuMTE2IFNhZmFyaS81MzcuMzYnIH0KICAgaWYgMTUgLSAxNTogSWkgJSBJMUlJSTFpSTFpaWlJaUkxIC0gSTFJSUkxaUkxaWlpSWlJMSAqIGlpSUlpMWkxSWlpICsgaWlJIC4gSTFJSUkxaUkxaWlpSWlJMQogIGlmICd8JyBpbiB1cmwgOgogICB1cmwgLCBJaTFJSWkgPSB1cmwgLiBzcGxpdCAoICd8JyApCiAgIElpMUlJaSA9IElpMUlJaSAuIHNwbGl0ICggJyYnICkKICAgaWYgMjkgLSAyOTogb08wbzAgLSBJSSAvIElJSUkKICAgZm9yIElJaTFJMUlJSUlJIGluIElpMUlJaSA6CiAgICBpZiBsZW4gKCBJSWkxSTFJSUlJSSAuIHNwbGl0ICggJz0nICkgKSA9PSAyIDoKICAgICBPb28wbzBvb08gLCBpaTFpSTExMWlJaTEgPSBJSWkxSTFJSUlJSSAuIHNwbGl0ICggJz0nICkKICAgIGVsc2UgOgogICAgIE8wTyA9IElJaTFJMUlJSUlJIC4gc3BsaXQgKCAnPScgKQogICAgIE9vbzBvMG9vTyA9IE8wTyBbIDAgXQogICAgIGlpMWlJMTExaUlpMSA9ICc9JyAuIGpvaW4gKCBPME8gWyAxIDogXSApCiAgICAgaWYgOTAgLSA5MDogb09PIC4gb09PIC0gSUlvb29PMG9vTzBvbyArIGlpSSAuIElJSUkgLiBpaUkKICAgIHByaW50IE9vbzBvMG9vTyAsIGlpMWlJMTExaUlpMQogICAgaGVhZGVycyBbIE9vbzBvMG9vTyBdID0gaWkxaUkxMTFpSWkxCiAgICBpZiA3NCAtIDc0OiBPT08gKiBJSW9vb08wb29PMG9vCiAgaTExSWlpMWlpaTFJaUlpID0gdXJsbGliMiAuIFJlcXVlc3QgKCB1cmwgLCBOb25lICwgaGVhZGVycyApCiAgaWkxSTFJaWkgPSB1cmxsaWIyIC4gdXJsb3BlbiAoIGkxMUlpaTFpaWkxSWlJaSApCiAgbzBPb08wbyA9IGlpMUkxSWlpIC4gcmVhZCAoICkKICBpaTFJMUlpaSAuIGNsb3NlICggKQogIHJldHVybiBvME9vTzBvCiBleGNlcHQgdXJsbGliMiAuIFVSTEVycm9yICwgaTFJaTFJSSA6CiAgaTFJaWlJSSAoICdVUkw6ICcgKyB1cmwgKQogIGlmIGhhc2F0dHIgKCBpMUlpMUlJICwgJ2NvZGUnICkgOgogICBpMUlpaUlJICggJ1dlIGZhaWxlZCB3aXRoIGVycm9yIGNvZGUgLSAlcy4nICUgaTFJaTFJSSAuIGNvZGUgKQogICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Ob3RpZmljYXRpb24oQ2F0b2FsLFdlIGZhaWxlZCB3aXRoIGVycm9yIGNvZGUgLSAiICsgc3RyICggaTFJaTFJSSAuIGNvZGUgKSArICIsMTAwMDAsIiArIE8wME8wMDAgKyAiKSIgKQogIGVsaWYgaGFzYXR0ciAoIGkxSWkxSUkgLCAncmVhc29uJyApIDoKICAgaTFJaWlJSSAoICdXZSBmYWlsZWQgdG8gcmVhY2ggYSBzZXJ2ZXIuJyApCiAgIGkxSWlpSUkgKCAnUmVhc29uOiAlcycgJSBpMUlpMUlJIC4gcmVhc29uICkKICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuTm90aWZpY2F0aW9uKENhdG9hbCxXZSBmYWlsZWQgdG8gcmVhY2ggYSBzZXJ2ZXIuIC0gIiArIHN0ciAoIGkxSWkxSUkgLiByZWFzb24gKSArICIsMTAwMDAsIiArIE8wME8wMDAgKyAiKSIgKQogICBpZiAxMSAtIDExOiBvTzBvMCAvIGkxMUlpSTFJSSAlIEkxSUlJMWlJMWlpaUlpSTEKZGVmIGkxaUlpaSAoICkgOgogdHJ5IDoKICBpZiBvcyAuIHBhdGggLiBleGlzdHMgKCBvME8wb08wICkgPT0gVHJ1ZSA6CiAgIG9vME9PTzBPICggJ0Zhdm9yaXRlcycgLCAndXJsJyAsIDQgLCBvcyAuIHBhdGggLiBqb2luICggaTExaWkgLCAncmVzb3VyY2VzJyAsICdmYXZvcml0ZS5wbmcnICkgLCBPME9PTyAsICcnICwgJycgLCAnJyAsICcnICkKICBpZiBPb28gLiBnZXRTZXR0aW5nICggImJyb3dzZV94bWxfZGF0YWJhc2UiICkgPT0gInRydWUiIDoKICAgb28wT09PME8gKCAnWE1MIERhdGFiYXNlJyAsICdodHRwOi8veGJtY3BsdXMueGIuZnVucGljLmRlL3d3dy1kYXRhL2ZpbGVzeXN0ZW0vJyAsIDE1ICwgTzAwTzAwMCAsIE8wT09PICwgJycgLCAnJyAsICcnICwgJycgKQogIGlmIE9vbyAuIGdldFNldHRpbmcgKCAiYnJvd3NlX2NvbW11bml0eSIgKSA9PSAidHJ1ZSIgOgogICBvbzBPT08wTyAoICdDb21tdW5pdHkgRmlsZXMnICwgJ2NvbW11bml0eV9maWxlcycgLCAxNiAsIE8wME8wMDAgLCBPME9PTyAsICcnICwgJycgLCAnJyAsICcnICkKICBpZiBPb28gLiBnZXRTZXR0aW5nICggInNlYXJjaG90aGVycGx1Z2lucyIgKSA9PSAidHJ1ZSIgOgogICBvbzBPT08wTyAoICdTZWFyY2ggT3RoZXIgUGx1Z2lucycgLCAnU2VhcmNoIFBsdWdpbnMnICwgMjUgLCBPMDBPMDAwICwgTzBPT08gLCAnJyAsICcnICwgJycgLCAnJyApCiAgaWYgb3MgLiBwYXRoIC4gZXhpc3RzICggaUlpMTFpSTFpaTFJICkgPT0gVHJ1ZSA6CiAgIGlpMWkxaTEgPSBqc29uIC4gbG9hZHMgKCBvcGVuICggaUlpMTFpSTFpaTFJICwgInIiICkgLiByZWFkICggKSApCiAgIGlmIDEzIC0gMTM6IGlpSSArIG9PMG8wIC0gTzAwMDAwME8gLyBJMSAlIE8wME8gLyBvTzBvMAogICBpZiBsZW4gKCBpaTFpMWkxICkgPiAxIDoKICAgIGZvciBPT28wb09PT08wIGluIGlpMWkxaTEgOgogICAgIHRyeSA6CiAgICAgIGlmIDcgLSA3OiBpSUlJMSAlIGlpSSAqIGlpSWkxSWlJCiAgICAgIGlmIGlzaW5zdGFuY2UgKCBPT28wb09PT08wICwgbGlzdCApIDoKICAgICAgIG9vME9PTzBPICggT09vMG9PT09PMCBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIE9PbzBvT09PTzAgWyAxIF0gLiBlbmNvZGUgKCAndXRmLTgnICkgLCAxICwgTzAwTzAwMCAsIE8wT09PICwgJycgLCAnJyAsICcnICwgJycgLCAnc291cmNlJyApCiAgICAgIGVsc2UgOgogICAgICAgb08gPSBPMDBPMDAwCiAgICAgICBvb28wb29Pb08wT28gPSBPME9PTwogICAgICAgSUlJaTExID0gJycKICAgICAgIElpaTEgPSAnJwogICAgICAgSWlJSWkxSTFJaSA9ICcnCiAgICAgICBvbzAgPSAnJwogICAgICAgaWYgT09vMG9PT09PMCAuIGhhc19rZXkgKCAndGh1bWJuYWlsJyApIDoKICAgICAgICBvTyA9IE9PbzBvT09PTzAgWyAndGh1bWJuYWlsJyBdCiAgICAgICBpZiBPT28wb09PT08wIC4gaGFzX2tleSAoICdmYW5hcnQnICkgOgogICAgICAgIG9vbzBvb09vTzBPbyA9IE9PbzBvT09PTzAgWyAnZmFuYXJ0JyBdCiAgICAgICBpZiBPT28wb09PT08wIC4gaGFzX2tleSAoICdkZXNjcmlwdGlvbicgKSA6CiAgICAgICAgSUlJaTExID0gT09vMG9PT09PMCBbICdkZXNjcmlwdGlvbicgXQogICAgICAgaWYgT09vMG9PT09PMCAuIGhhc19rZXkgKCAnZGF0ZScgKSA6CiAgICAgICAgSWlpMSA9IE9PbzBvT09PTzAgWyAnZGF0ZScgXQogICAgICAgaWYgT09vMG9PT09PMCAuIGhhc19rZXkgKCAnZ2VucmUnICkgOgogICAgICAgIG9vMCA9IE9PbzBvT09PTzAgWyAnZ2VucmUnIF0KICAgICAgIGlmIE9PbzBvT09PTzAgLiBoYXNfa2V5ICggJ2NyZWRpdHMnICkgOgogICAgICAgIElpSUlpMUkxSWkgPSBPT28wb09PT08wIFsgJ2NyZWRpdHMnIF0KICAgICAgIG9vME9PTzBPICggT09vMG9PT09PMCBbICd0aXRsZScgXSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIE9PbzBvT09PTzAgWyAndXJsJyBdIC4gZW5jb2RlICggJ3V0Zi04JyApICwgMSAsIG9PICwgb29vMG9vT29PME9vICwgSUlJaTExICwgb28wICwgSWlpMSAsIElpSUlpMUkxSWkgLCAnc291cmNlJyApCiAgICAgZXhjZXB0IDogdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggKQogICBlbHNlIDoKICAgIGlmIGxlbiAoIGlpMWkxaTEgKSA9PSAxIDoKICAgICBpZiBpc2luc3RhbmNlICggaWkxaTFpMSBbIDAgXSAsIGxpc3QgKSA6CiAgICAgIE8wICggaWkxaTFpMSBbIDAgXSBbIDEgXSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIE8wT09PICkKICAgICBlbHNlIDoKICAgICAgTzAgKCBpaTFpMWkxIFsgMCBdIFsgJ3VybCcgXSAsIGlpMWkxaTEgWyAwIF0gWyAnZmFuYXJ0JyBdICkKIGV4Y2VwdCA6IHRyYWNlYmFjayAuIHByaW50X2V4YyAoICkKIGlmIDQzIC0gNDM6IGkxMUlpSTFJSSAuIGlpSSAlIG9PTyAtIGkxMUlpSTFJSSArIEkxSUkKZGVmIGlpSUkxICggdXJsID0gTm9uZSApIDoKIGlmIHVybCBpcyBOb25lIDoKICBpZiBub3QgT29vIC4gZ2V0U2V0dGluZyAoICJuZXdfZmlsZV9zb3VyY2UiICkgPT0gIiIgOgogICBvTzBvT09PT09vMCA9IE9vbyAuIGdldFNldHRpbmcgKCAnbmV3X2ZpbGVfc291cmNlJyApIC4gZGVjb2RlICggJ3V0Zi04JyApCiAgZWxpZiBub3QgT29vIC4gZ2V0U2V0dGluZyAoICJuZXdfdXJsX3NvdXJjZSIgKSA9PSAiIiA6CiAgIG9PMG9PT09PT28wID0gT29vIC4gZ2V0U2V0dGluZyAoICduZXdfdXJsX3NvdXJjZScgKSAuIGRlY29kZSAoICd1dGYtOCcgKQogZWxzZSA6CiAgb08wb09PT09PbzAgPSB1cmwKIGlmIG9PMG9PT09PT28wID09ICcnIG9yIG9PMG9PT09PT28wIGlzIE5vbmUgOgogIHJldHVybgogaTFJaWlJSSAoICdBZGRpbmcgTmV3IFNvdXJjZTogJyArIG9PMG9PT09PT28wIC4gZW5jb2RlICggJ3V0Zi04JyApICkKIGlmIDEwIC0gMTA6IElJSUkKIGlpaTFpSUlJMTExMUkgPSBOb25lCiBpZiAyMiAtIDIyOiBPMDBPIC8gTzAwMDAwME8KIG8wT29PMG8gPSBJSWlJMTEgKCBvTzBvT09PT09vMCApCiBpZiAxNiAtIDE2OiBvTzAwb29vMG8wT08gJSBJMUlJSTFpSTFpaWlJaUkxICogTzAwTyAqIGlpSWkxSWlJCiBpZiBpc2luc3RhbmNlICggbzBPb08wbyAsIEJlYXV0aWZ1bFNPQVAgKSA6CiAgaWYgbzBPb08wbyAuIGZpbmQgKCAnY2hhbm5lbHNfaW5mbycgKSA6CiAgIGlpaTFpSUlJMTExMUkgPSBvME9vTzBvIC4gY2hhbm5lbHNfaW5mbwogIGVsaWYgbzBPb08wbyAuIGZpbmQgKCAnaXRlbXNfaW5mbycgKSA6CiAgIGlpaTFpSUlJMTExMUkgPSBvME9vTzBvIC4gaXRlbXNfaW5mbwogaWYgaWlpMWlJSUkxMTExSSA6CiAgSWkxID0geyB9CiAgSWkxIFsgJ3VybCcgXSA9IG9PMG9PT09PT28wCiAgdHJ5IDogSWkxIFsgJ3RpdGxlJyBdID0gaWlpMWlJSUkxMTExSSAuIHRpdGxlIC4gc3RyaW5nCiAgZXhjZXB0IDogcGFzcwogIHRyeSA6IElpMSBbICd0aHVtYm5haWwnIF0gPSBpaWkxaUlJSTExMTFJIC4gdGh1bWJuYWlsIC4gc3RyaW5nCiAgZXhjZXB0IDogcGFzcwogIHRyeSA6IElpMSBbICdmYW5hcnQnIF0gPSBpaWkxaUlJSTExMTFJIC4gZmFuYXJ0IC4gc3RyaW5nCiAgZXhjZXB0IDogcGFzcwogIHRyeSA6IElpMSBbICdnZW5yZScgXSA9IGlpaTFpSUlJMTExMUkgLiBnZW5yZSAuIHN0cmluZwogIGV4Y2VwdCA6IHBhc3MKICB0cnkgOiBJaTEgWyAnZGVzY3JpcHRpb24nIF0gPSBpaWkxaUlJSTExMTFJIC4gZGVzY3JpcHRpb24gLiBzdHJpbmcKICBleGNlcHQgOiBwYXNzCiAgdHJ5IDogSWkxIFsgJ2RhdGUnIF0gPSBpaWkxaUlJSTExMTFJIC4gZGF0ZSAuIHN0cmluZwogIGV4Y2VwdCA6IHBhc3MKICB0cnkgOiBJaTEgWyAnY3JlZGl0cycgXSA9IGlpaTFpSUlJMTExMUkgLiBjcmVkaXRzIC4gc3RyaW5nCiAgZXhjZXB0IDogcGFzcwogZWxzZSA6CiAgaWYgJy8nIGluIG9PMG9PT09PT28wIDoKICAgT08wME8wT09PMG8gPSBvTzBvT09PT09vMCAuIHNwbGl0ICggJy8nICkgWyAtIDEgXSAuIHNwbGl0ICggJy4nICkgWyAwIF0KICBpZiAnXFwnIGluIG9PMG9PT09PT28wIDoKICAgT08wME8wT09PMG8gPSBvTzBvT09PT09vMCAuIHNwbGl0ICggJ1xcJyApIFsgLSAxIF0gLiBzcGxpdCAoICcuJyApIFsgMCBdCiAgaWYgJyUnIGluIE9PMDBPME9PTzBvIDoKICAgT08wME8wT09PMG8gPSB1cmxsaWIgLiB1bnF1b3RlX3BsdXMgKCBPTzAwTzBPT08wbyApCiAgaWlpSUlJaUkgPSB4Ym1jIC4gS2V5Ym9hcmQgKCBPTzAwTzBPT08wbyAsICdEaXNwbGF5ZWQgTmFtZSwgUmVuYW1lPycgKQogIGlpaUlJSWlJIC4gZG9Nb2RhbCAoICkKICBpZiAoIGlpaUlJSWlJIC4gaXNDb25maXJtZWQgKCApID09IEZhbHNlICkgOgogICByZXR1cm4KICBJaWlJMTFpaWkgPSBpaWlJSUlpSSAuIGdldFRleHQgKCApCiAgaWYgbGVuICggSWlpSTExaWlpICkgPT0gMCA6CiAgIHJldHVybgogIElpMSA9IHsgfQogIElpMSBbICd0aXRsZScgXSA9IElpaUkxMWlpaQogIElpMSBbICd1cmwnIF0gPSBvTzBvT09PT09vMAogIElpMSBbICdmYW5hcnQnIF0gPSBvb28wb29Pb08wT28KICBpZiA3OCAtIDc4OiBvTzAwb29vMG8wT08gKyBPT08gLSBvT08KIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIGlJaTExaUkxaWkxSSApID09IEZhbHNlIDoKICBJaWlJaTExaUlJSTEgPSBbIF0KICBJaWlJaTExaUlJSTEgLiBhcHBlbmQgKCBJaTEgKQogIEkxaUlJMTFpaTFpaWkgPSBvcGVuICggaUlpMTFpSTFpaTFJICwgInciICkKICBJMWlJSTExaWkxaWlpIC4gd3JpdGUgKCBqc29uIC4gZHVtcHMgKCBJaWlJaTExaUlJSTEgKSApCiAgSTFpSUkxMWlpMWlpaSAuIGNsb3NlICggKQogZWxzZSA6CiAgaWkxaTFpMSA9IGpzb24gLiBsb2FkcyAoIG9wZW4gKCBpSWkxMWlJMWlpMUkgLCAiciIgKSAuIHJlYWQgKCApICkKICBpaTFpMWkxIC4gYXBwZW5kICggSWkxICkKICBJMWlJSTExaWkxaWlpID0gb3BlbiAoIGlJaTExaUkxaWkxSSAsICJ3IiApCiAgSTFpSUkxMWlpMWlpaSAuIHdyaXRlICgganNvbiAuIGR1bXBzICggaWkxaTFpMSApICkKICBJMWlJSTExaWkxaWlpIC4gY2xvc2UgKCApCiBPb28gLiBzZXRTZXR0aW5nICggJ25ld191cmxfc291cmNlJyAsICIiICkKIE9vbyAuIHNldFNldHRpbmcgKCAnbmV3X2ZpbGVfc291cmNlJyAsICIiICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLk5vdGlmaWNhdGlvbihDYXRvYWwsTmV3IHNvdXJjZSBhZGRlZC4sNTAwMCwiICsgTzAwTzAwMCArICIpIiApCiBpZiBub3QgdXJsIGlzIE5vbmUgOgogIGlmICd4Ym1jcGx1cy54Yi5mdW5waWMuZGUnIGluIHVybCA6CiAgIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5VcGRhdGUoJXM/bW9kZT0xNCxyZXBsYWNlKSIgJSBzeXMgLiBhcmd2IFsgMCBdICkKICBlbGlmICdjb21tdW5pdHktbGlua3MnIGluIHVybCA6CiAgIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5VcGRhdGUoJXM/bW9kZT0xMCxyZXBsYWNlKSIgJSBzeXMgLiBhcmd2IFsgMCBdICkKIGVsc2UgOiBPb28gLiBvcGVuU2V0dGluZ3MgKCApCiBpZiAzNSAtIDM1OiBPT08gLyBpMTFJaUkxSUkgKyBpMTFJaUkxSUkgLSBPMDAwMDAwTyAlIE8wME8gLiBpaUlJaTFpMUlpaQpkZWYgaUlpMTEgKCBuYW1lICkgOgogaWkxaTFpMSA9IGpzb24gLiBsb2FkcyAoIG9wZW4gKCBpSWkxMWlJMWlpMUkgLCAiciIgKSAuIHJlYWQgKCApICkKIGZvciBJSTExSWkgaW4gcmFuZ2UgKCBsZW4gKCBpaTFpMWkxICkgKSA6CiAgaWYgaXNpbnN0YW5jZSAoIGlpMWkxaTEgWyBJSTExSWkgXSAsIGxpc3QgKSA6CiAgIGlmIGlpMWkxaTEgWyBJSTExSWkgXSBbIDAgXSA9PSBuYW1lIDoKICAgIGRlbCBpaTFpMWkxIFsgSUkxMUlpIF0KICAgIEkxaUlJMTFpaTFpaWkgPSBvcGVuICggaUlpMTFpSTFpaTFJICwgInciICkKICAgIEkxaUlJMTFpaTFpaWkgLiB3cml0ZSAoIGpzb24gLiBkdW1wcyAoIGlpMWkxaTEgKSApCiAgICBJMWlJSTExaWkxaWlpIC4gY2xvc2UgKCApCiAgICBicmVhawogIGVsc2UgOgogICBpZiBpaTFpMWkxIFsgSUkxMUlpIF0gWyAndGl0bGUnIF0gPT0gbmFtZSA6CiAgICBkZWwgaWkxaTFpMSBbIElJMTFJaSBdCiAgICBJMWlJSTExaWkxaWlpID0gb3BlbiAoIGlJaTExaUkxaWkxSSAsICJ3IiApCiAgICBJMWlJSTExaWkxaWlpIC4gd3JpdGUgKCBqc29uIC4gZHVtcHMgKCBpaTFpMWkxICkgKQogICAgSTFpSUkxMWlpMWlpaSAuIGNsb3NlICggKQogICAgYnJlYWsKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5SZWZyZXNoIiApCiBpZiA1MSAtIDUxOiBJaSAvIG9PTyAqIG9PTyAlIElJICUgSTEgKiBJSQpkZWYgaTFJMTExMTEgKCB1cmwgLCBicm93c2UgPSBGYWxzZSApIDoKIGlmIHVybCBpcyBOb25lIDoKICB1cmwgPSAnaHR0cDovL3hibWNwbHVzLnhiLmZ1bnBpYy5kZS93d3ctZGF0YS9maWxlc3lzdGVtLycKIE8wT29PbyA9IEJlYXV0aWZ1bFNvdXAgKCBJaTFJaWkxSTFpMWkgKCB1cmwgKSAsIGNvbnZlcnRFbnRpdGllcyA9IEJlYXV0aWZ1bFNvdXAgLiBIVE1MX0VOVElUSUVTICkKIGZvciBPT28wb09PT08wIGluIE8wT29PbyAoICdhJyApIDoKICBPb09PME9PMG8wTyA9IE9PbzBvT09PTzAgWyAnaHJlZicgXQogIGlmIG5vdCBPb09PME9PMG8wTyAuIHN0YXJ0c3dpdGggKCAnPycgKSA6CiAgIElJaWlJSTExMWkgPSBPT28wb09PT08wIC4gc3RyaW5nCiAgIGlmIElJaWlJSTExMWkgbm90IGluIFsgJ1BhcmVudCBEaXJlY3RvcnknICwgJ3JlY3ljbGVfYmluLycgXSA6CiAgICBpZiBPb09PME9PMG8wTyAuIGVuZHN3aXRoICggJy8nICkgOgogICAgIGlmIGJyb3dzZSA6CiAgICAgIG9vME9PTzBPICggSUlpaUlJMTExaSAsIHVybCArIE9vT08wT08wbzBPICwgMTUgLCBPMDBPMDAwICwgb29vMG9vT29PME9vICwgJycgLCAnJyAsICcnICkKICAgICBlbHNlIDoKICAgICAgb28wT09PME8gKCBJSWlpSUkxMTFpICwgdXJsICsgT29PTzBPTzBvME8gLCAxNCAsIE8wME8wMDAgLCBvb28wb29Pb08wT28gLCAnJyAsICcnICwgJycgKQogICAgZWxpZiBPb09PME9PMG8wTyAuIGVuZHN3aXRoICggJy54bWwnICkgOgogICAgIGlmIGJyb3dzZSA6CiAgICAgIG9vME9PTzBPICggSUlpaUlJMTExaSAsIHVybCArIE9vT08wT08wbzBPICwgMSAsIE8wME8wMDAgLCBvb28wb29Pb08wT28gLCAnJyAsICcnICwgJycgLCAnJyAsICdkb3dubG9hZCcgKQogICAgIGVsc2UgOgogICAgICBpZiBvcyAuIHBhdGggLiBleGlzdHMgKCBpSWkxMWlJMWlpMUkgKSA9PSBUcnVlIDoKICAgICAgIGlmIElJaWlJSTExMWkgaW4gaUkxaUlJMWkxaUkgOgogICAgICAgIG9vME9PTzBPICggSUlpaUlJMTExaSArICcgKGluIHVzZSknICwgdXJsICsgT29PTzBPTzBvME8gLCAxMSAsIE8wME8wMDAgLCBvb28wb29Pb08wT28gLCAnJyAsICcnICwgJycgLCAnJyAsICdkb3dubG9hZCcgKQogICAgICAgZWxzZSA6CiAgICAgICAgb28wT09PME8gKCBJSWlpSUkxMTFpICwgdXJsICsgT29PTzBPTzBvME8gLCAxMSAsIE8wME8wMDAgLCBvb28wb29Pb08wT28gLCAnJyAsICcnICwgJycgLCAnJyAsICdkb3dubG9hZCcgKQogICAgICBlbHNlIDoKICAgICAgIG9vME9PTzBPICggSUlpaUlJMTExaSAsIHVybCArIE9vT08wT08wbzBPICwgMTEgLCBPMDBPMDAwICwgb29vMG9vT29PME9vICwgJycgLCAnJyAsICcnICwgJycgLCAnZG93bmxvYWQnICkKICAgICAgIGlmIDExIC0gMTE6IE8wMDAwMDBPCiAgICAgICBpZiAyMyAtIDIzOiBpMTFJaUkxSUkgKiBPT08gJSBJaWlJSWlJSSAuIEkxSUlJMWlJMWlpaUlpSTEKZGVmIElpMUlpMTFpMSAoIGJyb3dzZSA9IEZhbHNlICkgOgogb29Pb09PMDBPT29vMCA9ICdodHRwOi8vY29tbXVuaXR5LWxpbmtzLmdvb2dsZWNvZGUuY29tL3N2bi90cnVuay8nCiBPME9vT28gPSBCZWF1dGlmdWxTb3VwICggSWkxSWlpMUkxaTFpICggb29Pb09PMDBPT29vMCApICwgY29udmVydEVudGl0aWVzID0gQmVhdXRpZnVsU291cCAuIEhUTUxfRU5USVRJRVMgKQogaTExaTExaTFJMWkgPSBPME9vT28gKCAndWwnICkgWyAwIF0gKCAnbGknICkgWyAxIDogXQogZm9yIE9PbzBvT09PTzAgaW4gaTExaTExaTFJMWkgOgogIElJaWlJSTExMWkgPSBPT28wb09PT08wICggJ2EnICkgWyAwIF0gWyAnaHJlZicgXQogIGlmIGJyb3dzZSA6CiAgIG9vME9PTzBPICggSUlpaUlJMTExaSAsIG9vT29PTzAwT09vbzAgKyBJSWlpSUkxMTFpICwgMSAsIE8wME8wMDAgLCBvb28wb29Pb08wT28gLCAnJyAsICcnICwgJycgLCAnJyAsICdkb3dubG9hZCcgKQogIGVsc2UgOgogICBvbzBPT08wTyAoIElJaWlJSTExMWkgLCBvb09vT08wME9Pb28wICsgSUlpaUlJMTExaSAsIDExICwgTzAwTzAwMCAsIG9vbzBvb09vTzBPbyAsICcnICwgJycgLCAnJyAsICcnICwgJ2Rvd25sb2FkJyApCiAgIGlmIDU0IC0gNTQ6IGlpSQpkZWYgSUlpSTExICggdXJsICwgZGF0YSA9IE5vbmUgKSA6CiBnbG9iYWwgT08wME9vTyAsIElpaWkxaUkgLCBPbzAwMG9PMG9vCiBJaWlpMWlJID0gRmFsc2UKIE9vMDAwb08wb28gPSBGYWxzZQogaWYgdXJsIC4gc3RhcnRzd2l0aCAoICdodHRwOi8vJyApIG9yIHVybCAuIHN0YXJ0c3dpdGggKCAnaHR0cHM6Ly8nICkgOgogIE9vT28wTzBPTzAwTyA9IEZhbHNlCiAgaWYgJyQkVFNET1dOTE9BREVSJCQnIGluIHVybCA6CiAgIElpaWkxaUkgPSBUcnVlCiAgIHVybCA9IHVybCAuIHJlcGxhY2UgKCAiJCRUU0RPV05MT0FERVIkJCIgLCAiIiApCiAgaWYgJyQkSExTUkVUUlkkJCcgaW4gdXJsIDoKICAgT28wMDBvTzBvbyA9IFRydWUKICAgdXJsID0gdXJsIC4gcmVwbGFjZSAoICIkJEhMU1JFVFJZJCQiICwgIiIgKQogIGlmICckJExTUHJvRW5jS2V5PScgaW4gdXJsIDoKICAgT29PbzBPME9PMDBPID0gdXJsIC4gc3BsaXQgKCAnJCRMU1Byb0VuY0tleT0nICkgWyAxIF0gLiBzcGxpdCAoICckJCcgKSBbIDAgXQogICBvMDAwID0gJyQkTFNQcm9FbmNLZXk9JXMkJCcgJSBPb09vME8wT08wME8KICAgdXJsID0gdXJsIC4gcmVwbGFjZSAoIG8wMDAgLCAiIiApCiAgIGlmIDk1IC0gOTU6IGlpSUlpMWkxSWlpIC0gSUkgLyBpaUlJaTFpMUlpaSAuIGlpSWkxSWlJICogb08wbzAgKyBvTzAwb29vMG8wT08KICBkYXRhID0gSWkxSWlpMUkxaTFpICggdXJsICkKICBpZiBPb09vME8wT08wME8gOgogICBpbXBvcnQgcHlhZXMKICAgT29PbzBPME9PMDBPID0gT29PbzBPME9PMDBPIC4gZW5jb2RlICggImFzY2lpIiApCiAgIHByaW50IE9vT28wTzBPTzAwTwogICBPb09PID0gMTYgLSBsZW4gKCBPb09vME8wT08wME8gKQogICBPb09vME8wT08wME8gPSBPb09vME8wT08wME8gKyAoIGNociAoIDAgKSAqICggT29PTyApICkKICAgcHJpbnQgcmVwciAoIE9vT28wTzBPTzAwTyApCiAgIGRhdGEgPSBiYXNlNjQgLiBiNjRkZWNvZGUgKCBkYXRhICkKICAgT09PME9vbzAgPSBweWFlcyAuIG5ldyAoIE9vT28wTzBPTzAwTyAsIHB5YWVzIC4gTU9ERV9FQ0IgLCBJViA9IE5vbmUgKQogICBkYXRhID0gT09PME9vbzAgLiBkZWNyeXB0ICggZGF0YSApIC4gc3BsaXQgKCAnXDAnICkgWyAwIF0KICAgaWYgMjUgLSAyNTogb09PIC0gTzAwMDAwME8gKyBJMUlJSTFpSTFpaWlJaUkxIC0gb08wbzAgLSBJMUlJSTFpSTFpaWlJaUkxICogb08wbzAKICBpZiByZSAuIHNlYXJjaCAoICIjRVhUTTNVIiAsIGRhdGEgKSBvciAnbTN1JyBpbiB1cmwgOgogICBpZiAzMiAtIDMyOiBpMTFJaUkxSUkgKiBJaSAuIGlpSUlpMWkxSWlpICsgSUlJSSArIElJSUkKICAgcmV0dXJuIGRhdGEKIGVsaWYgZGF0YSA9PSBOb25lIDoKICBpZiBub3QgJy8nIGluIHVybCBvciBub3QgJ1xcJyBpbiB1cmwgOgogICBpZiA3MyAtIDczOiBJMUlJCiAgIHVybCA9IG9zIC4gcGF0aCAuIGpvaW4gKCBvb29PMCAsIHVybCApCiAgaWYgeGJtY3ZmcyAuIGV4aXN0cyAoIHVybCApIDoKICAgaWYgdXJsIC4gc3RhcnRzd2l0aCAoICJzbWI6Ly8iICkgb3IgdXJsIC4gc3RhcnRzd2l0aCAoICJuZnM6Ly8iICkgOgogICAgY29weSA9IHhibWN2ZnMgLiBjb3B5ICggdXJsICwgb3MgLiBwYXRoIC4gam9pbiAoIEkxMTFpMTFJMUkgLCAndGVtcCcgLCAnc29yY2VfdGVtcC50eHQnICkgKQogICAgaWYgY29weSA6CiAgICAgZGF0YSA9IG9wZW4gKCBvcyAuIHBhdGggLiBqb2luICggSTExMWkxMUkxSSAsICd0ZW1wJyAsICdzb3JjZV90ZW1wLnR4dCcgKSAsICJyIiApIC4gcmVhZCAoICkKICAgICB4Ym1jdmZzIC4gZGVsZXRlICggb3MgLiBwYXRoIC4gam9pbiAoIEkxMTFpMTFJMUkgLCAndGVtcCcgLCAnc29yY2VfdGVtcC50eHQnICkgKQogICAgZWxzZSA6CiAgICAgaTFJaWlJSSAoICJmYWlsZWQgdG8gY29weSBmcm9tIHNtYjoiICkKICAgZWxzZSA6CiAgICBkYXRhID0gb3BlbiAoIHVybCAsICdyJyApIC4gcmVhZCAoICkKICAgIGlmIHJlIC4gbWF0Y2ggKCAiI0VYVE0zVSIgLCBkYXRhICkgb3IgJ20zdScgaW4gdXJsIDoKICAgICBpZiA2MiAtIDYyOiBJaSAuIEkxSUkKICAgICByZXR1cm4gZGF0YQogIGVsc2UgOgogICBpMUlpaUlJICggIlNvdXAgRGF0YSBub3QgZm91bmQhIiApCiAgIHJldHVybgogaWYgJzxTZXRWaWV3TW9kZT4nIGluIGRhdGEgOgogIHRyeSA6CiAgIE9PMDBPb08gPSByZSAuIGZpbmRhbGwgKCAnPFNldFZpZXdNb2RlPiguKj8pPCcgLCBkYXRhICkgWyAwIF0KICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSglcykiICUgT08wME9vTyApCiAgIHByaW50ICdkb25lIHNldHZpZXcnICwgT08wME9vTwogIGV4Y2VwdCA6IHBhc3MKIHJldHVybiBCZWF1dGlmdWxTT0FQICggZGF0YSAsIGNvbnZlcnRFbnRpdGllcyA9IEJlYXV0aWZ1bFN0b25lU291cCAuIFhNTF9FTlRJVElFUyApCiBpZiAxMCAtIDEwOiBJSUlJCmRlZiBvb29PT09Pb08gKCBkYXRhICkgOgogdHJ5IDoKICBpZiBkYXRhIGFuZCBsZW4gKCBkYXRhICkgPiAwIGFuZCBkYXRhIC4gc3RhcnRzd2l0aCAoICckcHlGdW5jdGlvbjonICkgOgogICBkYXRhID0gT29PbzBPTzBvICggZGF0YSAuIHNwbGl0ICggJyRweUZ1bmN0aW9uOicgKSBbIDEgXSAsICcnICwgTm9uZSAsIE5vbmUgKQogZXhjZXB0IDogcGFzcwogaWYgNDYgLSA0NjogaWlJaTFJaUkgLyBJMSAuIEkxSUkgLyBJMQogcmV0dXJuIGRhdGEKIGlmIDYzIC0gNjM6IG9PMG8wCmRlZiBPMCAoIHVybCAsIGZhbmFydCAsIGRhdGEgPSBOb25lICkgOgogaW1wb3J0IGNoZWNrYmFkCiBjaGVja2JhZCAuIGRvX2Jsb2NrX2NoZWNrICggRmFsc2UgKQogTzBPb09vID0gSUlpSTExICggdXJsICwgZGF0YSApCiBpZiAxMSAtIDExOiBJaWlJSWlJSSArIElJIC4gSTFJSUkxaUkxaWlpSWlJMSAvIElJICsgSTEgJSBPMDBPCiBpZiBpc2luc3RhbmNlICggTzBPb09vICwgQmVhdXRpZnVsU09BUCApIDoKICBpZiAyOSAtIDI5OiBJSUlJIC4gTzAwMDAwME8gLiBPMDAwMDAwTyAlIGlpSSArIGlJSUkxIC0gaUlJSTEKICBpZiBsZW4gKCBPME9vT28gKCAnY2hhbm5lbHMnICkgKSA+IDAgYW5kIE9vbyAuIGdldFNldHRpbmcgKCAnZG9ub3RzaG93YnljaGFubmVscycgKSA9PSAnZmFsc2UnIDoKICAgb29PTyA9IE8wT29PbyAoICdjaGFubmVsJyApCiAgIGZvciBvT08wb29vbyBpbiBvb09PIDoKICAgIGlmIDQ2IC0gNDY6IGlpSWkxSWlJIC4gaWlJSWkxaTFJaWkgLiBJSQogICAgaWYgOTAgLSA5MDogaTExSWkgJSBPMDBPIC4gSUkgLiBPMDAwMDAwTyAtIGlpSUlpMWkxSWlpICUgTzAwTwogICAgaUlJSTExaSA9ICcnCiAgICBvMG8wb08wb08gPSAwCiAgICB0cnkgOgogICAgIGlJSUkxMWkgPSBvT08wb29vbyAoICdleHRlcm5hbGxpbmsnICkgWyAwIF0gLiBzdHJpbmcKICAgICBvMG8wb08wb08gPSBsZW4gKCBvT08wb29vbyAoICdleHRlcm5hbGxpbmsnICkgKQogICAgZXhjZXB0IDogcGFzcwogICAgaWYgOSAtIDk6IG9PMDBvb28wbzBPTyAuIEkxICogaTExSWkgLyBpaUlpMUlpSSAqIG9PMDBvb28wbzBPTwogICAgaWYgbzBvMG9PMG9PID4gMSA6IGlJSUkxMWkgPSAnJwogICAgaWYgNjIgLSA2Mjogb08wbzAgLyBpMTFJaUkxSUkgLyBvT08gKyBpaUlpMUlpSSAlIE8wME8KICAgIElJaWlJSTExMWkgPSBvT08wb29vbyAoICduYW1lJyApIFsgMCBdIC4gc3RyaW5nCiAgICB0cnkgOgogICAgIElJaWlJSTExMWkgPSBvb29PT09Pb08gKCBJSWlpSUkxMTFpICkKICAgIGV4Y2VwdCA6IHBhc3MKICAgIE8wbyA9IG9PTzBvb29vICggJ3RodW1ibmFpbCcgKSBbIDAgXSAuIHN0cmluZwogICAgaWYgTzBvID09IE5vbmUgOgogICAgIE8wbyA9ICcnCiAgICBPMG8gPSBvb29PT09Pb08gKCBPMG8gKQogICAgdHJ5IDoKICAgICBpZiBub3Qgb09PMG9vb28gKCAnZmFuYXJ0JyApIDoKICAgICAgaWYgT29vIC4gZ2V0U2V0dGluZyAoICd1c2VfdGh1bWInICkgPT0gInRydWUiIDoKICAgICAgIElpMUkxaTFpSUkgPSBPMG8KICAgICAgZWxzZSA6CiAgICAgICBJaTFJMWkxaUlJID0gZmFuYXJ0CiAgICAgZWxzZSA6CiAgICAgIElpMUkxaTFpSUkgPSBvT08wb29vbyAoICdmYW5hcnQnICkgWyAwIF0gLiBzdHJpbmcKICAgICBpZiBJaTFJMWkxaUlJID09IE5vbmUgOgogICAgICByYWlzZQogICAgZXhjZXB0IDoKICAgICBJaTFJMWkxaUlJID0gZmFuYXJ0CiAgICAgaWYgMzAgLSAzMDogaWlJaTFJaUkgKyBpMTFJaUkxSUkgLyBvTzBvMAogICAgdHJ5IDoKICAgICBJSUlpMTEgPSBvT08wb29vbyAoICdpbmZvJyApIFsgMCBdIC4gc3RyaW5nCiAgICAgaWYgSUlJaTExID09IE5vbmUgOgogICAgICByYWlzZQogICAgZXhjZXB0IDoKICAgICBJSUlpMTEgPSAnJwogICAgIGlmIDkwIC0gOTA6IEkxSUlJMWlJMWlpaUlpSTEgKiBJMUlJSTFpSTFpaWlJaUkxICUgaTExSWkKICAgIHRyeSA6CiAgICAgb28wID0gb09PMG9vb28gKCAnZ2VucmUnICkgWyAwIF0gLiBzdHJpbmcKICAgICBpZiBvbzAgPT0gTm9uZSA6CiAgICAgIHJhaXNlCiAgICBleGNlcHQgOgogICAgIG9vMCA9ICcnCiAgICAgaWYgODYgLSA4NjogSTFJSSAuIE8wME8gLSBPT08gLSBJSUlJCiAgICB0cnkgOgogICAgIElpaTEgPSBvT08wb29vbyAoICdkYXRlJyApIFsgMCBdIC4gc3RyaW5nCiAgICAgaWYgSWlpMSA9PSBOb25lIDoKICAgICAgcmFpc2UKICAgIGV4Y2VwdCA6CiAgICAgSWlpMSA9ICcnCiAgICAgaWYgNzUgLSA3NTogb08wbzAgKyBJSW9vb08wb29PMG9vCiAgICB0cnkgOgogICAgIElpSUlpMUkxSWkgPSBvT08wb29vbyAoICdjcmVkaXRzJyApIFsgMCBdIC4gc3RyaW5nCiAgICAgaWYgSWlJSWkxSTFJaSA9PSBOb25lIDoKICAgICAgcmFpc2UKICAgIGV4Y2VwdCA6CiAgICAgSWlJSWkxSTFJaSA9ICcnCiAgICAgaWYgMTkgLSAxOTogSUlJSSAtIEkxSUlJMWlJMWlpaUlpSTEgLiBpaUlpMUlpSQogICAgdHJ5IDoKICAgICBpZiBpSUlJMTFpID09ICcnIDoKICAgICAgb28wT09PME8gKCBJSWlpSUkxMTFpIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkgLCB1cmwgLiBlbmNvZGUgKCAndXRmLTgnICkgLCAyICwgTzBvICwgSWkxSTFpMWlJSSAsIElJSWkxMSAsIG9vMCAsIElpaTEgLCBJaUlJaTFJMUlpICwgVHJ1ZSApCiAgICAgZWxzZSA6CiAgICAgIGlmIDQ1IC0gNDU6IE9PTyAvIElJICsgSUkgKyBvTzAwb29vMG8wT08gJSBJSW9vb08wb29PMG9vICsgSTFJSUkxaUkxaWlpSWlJMQogICAgICBvbzBPT08wTyAoIElJaWlJSTExMWkgLiBlbmNvZGUgKCAndXRmLTgnICkgLCBpSUlJMTFpIC4gZW5jb2RlICggJ3V0Zi04JyApICwgMSAsIE8wbyAsIElpMUkxaTFpSUkgLCBJSUlpMTEgLCBvbzAgLCBJaWkxICwgTm9uZSAsICdzb3VyY2UnICkKICAgIGV4Y2VwdCA6CiAgICAgaTFJaWlJSSAoICdUaGVyZSB3YXMgYSBwcm9ibGVtIGFkZGluZyBkaXJlY3RvcnkgZnJvbSBnZXREYXRhKCk6ICcgKyBJSWlpSUkxMTFpIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkgKQogIGVsc2UgOgogICBpMUlpaUlJICggJ05vIENoYW5uZWxzOiBnZXRJdGVtcycgKQogICBpMWlJaUlpSWkgKCBPME9vT28gKCAnaXRlbScgKSAsIGZhbmFydCApCiBlbHNlIDoKICBvT29PMDBvMDAwb28gKCBPME9vT28gKQogIGlmIDYyIC0gNjI6IGlpSWkxSWlJIC0gSWkgLSBJSSAtIE9PTyArIGkxMUlpCiAgaWYgMzYgLSAzNjogaTExSWlJMUlJIC4gb08wbzAgJSBJMUlJSTFpSTFpaWlJaUkxICUgSUlJSSAlIE8wME8gKyBJaQpkZWYgb09vTzAwbzAwMG9vICggZGF0YSApIDoKIG9PT29PMDBPbyA9IGRhdGEgLiByc3RyaXAgKCApCiBvT09vID0gcmUgLiBjb21waWxlICggcicjRVhUSU5GOiguKz8pLCguKj8pW1xuXHJdKyhbXlxyXG5dKyknICkgLiBmaW5kYWxsICggb09Pb08wME9vICkKIE9PT2kxID0gbGVuICggb09PbyApCiBwcmludCAndHNkb3dubG9hZGVyJyAsIElpaWkxaUkKIGlmIDIxIC0gMjE6IG9PTwogZm9yIEkxSUkxSUlpaWkgLCBvb29vT09vMDAgLCBpMUlJMTFJMTExIGluIG9PT28gOgogIGlmIDQwIC0gNDA6IEkxSUlJMWlJMWlpaUlpSTEgKiBJSW9vb08wb29PMG9vIC8gSTFJSUkxaUkxaWlpSWlJMQogIGlmICd0dmctbG9nbycgaW4gSTFJSTFJSWlpaSA6CiAgIE8wbyA9IG9PMCAoIEkxSUkxSUlpaWkgLCAndHZnLWxvZ289W1wnIl0oLio/KVtcJyJdJyApCiAgIGlmIE8wbyA6CiAgICBpZiBPMG8gLiBzdGFydHN3aXRoICggJ2h0dHAnICkgOgogICAgIE8wbyA9IE8wbwogICAgIGlmIDIzIC0gMjM6IElpaUlJaUlJICUgSUkgLyBpMTFJaUkxSUkKICAgIGVsaWYgbm90IE9vbyAuIGdldFNldHRpbmcgKCAnbG9nby1mb2xkZXJQYXRoJyApID09ICIiIDoKICAgICBvT09vT29PT09vID0gT29vIC4gZ2V0U2V0dGluZyAoICdsb2dvLWZvbGRlclBhdGgnICkKICAgICBPMG8gPSBvT09vT29PT09vICsgTzBvCiAgICAgaWYgODggLSA4ODogb08wMG9vbzBvME9PICogaWlJICogSUlJSSArIGlpSQogICAgZWxzZSA6CiAgICAgTzBvID0gTzBvCiAgICAgaWYgNDIgLSA0Mjogb09PIC4gTzAwMDAwME8gJSBJSUlJICsgSTFJSUkxaUkxaWlpSWlJMQogICAgIGlmIDU3IC0gNTc6IE9PTyAqIGkxMUlpSTFJSSAqIEkxIC4gaUlJSTEgLSBJaQogIGVsc2UgOgogICBPMG8gPSAnJwogICBpZiA2IC0gNjogb08wMG9vbzBvME9PIC0gSTFJSUkxaUkxaWlpSWlJMSAlIGlJSUkxIC0gaWlJaTFJaUkgLyBpaUlpMUlpSSAuIGlpSUlpMWkxSWlpCiAgaWYgJ3R5cGUnIGluIEkxSUkxSUlpaWkgOgogICBPbzBvMCA9IG9PMCAoIEkxSUkxSUlpaWkgLCAndHlwZT1bXCciXSguKj8pW1wnIl0nICkKICAgaWYgT28wbzAgPT0gJ3l0LWRsJyA6CiAgICBpMUlJMTFJMTExID0gaTFJSTExSTExMSArICImbW9kZT0xOCIKICAgZWxpZiBPbzBvMCA9PSAncmVnZXgnIDoKICAgIG9vT29PTzAwT09vbzAgPSBpMUlJMTFJMTExIC4gc3BsaXQgKCAnJnJlZ2V4cz0nICkKICAgIGlmIDc2IC0gNzY6IGkxMUlpSTFJSQogICAgTzBPb08wb28wID0gaTFJSUkxMUkxaSAoIElJaUkxMSAoICcnICwgZGF0YSA9IG9vT29PTzAwT09vbzAgWyAxIF0gKSApCiAgICBpZiA4MyAtIDgzOiBJaSAuIElJSUkgKyBpaUlJaTFpMUlpaSAlIEkxSUlJMWlJMWlpaUlpSTEgJSBJSQogICAgaWkgKCBvb09vT08wME9Pb28wIFsgMCBdICwgb29vb09PbzAwICwgTzBvICwgJycgLCAnJyAsICcnICwgJycgLCAnJyAsIE5vbmUgLCBPME9vTzBvbzAgLCBPT09pMSApCiAgICBjb250aW51ZQogICBlbGlmIE9vMG8wID09ICdmdHYnIDoKICAgIGkxSUkxMUkxMTEgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLkYuVC5WLz9uYW1lPScgKyB1cmxsaWIgLiBxdW90ZSAoIG9vb29PT28wMCApICsgJyZ1cmw9JyArIGkxSUkxMUkxMTEgKyAnJm1vZGU9MTI1JmNoX2ZhbmFydD1uYScKICBlbGlmIElpaWkxaUkgYW5kICcudHMnIGluIGkxSUkxMUkxMTEgOgogICBpMUlJMTFJMTExID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby5mNG1UZXN0ZXIvP3VybD0nICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIGkxSUkxMUkxMTEgKSArICcmYW1wO3N0cmVhbXR5cGU9VFNET1dOTE9BREVSJm5hbWU9JyArIHVybGxpYiAuIHF1b3RlICggb29vb09PbzAwICkKICBlbGlmIE9vMDAwb08wb28gYW5kICcubTN1OCcgaW4gaTFJSTExSTExMSA6CiAgIGkxSUkxMUkxMTEgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLmY0bVRlc3Rlci8/dXJsPScgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggaTFJSTExSTExMSApICsgJyZhbXA7c3RyZWFtdHlwZT1ITFNSRVRSWSZuYW1lPScgKyB1cmxsaWIgLiBxdW90ZSAoIG9vb29PT28wMCApCiAgaWkgKCBpMUlJMTFJMTExICwgb29vb09PbzAwICwgTzBvICwgJycgLCAnJyAsICcnICwgJycgLCAnJyAsIE5vbmUgLCAnJyAsIE9PT2kxICkKZGVmIE8wTzAwb29vMDBPb28gKCBuYW1lICwgdXJsICwgZmFuYXJ0ICkgOgogTzBPb09vID0gSUlpSTExICggdXJsICkKIGkxSWkxMWlJID0gTzBPb09vIC4gZmluZCAoICdjaGFubmVsJyAsIGF0dHJzID0geyAnbmFtZScgOiBuYW1lIC4gZGVjb2RlICggJ3V0Zi04JyApIH0gKQogaXRlbXMgPSBpMUlpMTFpSSAoICdpdGVtJyApCiB0cnkgOgogIElpMUkxaTFpSUkgPSBpMUlpMTFpSSAoICdmYW5hcnQnICkgWyAwIF0gLiBzdHJpbmcKICBpZiBJaTFJMWkxaUlJID09IE5vbmUgOgogICByYWlzZQogZXhjZXB0IDoKICBJaTFJMWkxaUlJID0gZmFuYXJ0CiBmb3Igb09PMG9vb28gaW4gaTFJaTExaUkgKCAnc3ViY2hhbm5lbCcgKSA6CiAgbmFtZSA9IG9PTzBvb29vICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcKICB0cnkgOgogICBuYW1lID0gb29vT09PT29PICggbmFtZSApCiAgZXhjZXB0IDogcGFzcwogIHRyeSA6CiAgIE8wbyA9IG9PTzBvb29vICggJ3RodW1ibmFpbCcgKSBbIDAgXSAuIHN0cmluZwogICBpZiBPMG8gPT0gTm9uZSA6CiAgICByYWlzZQogICBPMG8gPSBvb29PT09Pb08gKCBPMG8gKQogIGV4Y2VwdCA6CiAgIE8wbyA9ICcnCiAgdHJ5IDoKICAgaWYgbm90IG9PTzBvb29vICggJ2ZhbmFydCcgKSA6CiAgICBpZiBPb28gLiBnZXRTZXR0aW5nICggJ3VzZV90aHVtYicgKSA9PSAidHJ1ZSIgOgogICAgIElpMUkxaTFpSUkgPSBPMG8KICAgZWxzZSA6CiAgICBJaTFJMWkxaUlJID0gb09PMG9vb28gKCAnZmFuYXJ0JyApIFsgMCBdIC4gc3RyaW5nCiAgIGlmIElpMUkxaTFpSUkgPT0gTm9uZSA6CiAgICByYWlzZQogIGV4Y2VwdCA6CiAgIHBhc3MKICB0cnkgOgogICBJSUlpMTEgPSBvT08wb29vbyAoICdpbmZvJyApIFsgMCBdIC4gc3RyaW5nCiAgIGlmIElJSWkxMSA9PSBOb25lIDoKICAgIHJhaXNlCiAgZXhjZXB0IDoKICAgSUlJaTExID0gJycKICAgaWYgNTEgLSA1MTogTzAwTyAuIElJSUkKICB0cnkgOgogICBvbzAgPSBvT08wb29vbyAoICdnZW5yZScgKSBbIDAgXSAuIHN0cmluZwogICBpZiBvbzAgPT0gTm9uZSA6CiAgICByYWlzZQogIGV4Y2VwdCA6CiAgIG9vMCA9ICcnCiAgIGlmIDgwIC0gODA6IElpIC0gb08wMG9vbzBvME9PICUgaUlJSTEgLyBpaUkgKiBpSUlJMSArIG9PMG8wCiAgdHJ5IDoKICAgSWlpMSA9IG9PTzBvb29vICggJ2RhdGUnICkgWyAwIF0gLiBzdHJpbmcKICAgaWYgSWlpMSA9PSBOb25lIDoKICAgIHJhaXNlCiAgZXhjZXB0IDoKICAgSWlpMSA9ICcnCiAgIGlmIDM1IC0gMzU6IGkxMUlpICUgSUlJSQogIHRyeSA6CiAgIElpSUlpMUkxSWkgPSBvT08wb29vbyAoICdjcmVkaXRzJyApIFsgMCBdIC4gc3RyaW5nCiAgIGlmIElpSUlpMUkxSWkgPT0gTm9uZSA6CiAgICByYWlzZQogIGV4Y2VwdCA6CiAgIElpSUlpMUkxSWkgPSAnJwogICBpZiA5MCAtIDkwOiBvTzAwb29vMG8wT08gKyBpMTFJaUkxSUkgLyBvTzBvMAogIHRyeSA6CiAgIG9vME9PTzBPICggbmFtZSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApICwgdXJsIC4gZW5jb2RlICggJ3V0Zi04JyApICwgMyAsIE8wbyAsIElpMUkxaTFpSUkgLCBJSUlpMTEgLCBvbzAgLCBJaUlJaTFJMUlpICwgSWlpMSApCiAgZXhjZXB0IDoKICAgaTFJaWlJSSAoICdUaGVyZSB3YXMgYSBwcm9ibGVtIGFkZGluZyBkaXJlY3RvcnkgLSAnICsgbmFtZSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApICkKIGkxaUlpSWlJaSAoIGl0ZW1zICwgSWkxSTFpMWlJSSApCiBpZiA0IC0gNDogb09PIC8gaWlJSWkxaTFJaWkgLiBJSW9vb08wb29PMG9vCiBpZiAxMCAtIDEwOiBJMUlJSTFpSTFpaWlJaUkxIC0gaTExSWlJMUlJICogb09PIC0gaUlJSTEKZGVmIG9vICggbmFtZSAsIHVybCAsIGZhbmFydCApIDoKIE8wT29PbyA9IElJaUkxMSAoIHVybCApCiBpMUlpMTFpSSA9IE8wT29PbyAuIGZpbmQgKCAnc3ViY2hhbm5lbCcgLCBhdHRycyA9IHsgJ25hbWUnIDogbmFtZSAuIGRlY29kZSAoICd1dGYtOCcgKSB9ICkKIGl0ZW1zID0gaTFJaTExaUkgKCAnc3ViaXRlbScgKQogaTFpSWlJaUlpICggaXRlbXMgLCBmYW5hcnQgKQogaWYgNzggLSA3ODogSTFJSUkxaUkxaWlpSWlJMSAuIElJSUkgLiBpMTFJaQpkZWYgaTFpSWlJaUlpICggaXRlbXMgLCBmYW5hcnQgLCBkb250TGluayA9IEZhbHNlICkgOgogT09PaTEgPSBsZW4gKCBpdGVtcyApCiBpMUlpaUlJICggJ1RvdGFsIEl0ZW1zOiAlcycgJSBPT09pMSApCiBpaWkxMSA9IE9vbyAuIGdldFNldHRpbmcgKCAnYWRkX3BsYXlsaXN0JyApCiBvT09Pb28gPSBPb28gLiBnZXRTZXR0aW5nICggJ2Fza19wbGF5bGlzdF9pdGVtcycgKQogb28wT08wT28wID0gT29vIC4gZ2V0U2V0dGluZyAoICd1c2VfdGh1bWInICkKIG9vb28wME9PbzBPMCA9IE9vbyAuIGdldFNldHRpbmcgKCAncGFyZW50YWxibG9ja2VkJyApCiBvb29vMDBPT28wTzAgPSBvb29vMDBPT28wTzAgPT0gInRydWUiCiBmb3IgT08gaW4gaXRlbXMgOgogIE9vT08wT09PbzBvID0gRmFsc2UKICBvT28gPSBGYWxzZQogIGlmIDM3IC0gMzc6IG9PTyAvIElJSUkgLSBJMSAqIE9PTyAuIElpCiAgSUlJID0gJ2ZhbHNlJwogIHRyeSA6CiAgIElJSSA9IE9PICggJ3BhcmVudGFsYmxvY2snICkgWyAwIF0gLiBzdHJpbmcKICBleGNlcHQgOgogICBpMUlpaUlJICggJ3BhcmVudGFsYmxvY2sgRXJyb3InICkKICAgSUlJID0gJycKICBpZiBJSUkgPT0gJ3RydWUnIGFuZCBvb29vMDBPT28wTzAgOiBjb250aW51ZQogIGlmIDYzIC0gNjM6IElJICsgaWlJCiAgdHJ5IDoKICAgSUlpaUlJMTExaSA9IE9PICggJ3RpdGxlJyApIFsgMCBdIC4gc3RyaW5nCiAgIGlmIElJaWlJSTExMWkgaXMgTm9uZSA6CiAgICBJSWlpSUkxMTFpID0gJ3Vua25vd24/JwogICB0cnkgOgogICAgSUlpaUlJMTExaSA9IG9vb09PT09vTyAoIElJaWlJSTExMWkgKQogICBleGNlcHQgOiBwYXNzCiAgIGlmIDgxIC0gODE6IEkxSUkgLyBJSUlJIC0gaWlJaTFJaUkgLyBPMDBPICUgSWkKICBleGNlcHQgOgogICBpMUlpaUlJICggJ05hbWUgRXJyb3InICkKICAgSUlpaUlJMTExaSA9ICcnCiAgIGlmIDQ0IC0gNDQ6IE9PTyAlIElJb29vTzBvb08wb28gJSBJMUlJCiAgIGlmIDQ4IC0gNDg6IGkxMUlpSTFJSSAqIElJb29vTzBvb08wb28gKiBJaSArIElJb29vTzBvb08wb28KICB0cnkgOgogICBpZiBPTyAoICdlcGcnICkgOgogICAgaWYgT08gLiBlcGdfdXJsIDoKICAgICBpMUlpaUlJICggJ0dldCBFUEcgUmVnZXgnICkKICAgICBPbzBvMG9PID0gT08gLiBlcGdfdXJsIC4gc3RyaW5nCiAgICAgSTExID0gT08gLiBlcGdfcmVnZXggLiBzdHJpbmcKICAgICBPbzBvT29PT08wMG8gPSBvb29vMG8gKCBPbzBvMG9PICwgSTExICkKICAgICBpZiBPbzBvT29PT08wMG8gOgogICAgICBJSWlpSUkxMTFpICs9ICcgLSAnICsgT28wb09vT09PMDBvCiAgICBlbGlmIE9PICggJ2VwZycgKSBbIDAgXSAuIHN0cmluZyA+IDEgOgogICAgIElJaWlJSTExMWkgKz0gT09vICggT08gKCAnZXBnJyApIFsgMCBdIC4gc3RyaW5nICkKICAgZWxzZSA6CiAgICBwYXNzCiAgZXhjZXB0IDoKICAgaTFJaWlJSSAoICdFUEcgRXJyb3InICkKICB0cnkgOgogICBvb09vT08wME9Pb28wID0gWyBdCiAgIGlmIGxlbiAoIE9PICggJ2xpbmsnICkgKSA+IDAgOgogICAgaWYgNTcgLSA1NzogaWlJSWkxaTFJaWkgKiBJSW9vb08wb29PMG9vCiAgICBpZiA4NyAtIDg3OiBvT08gKiBJMSAqIGkxMUlpSTFJSSAtIG9PMG8wCiAgICBmb3IgT09vMG9PT09PMCBpbiBPTyAoICdsaW5rJyApIDoKICAgICBpZiBub3QgT09vMG9PT09PMCAuIHN0cmluZyA9PSBOb25lIDoKICAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIE9PbzBvT09PTzAgLiBzdHJpbmcgKQogICAgICBpZiA4NSAtIDg1OiBpSUlJMSArIGlJSUkxICogaUlJSTEKICAgZWxpZiBsZW4gKCBPTyAoICdzcG9ydHNkZXZpbCcgKSApID4gMCA6CiAgICBmb3IgT09vMG9PT09PMCBpbiBPTyAoICdzcG9ydHNkZXZpbCcgKSA6CiAgICAgaWYgbm90IE9PbzBvT09PTzAgLiBzdHJpbmcgPT0gTm9uZSA6CiAgICAgIElJSUlvMG8wTzBvb29PTyA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uU3BvcnRzRGV2aWwvP21vZGU9MSZhbXA7aXRlbT1jYXRjaGVyJTNkc3RyZWFtcyUyNnVybD0nICsgT09vMG9PT09PMCAuIHN0cmluZwogICAgICBPT28wT29vb08gPSBPTyAoICdyZWZlcmVyJyApIFsgMCBdIC4gc3RyaW5nCiAgICAgIGlmIE9PbzBPb29vTyA6CiAgICAgICBpZiA5MSAtIDkxOiBJSSAtIGlpSWkxSWlJICUgTzAwTyAlIGlpSSAvIElJSUkgLSBJMQogICAgICAgSUlJSW8wbzBPMG9vb09PID0gSUlJSW8wbzBPMG9vb09PICsgJyUyNnJlZmVyZXI9JyArIE9PbzBPb29vTwogICAgICBvb09vT08wME9Pb28wIC4gYXBwZW5kICggSUlJSW8wbzBPMG9vb09PICkKICAgZWxpZiBsZW4gKCBPTyAoICdwMnAnICkgKSA+IDAgOgogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAncDJwJyApIDoKICAgICBpZiBub3QgT09vMG9PT09PMCAuIHN0cmluZyA9PSBOb25lIDoKICAgICAgaWYgJ3NvcDovLycgaW4gT09vMG9PT09PMCAuIHN0cmluZyA6CiAgICAgICBvb08wTyA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8ucDJwLXN0cmVhbXMvP21vZGU9MnVybD0nICsgT09vMG9PT09PMCAuIHN0cmluZyArICcmJyArICduYW1lPScgKyBJSWlpSUkxMTFpCiAgICAgICBvb09vT08wME9Pb28wIC4gYXBwZW5kICggb29PME8gKQogICAgICBlbHNlIDoKICAgICAgIE8wMCA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8ucDJwLXN0cmVhbXMvP21vZGU9MSZ1cmw9JyArIE9PbzBvT09PTzAgLiBzdHJpbmcgKyAnJicgKyAnbmFtZT0nICsgSUlpaUlJMTExaQogICAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIE8wMCApCiAgIGVsaWYgbGVuICggT08gKCAndmF1Z2huJyApICkgPiAwIDoKICAgIGZvciBPT28wb09PT08wIGluIE9PICggJ3ZhdWdobicgKSA6CiAgICAgaWYgbm90IE9PbzBvT09PTzAgLiBzdHJpbmcgPT0gTm9uZSA6CiAgICAgIE9PME9vT08wTyA9ICdwbHVnaW46Ly9wbHVnaW4uc3RyZWFtLnZhdWdobmxpdmUudHYvP21vZGU9UGxheUxpdmVTdHJlYW0mYW1wO2NoYW5uZWw9JyArIE9PbzBvT09PTzAgLiBzdHJpbmcKICAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIE9PME9vT08wTyApCiAgIGVsaWYgbGVuICggT08gKCAnaWxpdmUnICkgKSA+IDAgOgogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAnaWxpdmUnICkgOgogICAgIGlmIG5vdCBPT28wb09PT08wIC4gc3RyaW5nID09IE5vbmUgOgogICAgICBpZiBub3QgJ2h0dHAnIGluIE9PbzBvT09PTzAgLiBzdHJpbmcgOgogICAgICAgSWkxaTFpSUkxSWkgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLnRiaC5pbGl2ZS8/dXJsPWh0dHA6Ly93d3cuc3RyZWFtbGl2ZS50by92aWV3LycgKyBPT28wb09PT08wIC4gc3RyaW5nICsgJyZhbXA7bGluaz05OSZhbXA7bW9kZT1pTGl2ZVBsYXknCiAgICAgIGVsc2UgOgogICAgICAgSWkxaTFpSUkxSWkgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLnRiaC5pbGl2ZS8/dXJsPScgKyBPT28wb09PT08wIC4gc3RyaW5nICsgJyZhbXA7bGluaz05OSZhbXA7bW9kZT1pTGl2ZVBsYXknCiAgIGVsaWYgbGVuICggT08gKCAneXQtZGwnICkgKSA+IDAgOgogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAneXQtZGwnICkgOgogICAgIGlmIG5vdCBPT28wb09PT08wIC4gc3RyaW5nID09IE5vbmUgOgogICAgICBvT09vb09vID0gT09vMG9PT09PMCAuIHN0cmluZyArICcmbW9kZT0xOCcKICAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIG9PT29vT28gKQogICBlbGlmIGxlbiAoIE9PICggJ2RtJyApICkgPiAwIDoKICAgIGZvciBPT28wb09PT08wIGluIE9PICggJ2RtJyApIDoKICAgICBpZiBub3QgT09vMG9PT09PMCAuIHN0cmluZyA9PSBOb25lIDoKICAgICAgaWlpMTExaUlJID0gInBsdWdpbjovL3BsdWdpbi52aWRlby5kYWlseW1vdGlvbl9jb20vP21vZGU9cGxheVZpZGVvJnVybD0iICsgT09vMG9PT09PMCAuIHN0cmluZwogICAgICBvb09vT08wME9Pb28wIC4gYXBwZW5kICggaWlpMTExaUlJICkKICAgZWxpZiBsZW4gKCBPTyAoICdkbWxpdmUnICkgKSA+IDAgOgogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAnZG1saXZlJyApIDoKICAgICBpZiBub3QgT09vMG9PT09PMCAuIHN0cmluZyA9PSBOb25lIDoKICAgICAgaWlpMTExaUlJID0gInBsdWdpbjovL3BsdWdpbi52aWRlby5kYWlseW1vdGlvbl9jb20vP21vZGU9cGxheUxpdmVWaWRlbyZ1cmw9IiArIE9PbzBvT09PTzAgLiBzdHJpbmcKICAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIGlpaTExMWlJSSApCiAgIGVsaWYgbGVuICggT08gKCAndXR1YmUnICkgKSA+IDAgOgogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAndXR1YmUnICkgOgogICAgIGlmIG5vdCBPT28wb09PT08wIC4gc3RyaW5nID09IE5vbmUgOgogICAgICBpZiAnICcgaW4gT09vMG9PT09PMCAuIHN0cmluZyA6CiAgICAgICBPMG9PTzAgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLnlvdXR1YmUvc2VhcmNoLz9xPScgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggT09vMG9PT09PMCAuIHN0cmluZyApCiAgICAgICBvT28gPSBPMG9PTzAKICAgICAgZWxpZiBsZW4gKCBPT28wb09PT08wIC4gc3RyaW5nICkgPT0gMTEgOgogICAgICAgTzBvT08wID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL3BsYXkvP3ZpZGVvX2lkPScgKyBPT28wb09PT08wIC4gc3RyaW5nCiAgICAgIGVsaWYgKCBPT28wb09PT08wIC4gc3RyaW5nIC4gc3RhcnRzd2l0aCAoICdQTCcgKSBhbmQgbm90ICcmb3JkZXI9JyBpbiBPT28wb09PT08wIC4gc3RyaW5nICkgb3IgT09vMG9PT09PMCAuIHN0cmluZyAuIHN0YXJ0c3dpdGggKCAnVVUnICkgOgogICAgICAgTzBvT08wID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL3BsYXkvPyZvcmRlcj1kZWZhdWx0JnBsYXlsaXN0X2lkPScgKyBPT28wb09PT08wIC4gc3RyaW5nCiAgICAgIGVsaWYgT09vMG9PT09PMCAuIHN0cmluZyAuIHN0YXJ0c3dpdGggKCAnUEwnICkgb3IgT09vMG9PT09PMCAuIHN0cmluZyAuIHN0YXJ0c3dpdGggKCAnVVUnICkgOgogICAgICAgTzBvT08wID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL3BsYXkvP3BsYXlsaXN0X2lkPScgKyBPT28wb09PT08wIC4gc3RyaW5nCiAgICAgIGVsaWYgT09vMG9PT09PMCAuIHN0cmluZyAuIHN0YXJ0c3dpdGggKCAnVUMnICkgYW5kIGxlbiAoIE9PbzBvT09PTzAgLiBzdHJpbmcgKSA+IDEyIDoKICAgICAgIE8wb09PMCA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8ueW91dHViZS9jaGFubmVsLycgKyBPT28wb09PT08wIC4gc3RyaW5nICsgJy8nCiAgICAgICBvT28gPSBPMG9PTzAKICAgICAgZWxpZiBub3QgT09vMG9PT09PMCAuIHN0cmluZyAuIHN0YXJ0c3dpdGggKCAnVUMnICkgYW5kIG5vdCAoIE9PbzBvT09PTzAgLiBzdHJpbmcgLiBzdGFydHN3aXRoICggJ1BMJyApICkgOgogICAgICAgTzBvT08wID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL3VzZXIvJyArIE9PbzBvT09PTzAgLiBzdHJpbmcgKyAnLycKICAgICAgIG9PbyA9IE8wb09PMAogICAgIG9vT29PTzAwT09vbzAgLiBhcHBlbmQgKCBPMG9PTzAgKQogICBlbGlmIGxlbiAoIE9PICggJ2ltZGInICkgKSA+IDAgOgogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAnaW1kYicgKSA6CiAgICAgaWYgbm90IE9PbzBvT09PTzAgLiBzdHJpbmcgPT0gTm9uZSA6CiAgICAgIGlmIE9vbyAuIGdldFNldHRpbmcgKCAnZ2VuZXNpc29ycHVsc2FyJyApID09ICcwJyA6CiAgICAgICBPT0lpMSA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uZ2VuZXNpcy8/YWN0aW9uPXBsYXkmaW1kYj0nICsgT09vMG9PT09PMCAuIHN0cmluZwogICAgICBlbHNlIDoKICAgICAgIE9PSWkxID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby5wdWxzYXIvbW92aWUvdHQnICsgT09vMG9PT09PMCAuIHN0cmluZyArICcvcGxheScKICAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIE9PSWkxICkKICAgZWxpZiBsZW4gKCBPTyAoICdmNG0nICkgKSA+IDAgOgogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAnZjRtJyApIDoKICAgICBpZiBub3QgT09vMG9PT09PMCAuIHN0cmluZyA9PSBOb25lIDoKICAgICAgaWYgJy5mNG0nIGluIE9PbzBvT09PTzAgLiBzdHJpbmcgOgogICAgICAgT29vTzBPT29vME8wID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby5mNG1UZXN0ZXIvP3VybD0nICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIE9PbzBvT09PTzAgLiBzdHJpbmcgKQogICAgICBlbGlmICcubTN1OCcgaW4gT09vMG9PT09PMCAuIHN0cmluZyA6CiAgICAgICBPb29PME9Pb28wTzAgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLmY0bVRlc3Rlci8/dXJsPScgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggT09vMG9PT09PMCAuIHN0cmluZyApICsgJyZhbXA7c3RyZWFtdHlwZT1ITFMnCiAgICAgICBpZiAxOSAtIDE5OiBPT08KICAgICAgZWxzZSA6CiAgICAgICBPb29PME9Pb28wTzAgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLmY0bVRlc3Rlci8/dXJsPScgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggT09vMG9PT09PMCAuIHN0cmluZyApICsgJyZhbXA7c3RyZWFtdHlwZT1TSU1QTEUnCiAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIE9vb08wT09vbzBPMCApCiAgIGVsaWYgbGVuICggT08gKCAnZnR2JyApICkgPiAwIDoKICAgIGZvciBPT28wb09PT08wIGluIE9PICggJ2Z0dicgKSA6CiAgICAgaWYgbm90IE9PbzBvT09PTzAgLiBzdHJpbmcgPT0gTm9uZSA6CiAgICAgIG9vTzAgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLkYuVC5WLz9uYW1lPScgKyB1cmxsaWIgLiBxdW90ZSAoIElJaWlJSTExMWkgKSArICcmdXJsPScgKyBPT28wb09PT08wIC4gc3RyaW5nICsgJyZtb2RlPTEyNSZjaF9mYW5hcnQ9bmEnCiAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIG9vTzAgKQogICBlbGlmIGxlbiAoIE9PICggJ3VybHNvbHZlJyApICkgPiAwIDoKICAgIGlmIDY3IC0gNjc6IElJb29vTzBvb08wb28gLiBpaUkgLyBpMTFJaQogICAgZm9yIE9PbzBvT09PTzAgaW4gT08gKCAndXJsc29sdmUnICkgOgogICAgIGlmIG5vdCBPT28wb09PT08wIC4gc3RyaW5nID09IE5vbmUgOgogICAgICBpSWlJID0gT09vMG9PT09PMCAuIHN0cmluZyArICcmbW9kZT0xOScKICAgICAgb29Pb09PMDBPT29vMCAuIGFwcGVuZCAoIGlJaUkgKQogICBpZiBsZW4gKCBvb09vT08wME9Pb28wICkgPCAxIDoKICAgIHJhaXNlCiAgZXhjZXB0IDoKICAgaTFJaWlJSSAoICdFcnJvciA8bGluaz4gZWxlbWVudCwgUGFzc2luZzonICsgSUlpaUlJMTExaSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApICkKICAgY29udGludWUKICB0cnkgOgogICBPb09PME9PT28wbyA9IE9PICggJ2V4dGVybmFsbGluaycgKSBbIDAgXSAuIHN0cmluZwogIGV4Y2VwdCA6IHBhc3MKICBpZiAyOCAtIDI4OiBPMDAwMDAwTyAvIElJSUkKICBpZiBPb09PME9PT28wbyA6CiAgIE9vMG8gPSBbIE9vT08wT09PbzBvIF0KICAgT29PTzBPT09vMG8gPSBUcnVlCiAgZWxzZSA6CiAgIE9vT08wT09PbzBvID0gRmFsc2UKICB0cnkgOgogICBvT28gPSBPTyAoICdqc29ucnBjJyApIFsgMCBdIC4gc3RyaW5nCiAgZXhjZXB0IDogcGFzcwogIGlmIG9PbyA6CiAgIGlmIDY1IC0gNjU6IGlpSSArIElJIC0gaWlJSWkxaTFJaWkgLiBpSUlJMQogICBPbzBvID0gWyBvT28gXQogICBpZiA4IC0gODogSTFJSUkxaUkxaWlpSWlJMSAqIG9PMG8wICsgaTExSWlJMUlJCiAgIG9PbyA9IFRydWUKICBlbHNlIDoKICAgb09vID0gRmFsc2UKICB0cnkgOgogICBPMG8gPSBPTyAoICd0aHVtYm5haWwnICkgWyAwIF0gLiBzdHJpbmcKICAgaWYgTzBvID09IE5vbmUgOgogICAgcmFpc2UKICAgTzBvID0gb29vT09PT29PICggTzBvICkKICBleGNlcHQgOgogICBPMG8gPSAnJwogIHRyeSA6CiAgIGlmIG5vdCBPTyAoICdmYW5hcnQnICkgOgogICAgaWYgT29vIC4gZ2V0U2V0dGluZyAoICd1c2VfdGh1bWInICkgPT0gInRydWUiIDoKICAgICBJaTFJMWkxaUlJID0gTzBvCiAgICBlbHNlIDoKICAgICBJaTFJMWkxaUlJID0gZmFuYXJ0CiAgIGVsc2UgOgogICAgSWkxSTFpMWlJSSA9IE9PICggJ2ZhbmFydCcgKSBbIDAgXSAuIHN0cmluZwogICBpZiBJaTFJMWkxaUlJID09IE5vbmUgOgogICAgcmFpc2UKICBleGNlcHQgOgogICBJaTFJMWkxaUlJID0gZmFuYXJ0CiAgdHJ5IDoKICAgSUlJaTExID0gT08gKCAnaW5mbycgKSBbIDAgXSAuIHN0cmluZwogICBpZiBJSUlpMTEgPT0gTm9uZSA6CiAgICByYWlzZQogIGV4Y2VwdCA6CiAgIElJSWkxMSA9ICcnCiAgIGlmIDI2IC0gMjY6IG9PMDBvb28wbzBPTyAuIEkxSUlJMWlJMWlpaUlpSTEgLSBPMDAwMDAwTyAqIG9PMG8wCiAgdHJ5IDoKICAgb28wID0gT08gKCAnZ2VucmUnICkgWyAwIF0gLiBzdHJpbmcKICAgaWYgb28wID09IE5vbmUgOgogICAgcmFpc2UKICBleGNlcHQgOgogICBvbzAgPSAnJwogICBpZiA3OCAtIDc4OiBpaUlpMUlpSSAtIEkxSUkgJSBvT08KICB0cnkgOgogICBJaWkxID0gT08gKCAnZGF0ZScgKSBbIDAgXSAuIHN0cmluZwogICBpZiBJaWkxID09IE5vbmUgOgogICAgcmFpc2UKICBleGNlcHQgOgogICBJaWkxID0gJycKICAgaWYgOTIgLSA5MjogaUlJSTEgLiBJMQogIE8wT29PMG9vMCA9IE5vbmUKICBpZiBPTyAoICdyZWdleCcgKSA6CiAgIHRyeSA6CiAgICBvME9PTzBPbzAwID0gT08gKCAncmVnZXgnICkKICAgIE8wT29PMG9vMCA9IGkxSUlJMTFJMWkgKCBvME9PTzBPbzAwICkKICAgZXhjZXB0IDoKICAgIHBhc3MKICB0cnkgOgogICBpZiA4MCAtIDgwOiBJSSAtIGlpSSAvIGlJSUkxCiAgIGlmIGxlbiAoIG9vT29PTzAwT09vbzAgKSA+IDEgOgogICAgSTFpMSA9IDAKICAgIE9vTzAwMCA9IFsgXQogICAgTzBvMDBvMDBPMCA9IFRydWUgaWYgJyQkTFNQbGF5T25seU9uZSQkJyBpbiBvb09vT08wME9Pb28wIFsgMCBdIGVsc2UgRmFsc2UKICAgIGlmIDk2IC0gOTY6IGlpSSAvIElJb29vTzBvb08wb28gJSBPMDBPCiAgICBmb3IgT09vMG9PT09PMCBpbiBvb09vT08wME9Pb28wIDoKICAgICBpZiBpaWkxMSA9PSAiZmFsc2UiIGFuZCBub3QgTzBvMDBvMDBPMCA6CiAgICAgIEkxaTEgKz0gMQogICAgICBpaSAoIE9PbzBvT09PTzAgLCAnJXMpICVzJyAlICggSTFpMSAsIElJaWlJSTExMWkgLiBlbmNvZGUgKCAndXRmLTgnICwgJ2lnbm9yZScgKSApICwgTzBvICwgSWkxSTFpMWlJSSAsIElJSWkxMSAsIG9vMCAsIElpaTEgLCBUcnVlICwgT29PMDAwICwgTzBPb08wb28wICwgT09PaTEgKQogICAgIGVsaWYgKCBpaWkxMSA9PSAidHJ1ZSIgYW5kIG9PT09vbyA9PSAndHJ1ZScgKSBvciBPMG8wMG8wME8wIDoKICAgICAgaWYgTzBPb08wb28wIDoKICAgICAgIE9vTzAwMCAuIGFwcGVuZCAoIE9PbzBvT09PTzAgKyAnJnJlZ2V4cz0nICsgTzBPb08wb28wICkKICAgICAgZWxpZiBhbnkgKCB4IGluIE9PbzBvT09PTzAgZm9yIHggaW4gT08wMG9vMG8wTzBvbyApIGFuZCBPT28wb09PT08wIC4gc3RhcnRzd2l0aCAoICdodHRwJyApIDoKICAgICAgIE9vTzAwMCAuIGFwcGVuZCAoIE9PbzBvT09PTzAgKyAnJm1vZGU9MTknICkKICAgICAgZWxzZSA6CiAgICAgICBPb08wMDAgLiBhcHBlbmQgKCBPT28wb09PT08wICkKICAgICBlbHNlIDoKICAgICAgT29PMDAwIC4gYXBwZW5kICggT09vMG9PT09PMCApCiAgICAgIGlmIDQ3IC0gNDc6IElJSUkgLiBvTzBvMCAtIGkxMUlpICogT09PCiAgICBpZiBsZW4gKCBPb08wMDAgKSA+IDEgOgogICAgIGlmIDk0IC0gOTQ6IGkxMUlpSTFJSSAqIE8wMDAwMDBPICsgSUlvb29PMG9vTzBvbwogICAgIGlpICggJycgLCBJSWlpSUkxMTFpIC4gZW5jb2RlICggJ3V0Zi04JyApICwgTzBvICwgSWkxSTFpMWlJSSAsIElJSWkxMSAsIG9vMCAsIElpaTEgLCBUcnVlICwgT29PMDAwICwgTzBPb08wb28wICwgT09PaTEgKQogICBlbHNlIDoKICAgIGlmIDUxIC0gNTE6IE8wME8gLSBJMSAqIGlJSUkxIC0gaTExSWkgJSBJaSAvIEkxCiAgICBpZiBkb250TGluayA6CiAgICAgcmV0dXJuIElJaWlJSTExMWkgLCBvb09vT08wME9Pb28wIFsgMCBdICwgTzBPb08wb28wCiAgICBpZiBPb09PME9PT28wbyA6CiAgICAgaWYgbm90IE8wT29PMG9vMCA9PSBOb25lIDoKICAgICAgb28wT09PME8gKCBJSWlpSUkxMTFpIC4gZW5jb2RlICggJ3V0Zi04JyApICwgT28wbyBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIDEgLCBPMG8gLCBJaTFJMWkxaUlJICwgSUlJaTExICwgb28wICwgSWlpMSAsIE5vbmUgLCAnISF1cGRhdGUnICwgTzBPb08wb28wICwgb29Pb09PMDBPT29vMCBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKSApCiAgICAgIGlmIDY3IC0gNjc6IElJb29vTzBvb08wb28gLSBJMUlJSTFpSTFpaWlJaUkxIC0gaTExSWkgLiBpaUkKICAgICBlbHNlIDoKICAgICAgb28wT09PME8gKCBJSWlpSUkxMTFpIC4gZW5jb2RlICggJ3V0Zi04JyApICwgT28wbyBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIDEgLCBPMG8gLCBJaTFJMWkxaUlJICwgSUlJaTExICwgb28wICwgSWlpMSAsIE5vbmUgLCAnc291cmNlJyAsIE5vbmUgLCBOb25lICkKICAgICAgaWYgMTYgLSAxNjogSWkgKiBPT08gKiBJSUlJICUgSTFJSUkxaUkxaWlpSWlJMSAqIE9PTyAtIGlpSUlpMWkxSWlpCiAgICBlbGlmIG9PbyA6CiAgICAgb28wT09PME8gKCBJSWlpSUkxMTFpIC4gZW5jb2RlICggJ3V0Zi04JyApICwgT28wbyBbIDAgXSAsIDUzICwgTzBvICwgSWkxSTFpMWlJSSAsIElJSWkxMSAsIG9vMCAsIElpaTEgLCBOb25lICwgJ3NvdXJjZScgKQogICAgIGlmIDY4IC0gNjg6IGkxMUlpIC4gaTExSWkgLyBpaUkgLiBvTzBvMAogICAgZWxzZSA6CiAgICAgaWYgOTMgLSA5MzogSWkgLyBpMTFJaSAtIGlpSSAqIEkxSUlJMWlJMWlpaUlpSTEKICAgICBpaSAoIG9vT29PTzAwT09vbzAgWyAwIF0gLCBJSWlpSUkxMTFpIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkgLCBPMG8gLCBJaTFJMWkxaUlJICwgSUlJaTExICwgb28wICwgSWlpMSAsIFRydWUgLCBOb25lICwgTzBPb08wb28wICwgT09PaTEgKQogICAgIGlmIDUgLSA1OiBPMDBPICogb08wMG9vbzBvME9PICogaUlJSTEgKyBJaSAlIGlpSUlpMWkxSWlpIC4gaUlJSTEKICBleGNlcHQgOgogICBpMUlpaUlJICggJ1RoZXJlIHdhcyBhIHByb2JsZW0gYWRkaW5nIGl0ZW0gLSAnICsgSUlpaUlJMTExaSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApICkKICAgaWYgMTEgLSAxMTogT09PIC0gSUlJSSAuIElJIC8gSUkgLyBJaQpkZWYgaTFJSUkxMUkxaSAoIHJlZ19pdGVtICkgOgogdHJ5IDoKICBPME9vTzBvbzAgPSB7IH0KICBmb3IgT09vMG9PT09PMCBpbiByZWdfaXRlbSA6CiAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdID0geyB9CiAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ25hbWUnIF0gPSBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcKICAgaWYgNTIgLSA1Mjogb08wMG9vbzBvME9PIC8gT09PIC4gb08wMG9vbzBvME9PIC8gaWlJSWkxaTFJaWkgKyBPMDAwMDAwTwogICB0cnkgOgogICAgTzBPb08wb28wIFsgT09vMG9PT09PMCAoICduYW1lJyApIFsgMCBdIC4gc3RyaW5nIF0gWyAnZXhwcmVzJyBdID0gT09vMG9PT09PMCAoICdleHByZXMnICkgWyAwIF0gLiBzdHJpbmcKICAgIGlmIG5vdCBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdleHByZXMnIF0gOgogICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ2V4cHJlcycgXSA9ICcnCiAgIGV4Y2VwdCA6CiAgICBpMUlpaUlJICggIlJlZ2V4OiAtLSBObyBSZWZlcmVyIC0tIiApCiAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ3BhZ2UnIF0gPSBPT28wb09PT08wICggJ3BhZ2UnICkgWyAwIF0gLiBzdHJpbmcKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ3JlZmVyZXInIF0gPSBPT28wb09PT08wICggJ3JlZmVyZXInICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vIFJlZmVyZXIgLS0iICkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ2Nvbm5lY3Rpb24nIF0gPSBPT28wb09PT08wICggJ2Nvbm5lY3Rpb24nICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vIGNvbm5lY3Rpb24gLS0iICkKICAgIGlmIDc2IC0gNzY6IGkxMUlpSTFJSSAuIGlpSSArIElJb29vTzBvb08wb28KICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ25vdHBsYXlhYmxlJyBdID0gT09vMG9PT09PMCAoICdub3RwbGF5YWJsZScgKSBbIDAgXSAuIHN0cmluZwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gTm8gbm90cGxheWFibGUgLS0iICkKICAgIGlmIDU0IC0gNTQ6IElJSUkgKiBpaUlJaTFpMUlpaSArIElpaUlJaUlJICsgb08wbzAKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ25vcmVkaXJlY3QnIF0gPSBPT28wb09PT08wICggJ25vcmVkaXJlY3QnICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vIG5vcmVkaXJlY3QgLS0iICkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ29yaWdpbicgXSA9IE9PbzBvT09PTzAgKCAnb3JpZ2luJyApIFsgMCBdIC4gc3RyaW5nCiAgIGV4Y2VwdCA6CiAgICBpMUlpaUlJICggIlJlZ2V4OiAtLSBObyBvcmlnaW4gLS0iICkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ2FjY2VwdCcgXSA9IE9PbzBvT09PTzAgKCAnYWNjZXB0JyApIFsgMCBdIC4gc3RyaW5nCiAgIGV4Y2VwdCA6CiAgICBpMUlpaUlJICggIlJlZ2V4OiAtLSBObyBhY2NlcHQgLS0iICkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ2luY2x1ZGVoZWFkZXJzJyBdID0gT09vMG9PT09PMCAoICdpbmNsdWRlaGVhZGVycycgKSBbIDAgXSAuIHN0cmluZwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gTm8gaW5jbHVkZWhlYWRlcnMgLS0iICkKICAgIGlmIDc3IC0gNzc6IG9PTyAtIE8wMDAwMDBPICogaWlJaTFJaUkgKiBJMUlJCiAgICBpZiA5NiAtIDk2OiBpSUlJMSAuIG9PMG8wCiAgIHRyeSA6CiAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdsaXN0cmVwZWF0JyBdID0gT09vMG9PT09PMCAoICdsaXN0cmVwZWF0JyApIFsgMCBdIC4gc3RyaW5nCiAgICBpZiA3NyAtIDc3OiBpaUlJaTFpMUlpaSAqIGkxMUlpSTFJSSAuIElJCiAgIGV4Y2VwdCA6CiAgICBpMUlpaUlJICggIlJlZ2V4OiAtLSBObyBsaXN0cmVwZWF0IC0tIiApCiAgICBpZiA3NSAtIDc1OiBJSSAtIE8wMDAwMDBPIC0gaWlJSWkxaTFJaWkgLiBvTzBvMCAtIElJIC0gaTExSWkKICAgIGlmIDExIC0gMTE6IGlJSUkxIC0gaTExSWkgKiBpMTFJaUkxSUkgJSBJaQogICAgaWYgMjkgLSAyOTogaWlJSWkxaTFJaWkgKyBvTzAwb29vMG8wT08gLSBpMTFJaUkxSUkgLyBpSUlJMSArIElpIC0gb09PCiAgIHRyeSA6CiAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdwcm94eScgXSA9IE9PbzBvT09PTzAgKCAncHJveHknICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vIHByb3h5IC0tIiApCiAgICBpZiAyOSAtIDI5OiBvT08KICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ3gtcmVxJyBdID0gT09vMG9PT09PMCAoICd4LXJlcScgKSBbIDAgXSAuIHN0cmluZwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gTm8geC1yZXEgLS0iICkKICAgIGlmIDIyIC0gMjI6IGkxMUlpSTFJSSAqIE9PTyAvIG9PMDBvb28wbzBPTyAvIEkxIC8gTzAwTwogICB0cnkgOgogICAgTzBPb08wb28wIFsgT09vMG9PT09PMCAoICduYW1lJyApIFsgMCBdIC4gc3RyaW5nIF0gWyAneC1hZGRyJyBdID0gT09vMG9PT09PMCAoICd4LWFkZHInICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vIHgtYWRkciAtLSIgKQogICAgaWYgNDUgLSA0NTogTzAwMDAwME8gKyBJMUlJSTFpSTFpaWlJaUkxCiAgIHRyeSA6CiAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICd4LWZvcndhcmQnIF0gPSBPT28wb09PT08wICggJ3gtZm9yd2FyZCcgKSBbIDAgXSAuIHN0cmluZwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gTm8geC1mb3J3YXJkIC0tIiApCiAgICBpZiA4MyAtIDgzOiBvTzAwb29vMG8wT08gJSBvTzAwb29vMG8wT08gLSBPMDAwMDAwTyAtIG9PMDBvb28wbzBPTyArIG9PMDBvb28wbzBPTyArIGlpSWkxSWlJCiAgIHRyeSA6CiAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdhZ2VudCcgXSA9IE9PbzBvT09PTzAgKCAnYWdlbnQnICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vIFVzZXIgQWdlbnQgLS0iICkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ3Bvc3QnIF0gPSBPT28wb09PT08wICggJ3Bvc3QnICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vdCBhIHBvc3QiICkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ3Jhd3Bvc3QnIF0gPSBPT28wb09PT08wICggJ3Jhd3Bvc3QnICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vdCBhIHJhd3Bvc3QiICkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ2h0bWx1bmVzY2FwZScgXSA9IE9PbzBvT09PTzAgKCAnaHRtbHVuZXNjYXBlJyApIFsgMCBdIC4gc3RyaW5nCiAgIGV4Y2VwdCA6CiAgICBpMUlpaUlJICggIlJlZ2V4OiAtLSBOb3QgYSBodG1sdW5lc2NhcGUiICkKICAgIGlmIDI5IC0gMjk6IE8wME8gKiBpaUkgKiBPMDBPICUgSTEgKyBPT08gLiBvTzBvMAogICAgaWYgNTUgLSA1NTogaUlJSTEgKyBJaSArIGkxMUlpICsgSWlpSUlpSUkgKiBvTzAwb29vMG8wT08gLiBJSW9vb08wb29PMG9vCiAgIHRyeSA6CiAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdyZWFkY29va2llb25seScgXSA9IE9PbzBvT09PTzAgKCAncmVhZGNvb2tpZW9ubHknICkgWyAwIF0gLiBzdHJpbmcKICAgZXhjZXB0IDoKICAgIGkxSWlpSUkgKCAiUmVnZXg6IC0tIE5vdCBhIHJlYWRDb29raWVPbmx5IiApCiAgICBpZiAyNSAtIDI1OiBPMDBPIC0gaWlJaTFJaUkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ2Nvb2tpZWphcicgXSA9IE9PbzBvT09PTzAgKCAnY29va2llamFyJyApIFsgMCBdIC4gc3RyaW5nCiAgICBpZiBub3QgTzBPb08wb28wIFsgT09vMG9PT09PMCAoICduYW1lJyApIFsgMCBdIC4gc3RyaW5nIF0gWyAnY29va2llamFyJyBdIDoKICAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdjb29raWVqYXInIF0gPSAnJwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gTm90IGEgY29va2llSmFyIiApCiAgIHRyeSA6CiAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdzZXRjb29raWUnIF0gPSBPT28wb09PT08wICggJ3NldGNvb2tpZScgKSBbIDAgXSAuIHN0cmluZwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gTm90IGEgc2V0Y29va2llIiApCiAgIHRyeSA6CiAgICBPME9vTzBvbzAgWyBPT28wb09PT08wICggJ25hbWUnICkgWyAwIF0gLiBzdHJpbmcgXSBbICdhcHBlbmRjb29raWUnIF0gPSBPT28wb09PT08wICggJ2FwcGVuZGNvb2tpZScgKSBbIDAgXSAuIHN0cmluZwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gTm90IGEgYXBwZW5kY29va2llIiApCiAgICBpZiA5NyAtIDk3OiBJaSAuIG9PMG8wICogSUlJSSAuIEkxSUkKICAgdHJ5IDoKICAgIE8wT29PMG9vMCBbIE9PbzBvT09PTzAgKCAnbmFtZScgKSBbIDAgXSAuIHN0cmluZyBdIFsgJ2lnbm9yZWNhY2hlJyBdID0gT09vMG9PT09PMCAoICdpZ25vcmVjYWNoZScgKSBbIDAgXSAuIHN0cmluZwogICBleGNlcHQgOgogICAgaTFJaWlJSSAoICJSZWdleDogLS0gbm8gaWdub3JlY2FjaGUiICkKICAgIGlmIDQ3IC0gNDc6IEkxIC4gTzAwMDAwME8gLSBJaQogICAgaWYgODMgLSA4MzogaTExSWlJMUlJIC4gaWlJSWkxaTFJaWkgLSBpSUlJMQogICAgaWYgMiAtIDI6IGlJSUkxCiAgICBpZiA5NiAtIDk2OiBpaUlJaTFpMUlpaSAuIGlJSUkxICUgSWlpSUlpSUkgLiBpaUlJaTFpMUlpaQogICAgaWYgMSAtIDE6IElJb29vTzBvb08wb28gJSBJMUlJICUgaTExSWlJMUlJIC4gb09PCiAgTzBPb08wb28wID0gdXJsbGliIC4gcXVvdGUgKCByZXByICggTzBPb08wb28wICkgKQogIHJldHVybiBPME9vTzBvbzAKICBpZiAxMyAtIDEzOiBpMTFJaSArIElpaUlJaUlJICUgaWlJCiBleGNlcHQgOgogIE8wT29PMG9vMCA9IE5vbmUKICBpMUlpaUlJICggJ3JlZ2V4IEVycm9yOiAnICsgSUlpaUlJMTExaSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApICkKICBpZiAxNCAtIDE0OiBJaWlJSWlJSSArIEkxSUkgLSBpaUkgLSBvTzBvMApkZWYgTzAwTzAwT29Pb28gKCB1cmwgKSA6CiB0cnkgOgogIGZvciBPT28wb09PT08wIGluIHJhbmdlICggMSAsIDUxICkgOgogICBPTzBvTyA9IG8wICggdXJsICkKICAgaWYgIkVYVC1YLVNUUkVBTS1JTkYiIGluIE9PMG9PIDogcmV0dXJuIHVybAogICBpZiBub3QgIkVYVE0zVSIgaW4gT08wb08gOiByZXR1cm4KICAgeGJtYyAuIHNsZWVwICggMjAwMCApCiAgcmV0dXJuCiBleGNlcHQgOgogIHJldHVybgogIGlmIDg3IC0gODc6IE8wME8gKyBpaUkgJSBJSSAqIG9PMDBvb28wbzBPTwpkZWYgb29vb28wICggcmVnZXhzICwgdXJsICwgY29va2llSmFyID0gTm9uZSAsIGZvckNvb2tpZUphck9ubHkgPSBGYWxzZSAsIHJlY3Vyc2l2ZUNhbGwgPSBGYWxzZSAsIGNhY2hlZFBhZ2VzID0geyB9ICwgcmF3UG9zdCA9IEZhbHNlICwgY29va2llX2phcl9maWxlID0gTm9uZSApIDoKIGlmIG5vdCByZWN1cnNpdmVDYWxsIDoKICByZWdleHMgPSBldmFsICggdXJsbGliIC4gdW5xdW90ZSAoIHJlZ2V4cyApICkKICBpZiA3IC0gNzogSTFJSUkxaUkxaWlpSWlJMSAvIGlpSQogIGlmIDYgLSA2OiBJMSAvIEkxSUkgJSBpSUlJMSAvIGlpSQogb08wbyA9IHJlIC4gY29tcGlsZSAoICdcJGRvcmVnZXhcWyhbXlxdXSopXF0nICkgLiBmaW5kYWxsICggdXJsICkKIGlmIDIxIC0gMjE6IElJb29vTzBvb08wb28gLiBJMUlJSTFpSTFpaWlJaUkxICsgSTFJSQogaTExMUlpMWlpMTEgPSBUcnVlCiBmb3IgaTFpMUlJMTFJIGluIG9PMG8gOgogIGlmIGkxaTFJSTExSSBpbiByZWdleHMgOgogICBpZiA1NyAtIDU3OiBvTzAwb29vMG8wT08gLiBpaUkgKyBpaUlJaTFpMUlpaSAqIGlJSUkxICUgaUlJSTEgLyBJaQogICBpMWkgPSByZWdleHMgWyBpMWkxSUkxMUkgXQogICBpZiAzMCAtIDMwOiBPMDAwMDAwTyAqIGlJSUkxCiAgIE9PT28gPSBGYWxzZQogICBpZiAnY29va2llamFyJyBpbiBpMWkgOgogICAgaWYgNDYgLSA0NjogSTEgKiBJaWlJSWlJSSArIGlpSUlpMWkxSWlpICogaWlJaTFJaUkKICAgIE9PT28gPSBpMWkgWyAnY29va2llamFyJyBdCiAgICBpZiAnJGRvcmVnZXgnIGluIE9PT28gOgogICAgIGNvb2tpZUphciA9IG9vb29vMCAoIHJlZ2V4cyAsIGkxaSBbICdjb29raWVqYXInIF0gLCBjb29raWVKYXIgLCBUcnVlICwgVHJ1ZSAsIGNhY2hlZFBhZ2VzICkKICAgICBpZiA5NSAtIDk1OiBJSUlJCiAgICAgT09PbyA9IFRydWUKICAgIGVsc2UgOgogICAgIE9PT28gPSBUcnVlCiAgICAgaWYgOTIgLSA5MjogSTEgJSBpaUkgKiBJaWlJSWlJSSAlIElJICogSUlJSQogICBpZiBPT09vIDoKICAgIGlmIGNvb2tpZUphciA9PSBOb25lIDoKICAgICBpZiA0MyAtIDQzOiBJMUlJCiAgICAgY29va2llX2phcl9maWxlID0gTm9uZQogICAgIGlmICdvcGVuWycgaW4gaTFpIFsgJ2Nvb2tpZWphcicgXSA6CiAgICAgIGNvb2tpZV9qYXJfZmlsZSA9IGkxaSBbICdjb29raWVqYXInIF0gLiBzcGxpdCAoICdvcGVuWycgKSBbIDEgXSAuIHNwbGl0ICggJ10nICkgWyAwIF0KICAgICAgaWYgNzggLSA3ODogaWlJaTFJaUkgLiBpaUkgLSBvT08gKiBvTzBvMAogICAgICBpZiAyMCAtIDIwOiBpMTFJaUkxSUkgLSBvT08gLiBPT08KICAgICBjb29raWVKYXIgPSBpSUkxICggY29va2llX2phcl9maWxlICkKICAgICBpZiA0MSAtIDQxOiBJSUlJICUgSTFJSUkxaUkxaWlpSWlJMSAlIElJIC8gT09PICUgb08wMG9vbzBvME9PIC8gSWkKICAgICBpZiBjb29raWVfamFyX2ZpbGUgOgogICAgICBpaWkxaTFJICggY29va2llSmFyICwgY29va2llX2phcl9maWxlICkKICAgICAgaWYgNzcgLSA3NzogaUlJSTEgLiBpSUlJMQogICAgICBpZiA1NSAtIDU1OiBJMSArIGkxMUlpSTFJSSAuIG9PMG8wIC4gSTEgLSBPT08KICAgICAgaWYgNjIgLSA2MjogaUlJSTEgLyBpSUlJMSAtIGlpSUlpMWkxSWlpCiAgICBlbGlmICdzYXZlWycgaW4gaTFpIFsgJ2Nvb2tpZWphcicgXSA6CiAgICAgY29va2llX2phcl9maWxlID0gaTFpIFsgJ2Nvb2tpZWphcicgXSAuIHNwbGl0ICggJ3NhdmVbJyApIFsgMSBdIC4gc3BsaXQgKCAnXScgKSBbIDAgXQogICAgIGkxaTEgPSBvcyAuIHBhdGggLiBqb2luICggSTExMWkxMUkxSSAsIGNvb2tpZV9qYXJfZmlsZSApCiAgICAgaWYgOSAtIDk6IElJb29vTzBvb08wb28gKiBJMUlJCiAgICAgaWlpMWkxSSAoIGNvb2tpZUphciAsIGNvb2tpZV9qYXJfZmlsZSApCiAgIGlmIGkxaSBbICdwYWdlJyBdIGFuZCAnJGRvcmVnZXgnIGluIGkxaSBbICdwYWdlJyBdIDoKICAgIGlpaUlpaTFJaUlJID0gb29vb28wICggcmVnZXhzICwgaTFpIFsgJ3BhZ2UnIF0gLCBjb29raWVKYXIgLCByZWN1cnNpdmVDYWxsID0gVHJ1ZSAsIGNhY2hlZFBhZ2VzID0gY2FjaGVkUGFnZXMgKQogICAgaWYgbGVuICggaWlpSWlpMUlpSUkgKSA9PSAwIDoKICAgICBpaWlJaWkxSWlJSSA9ICdodHRwOi8vcmVnZXhmYWlsZWQnCiAgICBpMWkgWyAncGFnZScgXSA9IGlpaUlpaTFJaUlJCiAgICBpZiA4MyAtIDgzOiBPT08KICAgaWYgJ3NldGNvb2tpZScgaW4gaTFpIGFuZCBpMWkgWyAnc2V0Y29va2llJyBdIGFuZCAnJGRvcmVnZXgnIGluIGkxaSBbICdzZXRjb29raWUnIF0gOgogICAgaTFpIFsgJ3NldGNvb2tpZScgXSA9IG9vb29vMCAoIHJlZ2V4cyAsIGkxaSBbICdzZXRjb29raWUnIF0gLCBjb29raWVKYXIgLCByZWN1cnNpdmVDYWxsID0gVHJ1ZSAsIGNhY2hlZFBhZ2VzID0gY2FjaGVkUGFnZXMgKQogICBpZiAnYXBwZW5kY29va2llJyBpbiBpMWkgYW5kIGkxaSBbICdhcHBlbmRjb29raWUnIF0gYW5kICckZG9yZWdleCcgaW4gaTFpIFsgJ2FwcGVuZGNvb2tpZScgXSA6CiAgICBpMWkgWyAnYXBwZW5kY29va2llJyBdID0gb29vb28wICggcmVnZXhzICwgaTFpIFsgJ2FwcGVuZGNvb2tpZScgXSAsIGNvb2tpZUphciAsIHJlY3Vyc2l2ZUNhbGwgPSBUcnVlICwgY2FjaGVkUGFnZXMgPSBjYWNoZWRQYWdlcyApCiAgICBpZiA0OSAtIDQ5OiBvT08gKyBpaUlJaTFpMUlpaSAqIGlJSUkxICsgSTFJSQogICAgaWYgODggLSA4ODogSTFJSUkxaUkxaWlpSWlJMSAtIElJICsgTzAwTyAuIElpaUlJaUlJICUgSWlpSUlpSUkgLyBpaUlpMUlpSQogICBpZiAncG9zdCcgaW4gaTFpIGFuZCAnJGRvcmVnZXgnIGluIGkxaSBbICdwb3N0JyBdIDoKICAgIGkxaSBbICdwb3N0JyBdID0gb29vb28wICggcmVnZXhzICwgaTFpIFsgJ3Bvc3QnIF0gLCBjb29raWVKYXIgLCByZWN1cnNpdmVDYWxsID0gVHJ1ZSAsIGNhY2hlZFBhZ2VzID0gY2FjaGVkUGFnZXMgKQogICAgaWYgODggLSA4ODogT09PIC8gaWlJSWkxaTFJaWkgKiBJSQogICAgaWYgODQgLSA4NDogaTExSWkgKiBJaWlJSWlJSSAtIG9PMG8wIC4gb08wMG9vbzBvME9PICsgb08wbzAKICAgaWYgJ3Jhd3Bvc3QnIGluIGkxaSBhbmQgJyRkb3JlZ2V4JyBpbiBpMWkgWyAncmF3cG9zdCcgXSA6CiAgICBpMWkgWyAncmF3cG9zdCcgXSA9IG9vb29vMCAoIHJlZ2V4cyAsIGkxaSBbICdyYXdwb3N0JyBdICwgY29va2llSmFyICwgcmVjdXJzaXZlQ2FsbCA9IFRydWUgLCBjYWNoZWRQYWdlcyA9IGNhY2hlZFBhZ2VzICwgcmF3UG9zdCA9IFRydWUgKQogICAgaWYgODUgLSA4NTogaWlJaTFJaUkKICAgIGlmIDc2IC0gNzY6IGlpSUlpMWkxSWlpICUgSTFJSSAtIEkxSUkKICAgaWYgJ3Jhd3Bvc3QnIGluIGkxaSBhbmQgJyRlcG9jdGltZSQnIGluIGkxaSBbICdyYXdwb3N0JyBdIDoKICAgIGkxaSBbICdyYXdwb3N0JyBdID0gaTFpIFsgJ3Jhd3Bvc3QnIF0gLiByZXBsYWNlICggJyRlcG9jdGltZSQnICwgbzBJaTFJMTFpSWkxSTFJICggKSApCiAgICBpZiAzMCAtIDMwOiBJMSAlIGlpSUlpMWkxSWlpIC0gaWlJaTFJaUkKICAgaWYgJ3Jhd3Bvc3QnIGluIGkxaSBhbmQgJyRlcG9jdGltZTIkJyBpbiBpMWkgWyAncmF3cG9zdCcgXSA6CiAgICBpMWkgWyAncmF3cG9zdCcgXSA9IGkxaSBbICdyYXdwb3N0JyBdIC4gcmVwbGFjZSAoICckZXBvY3RpbWUyJCcgLCBpaTExSTFJaWlpICggKSApCiAgICBpZiAxNSAtIDE1OiBJaWlJSWlJSSAuIGlpSWkxSWlJICsgSWkgLiBJMUlJICogSUlJSSAuIElJb29vTzBvb08wb28KICAgIGlmIDM4IC0gMzg6IElpCiAgIE9vMDBPTyA9ICcnCiAgIGlmIGkxaSBbICdwYWdlJyBdIGFuZCBpMWkgWyAncGFnZScgXSBpbiBjYWNoZWRQYWdlcyBhbmQgbm90ICdpZ25vcmVjYWNoZScgaW4gaTFpIGFuZCBmb3JDb29raWVKYXJPbmx5ID09IEZhbHNlIDoKICAgIGlmIDUzIC0gNTM6IGlpSSAtIElJb29vTzBvb08wb28gLSBJSSAtIElJb29vTzBvb08wb28gLSBPT08gJSBpMTFJaQogICAgT28wME9PID0gY2FjaGVkUGFnZXMgWyBpMWkgWyAncGFnZScgXSBdCiAgIGVsc2UgOgogICAgaWYgaTFpIFsgJ3BhZ2UnIF0gYW5kIG5vdCBpMWkgWyAncGFnZScgXSA9PSAnJyBhbmQgaTFpIFsgJ3BhZ2UnIF0gLiBzdGFydHN3aXRoICggJ2h0dHAnICkgOgogICAgIGlmICckZXBvY3RpbWUkJyBpbiBpMWkgWyAncGFnZScgXSA6CiAgICAgIGkxaSBbICdwYWdlJyBdID0gaTFpIFsgJ3BhZ2UnIF0gLiByZXBsYWNlICggJyRlcG9jdGltZSQnICwgbzBJaTFJMTFpSWkxSTFJICggKSApCiAgICAgaWYgJyRlcG9jdGltZTIkJyBpbiBpMWkgWyAncGFnZScgXSA6CiAgICAgIGkxaSBbICdwYWdlJyBdID0gaTFpIFsgJ3BhZ2UnIF0gLiByZXBsYWNlICggJyRlcG9jdGltZTIkJyAsIGlpMTFJMUlpaWkgKCApICkKICAgICAgaWYgMSAtIDE6IE9PTyAlIElJSUkgLSBJaWlJSWlJSSAvIElJSUkgLyBJaQogICAgICBpZiA0NSAtIDQ1OiBvT08gKyBPMDAwMDAwTyAtIEkxCiAgICAgSUlpSUkxMWlpaTEgPSBpMWkgWyAncGFnZScgXSAuIHNwbGl0ICggJ3wnICkKICAgICBPMG9vMCA9IElJaUlJMTFpaWkxIFsgMCBdCiAgICAgSWkxSUlpID0gTm9uZQogICAgIGlmIGxlbiAoIElJaUlJMTFpaWkxICkgPiAxIDoKICAgICAgSWkxSUlpID0gSUlpSUkxMWlpaTEgWyAxIF0KICAgICAgaWYgNDEgLSA0MTogSTEgLiBJMUlJSTFpSTFpaWlJaUkxCiAgICAgIGlmIDU1IC0gNTU6IEkxSUkKICAgICAgaWYgMTggLSAxODogSTFJSSAtIGkxMUlpSTFJSSAqIElpICUgSTFJSUkxaUkxaWlpSWlJMSAuIE8wMDAwMDBPCiAgICAgIGlmIDI3IC0gMjc6IElpIC8gSUkgJSBJSUlJICUgSWkgLiBJSSAlIG9PMDBvb28wbzBPTwogICAgICBpZiA5NSAtIDk1OiBJMUlJSTFpSTFpaWlJaUkxICogSTEgLiBvTzAwb29vMG8wT08gKyBPMDBPCiAgICAgIGlmIDUgLSA1OiBPT08gJSBPMDBPCiAgICAgIGlmIDgzIC0gODM6IE8wMDAwMDBPCiAgICAgIGlmIDc1IC0gNzU6IElJb29vTzBvb08wb28gLiBJSW9vb08wb29PMG9vICsgT09PIC8gSWkgLSBpSUlJMQogICAgICBpZiA0OSAtIDQ5OiBvT08gKyBPMDAwMDAwTyAqIElJb29vTzBvb08wb28gJSBvTzAwb29vMG8wT08gLSBpMTFJaQogICAgICBpZiA2IC0gNjogTzAwTyArIGkxMUlpSTFJSSAvIGlpSSAvIGlpSSAvIE8wME8gKyBpMTFJaUkxSUkKICAgICBpSUkgPSB1cmxsaWIyIC4gUHJveHlIYW5kbGVyICggdXJsbGliMiAuIGdldHByb3hpZXMgKCApICkKICAgICBpZiA3MCAtIDcwOiBJMQogICAgIGlmIDQ1IC0gNDU6IGkxMUlpSTFJSSAqIEkxSUkKICAgICBpZiA2MCAtIDYwOiBJSW9vb08wb29PMG9vIC0gTzAwMDAwME8gKyBPT08KICAgICBpMTFJaWkxaWlpMUlpSWkgPSB1cmxsaWIyIC4gUmVxdWVzdCAoIE8wb28wICkKICAgICBpZiAncHJveHknIGluIGkxaSA6CiAgICAgIElpMUkxID0gaTFpIFsgJ3Byb3h5JyBdCiAgICAgIGlmIDYzIC0gNjM6IGlpSUlpMWkxSWlpCiAgICAgIGlmIDY1IC0gNjU6IG9PTyAlIGkxMUlpIC0gaWlJSWkxaTFJaWkKICAgICAgaWYgTzBvbzAgWyA6IDUgXSA9PSAiaHR0cHMiIDoKICAgICAgIG9vT29Pb09vID0gdXJsbGliMiAuIFByb3h5SGFuZGxlciAoIHsgJ2h0dHBzJyA6IElpMUkxIH0gKQogICAgICAgaWYgMTQgLSAxNDogSTFJSQogICAgICBlbHNlIDoKICAgICAgIG9vT29Pb09vID0gdXJsbGliMiAuIFByb3h5SGFuZGxlciAoIHsgJ2h0dHAnIDogSWkxSTEgfSApCiAgICAgICBpZiAxNyAtIDE3OiBPMDBPICogaTExSWlJMUlJIC8gSTEKICAgICAgaUlJaTExSTExaTEgPSB1cmxsaWIyIC4gYnVpbGRfb3BlbmVyICggb29Pb09vT28gKQogICAgICB1cmxsaWIyIC4gaW5zdGFsbF9vcGVuZXIgKCBpSUlpMTFJMTFpMSApCiAgICAgIGlmIDU4IC0gNTg6IEkxIC4gSUkgLSBJSUlJIC0gSUlJSQogICAgICBpZiAxMCAtIDEwOiBvTzAwb29vMG8wT08gKiBJMSAtIE9PTwogICAgIGkxMUlpaTFpaWkxSWlJaSAuIGFkZF9oZWFkZXIgKCAnVXNlci1BZ2VudCcgLCAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBydjoxNC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzE0LjAuMScgKQogICAgIElpMUkxID0gTm9uZQogICAgIGlmIDE1IC0gMTU6IG9PMDBvb28wbzBPTyAtIElpaUlJaUlJIC8gaWlJaTFJaUkgKyBpaUkgKyBvT08gKiBpaUkKICAgICBpZiAncmVmZXJlcicgaW4gaTFpIDoKICAgICAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdSZWZlcmVyJyAsIGkxaSBbICdyZWZlcmVyJyBdICkKICAgICBpZiAnYWNjZXB0JyBpbiBpMWkgOgogICAgICBpMTFJaWkxaWlpMUlpSWkgLiBhZGRfaGVhZGVyICggJ0FjY2VwdCcgLCBpMWkgWyAnYWNjZXB0JyBdICkKICAgICBpZiAnYWdlbnQnIGluIGkxaSA6CiAgICAgIGkxMUlpaTFpaWkxSWlJaSAuIGFkZF9oZWFkZXIgKCAnVXNlci1hZ2VudCcgLCBpMWkgWyAnYWdlbnQnIF0gKQogICAgIGlmICd4LXJlcScgaW4gaTFpIDoKICAgICAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdYLVJlcXVlc3RlZC1XaXRoJyAsIGkxaSBbICd4LXJlcScgXSApCiAgICAgaWYgJ3gtYWRkcicgaW4gaTFpIDoKICAgICAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICd4LWFkZHInICwgaTFpIFsgJ3gtYWRkcicgXSApCiAgICAgaWYgJ3gtZm9yd2FyZCcgaW4gaTFpIDoKICAgICAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdYLUZvcndhcmRlZC1Gb3InICwgaTFpIFsgJ3gtZm9yd2FyZCcgXSApCiAgICAgaWYgJ3NldGNvb2tpZScgaW4gaTFpIDoKICAgICAgaWYgNDggLSA0ODogTzAwTyAtIGkxMUlpSTFJSSAtIGkxMUlpIC4gaWlJSWkxaTFJaWkKICAgICAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdDb29raWUnICwgaTFpIFsgJ3NldGNvb2tpZScgXSApCiAgICAgaWYgJ2FwcGVuZGNvb2tpZScgaW4gaTFpIDoKICAgICAgaWYgNTEgLSA1MTogb09PIC4gaTExSWlJMUlJICUgaTExSWlJMUlJIC0gaTExSWlJMUlJCiAgICAgIElJaUkxMUlpaTExID0gaTFpIFsgJ2FwcGVuZGNvb2tpZScgXQogICAgICBJSWlJMTFJaWkxMSA9IElJaUkxMUlpaTExIC4gc3BsaXQgKCAnOycgKQogICAgICBmb3IgSUlpMUkxSUlJSUkgaW4gSUlpSTExSWlpMTEgOgogICAgICAgT29vMG8wb29PICwgaWkxaUkxMTFpSWkxID0gSUlpMUkxSUlJSUkgLiBzcGxpdCAoICc9JyApCiAgICAgICBPMG8wMDBvME9vICwgT29vMG8wb29PID0gT29vMG8wb29PIC4gc3BsaXQgKCAnOicgKQogICAgICAgT29vTzAwT09vME9PTyA9IGNvb2tpZWxpYiAuIENvb2tpZSAoIHZlcnNpb24gPSAwICwgbmFtZSA9IE9vbzBvMG9vTyAsIHZhbHVlID0gaWkxaUkxMTFpSWkxICwgcG9ydCA9IE5vbmUgLCBwb3J0X3NwZWNpZmllZCA9IEZhbHNlICwgZG9tYWluID0gTzBvMDAwbzBPbyAsIGRvbWFpbl9zcGVjaWZpZWQgPSBGYWxzZSAsIGRvbWFpbl9pbml0aWFsX2RvdCA9IEZhbHNlICwgcGF0aCA9ICcvJyAsIHBhdGhfc3BlY2lmaWVkID0gVHJ1ZSAsIHNlY3VyZSA9IEZhbHNlICwgZXhwaXJlcyA9IE5vbmUgLCBkaXNjYXJkID0gVHJ1ZSAsIGNvbW1lbnQgPSBOb25lICwgY29tbWVudF91cmwgPSBOb25lICwgcmVzdCA9IHsgJ0h0dHBPbmx5JyA6IE5vbmUgfSAsIHJmYzIxMDkgPSBGYWxzZSApCiAgICAgICBjb29raWVKYXIgLiBzZXRfY29va2llICggT29vTzAwT09vME9PTyApCiAgICAgaWYgJ29yaWdpbicgaW4gaTFpIDoKICAgICAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdPcmlnaW4nICwgaTFpIFsgJ29yaWdpbicgXSApCiAgICAgaWYgSWkxSUlpIDoKICAgICAgSWkxSUlpID0gSWkxSUlpIC4gc3BsaXQgKCAnJicgKQogICAgICBmb3IgSUlpMUkxSUlJSUkgaW4gSWkxSUlpIDoKICAgICAgIGlmIElJaTFJMUlJSUlJIC4gc3BsaXQgKCAnPScgKSA9PSAyIDoKICAgICAgICBPb28wbzBvb08gLCBpaTFpSTExMWlJaTEgPSBJSWkxSTFJSUlJSSAuIHNwbGl0ICggJz0nICkKICAgICAgIGVsc2UgOgogICAgICAgIE8wTyA9IElJaTFJMUlJSUlJIC4gc3BsaXQgKCAnPScgKQogICAgICAgIE9vbzBvMG9vTyA9IE8wTyBbIDAgXQogICAgICAgIGlpMWlJMTExaUlpMSA9ICc9JyAuIGpvaW4gKCBPME8gWyAxIDogXSApCiAgICAgICAgaWYgOSAtIDk6IG9PMG8wICogb09PICsgTzAwMDAwME8gLiBJMUlJIC4gSWlpSUlpSUkgLSBJMUlJSTFpSTFpaWlJaUkxCiAgICAgICBpMTFJaWkxaWlpMUlpSWkgLiBhZGRfaGVhZGVyICggT29vMG8wb29PICwgaWkxaUkxMTFpSWkxICkKICAgICAgIGlmIDIyIC0gMjI6IGkxMUlpSTFJSSArIEkxIC0gT09PICogb09PIC0gSUlvb29PMG9vTzBvbwogICAgIGlmIG5vdCBjb29raWVKYXIgPT0gTm9uZSA6CiAgICAgIGlmIDY1IC0gNjU6IG9PTyAqIE8wMDAwMDBPICsgaTExSWlJMUlJICUgT09PCiAgICAgIE9vbzBvT08wMG8wb28gPSB1cmxsaWIyIC4gSFRUUENvb2tpZVByb2Nlc3NvciAoIGNvb2tpZUphciApCiAgICAgIGlJSWkxMUkxMWkxID0gdXJsbGliMiAuIGJ1aWxkX29wZW5lciAoIE9vbzBvT08wMG8wb28gLCB1cmxsaWIyIC4gSFRUUEJhc2ljQXV0aEhhbmRsZXIgKCApICwgdXJsbGliMiAuIEhUVFBIYW5kbGVyICggKSApCiAgICAgIGlJSWkxMUkxMWkxID0gdXJsbGliMiAuIGluc3RhbGxfb3BlbmVyICggaUlJaTExSTExaTEgKQogICAgICBpZiAyNCAtIDI0OiBvTzAwb29vMG8wT08gKiBvT08KICAgICAgaWYgMzAgLSAzMDogSWkgLyBPMDAwMDAwTyAvIG9PMG8wICsgT09PICsgSTFJSUkxaUkxaWlpSWlJMSAvIG9PMG8wCiAgICAgIGlmICdub3JlZGlyZWN0JyBpbiBpMWkgOgogICAgICAgaUlJaTExSTExaTEgPSB1cmxsaWIyIC4gYnVpbGRfb3BlbmVyICggT29vMG9PTzAwbzBvbyAsIGlpMTFpSTFpICwgdXJsbGliMiAuIEhUVFBCYXNpY0F1dGhIYW5kbGVyICggKSAsIHVybGxpYjIgLiBIVFRQSGFuZGxlciAoICkgKQogICAgICAgaUlJaTExSTExaTEgPSB1cmxsaWIyIC4gaW5zdGFsbF9vcGVuZXIgKCBpSUlpMTFJMTFpMSApCiAgICAgZWxpZiAnbm9yZWRpcmVjdCcgaW4gaTFpIDoKICAgICAgaUlJaTExSTExaTEgPSB1cmxsaWIyIC4gYnVpbGRfb3BlbmVyICggaWkxMWlJMWkgLCB1cmxsaWIyIC4gSFRUUEJhc2ljQXV0aEhhbmRsZXIgKCApICwgdXJsbGliMiAuIEhUVFBIYW5kbGVyICggKSApCiAgICAgIGlJSWkxMUkxMWkxID0gdXJsbGliMiAuIGluc3RhbGxfb3BlbmVyICggaUlJaTExSTExaTEgKQogICAgICBpZiA2MyAtIDYzOiBJSUlJIC0gaTExSWkKICAgICAgaWYgODkgLSA4OTogSUlvb29PMG9vTzBvbyAlIGlpSSAlIGlpSUlpMWkxSWlpICsgaTExSWlJMUlJIC4gSTFJSUkxaUkxaWlpSWlJMSAlIG9PMG8wCiAgICAgaWYgJ2Nvbm5lY3Rpb24nIGluIGkxaSA6CiAgICAgIGlmIDYwIC0gNjA6IElJb29vTzBvb08wb28KICAgICAgZnJvbSBrZWVwYWxpdmUgaW1wb3J0IEhUVFBIYW5kbGVyCiAgICAgIE8wT08gPSBIVFRQSGFuZGxlciAoICkKICAgICAgaUlJaTExSTExaTEgPSB1cmxsaWIyIC4gYnVpbGRfb3BlbmVyICggTzBPTyApCiAgICAgIHVybGxpYjIgLiBpbnN0YWxsX29wZW5lciAoIGlJSWkxMUkxMWkxICkKICAgICAgaWYgNjcgLSA2NzogT09PIC0gSUlvb29PMG9vTzBvbyAlIElpICUgSWlpSUlpSUkgLSBJMUlJSTFpSTFpaWlJaUkxIC0gSUlJSQogICAgICBpZiAzNyAtIDM3OiBpaUlpMUlpSSAvIElJb29vTzBvb08wb28KICAgICAgaWYgOSAtIDk6IEkxSUlJMWlJMWlpaUlpSTEgKiBpaUkgLSBpMTFJaUkxSUkKICAgICBvTzAwT28wMG8gPSBOb25lCiAgICAgaWYgNjIgLSA2Mjogb08wMG9vbzBvME9PICUgT09PICogaWlJaTFJaUkgJSBPT08gKiBvTzAwb29vMG8wT08gKyBJaQogICAgIGlmICdwb3N0JyBpbiBpMWkgOgogICAgICBPb09vbyA9IGkxaSBbICdwb3N0JyBdCiAgICAgIGlmIDE5IC0gMTk6IElJb29vTzBvb08wb28gLSBpSUlJMSAlIElJb29vTzBvb08wb28gJSBJMSAuIEkxSUlJMWlJMWlpaUlpSTEgLyBPT08KICAgICAgaWYgODQgLSA4NDogb09PIC8gSTEgKyBPT08gKiBpaUlJaTFpMUlpaSAlIG9PTyArIElpCiAgICAgIGlmIDQyIC0gNDI6IGlpSSAvIElJICsgaWlJCiAgICAgIGlmIDc0IC0gNzQ6IEkxSUkgLiBvTzAwb29vMG8wT08KICAgICAgSWlPb28wMG8wbyA9IE9vT29vIC4gc3BsaXQgKCAnLCcgKSA7CiAgICAgIG9PMDBPbzAwbyA9IHsgfQogICAgICBmb3IgaUlJSTFJMTFpSWlpIGluIElpT29vMDBvMG8gOgogICAgICAgT29vMG8wb29PID0gaUlJSTFJMTFpSWlpIC4gc3BsaXQgKCAnOicgKSBbIDAgXSA7CiAgICAgICBpaTFpSTExMWlJaTEgPSBpSUlJMUkxMWlJaWkgLiBzcGxpdCAoICc6JyApIFsgMSBdIDsKICAgICAgIG9PMDBPbzAwbyBbIE9vbzBvMG9vTyBdID0gaWkxaUkxMTFpSWkxCiAgICAgIG9PMDBPbzAwbyA9IHVybGxpYiAuIHVybGVuY29kZSAoIG9PMDBPbzAwbyApCiAgICAgIGlmIDggLSA4OiBJMSAtIG9PTwogICAgIGlmICdyYXdwb3N0JyBpbiBpMWkgOgogICAgICBvTzAwT28wMG8gPSBpMWkgWyAncmF3cG9zdCcgXQogICAgICBpZiA0NiAtIDQ2OiBJaWlJSWlJSSAlIEkxSUkgJSBJSQogICAgICBpZiA4NiAtIDg2OiBpaUlpMUlpSSAuIG9PMDBvb28wbzBPTyAuIE8wME8KICAgICAgaWYgODMgLSA4MzogT09PICogSTEgLyBpaUkgKiBPT08KICAgICAgaWYgNzkgLSA3OTogSTEgJSBvTzAwb29vMG8wT08KICAgICBPbzAwT08gPSAnJwogICAgIHRyeSA6CiAgICAgIGlmIDU2IC0gNTY6IGkxMUlpSTFJSSAlIElpaUlJaUlJIC4gb09PICogSUkgLSBJMUlJCiAgICAgIGlmIG9PMDBPbzAwbyA6CiAgICAgICBpaTFJMUlpaSA9IHVybGxpYjIgLiB1cmxvcGVuICggaTExSWlpMWlpaTFJaUlpICwgb08wME9vMDBvICkKICAgICAgZWxzZSA6CiAgICAgICBpaTFJMUlpaSA9IHVybGxpYjIgLiB1cmxvcGVuICggaTExSWlpMWlpaTFJaUlpICkKICAgICAgaWYgaWkxSTFJaWkgLiBpbmZvICggKSAuIGdldCAoICdDb250ZW50LUVuY29kaW5nJyApID09ICdnemlwJyA6CiAgICAgICBmcm9tIFN0cmluZ0lPIGltcG9ydCBTdHJpbmdJTwogICAgICAgaW1wb3J0IGd6aXAKICAgICAgIEkxMWlJID0gU3RyaW5nSU8gKCBpaTFJMUlpaSAuIHJlYWQgKCApICkKICAgICAgIG9PbzBPb09vID0gZ3ppcCAuIEd6aXBGaWxlICggZmlsZW9iaiA9IEkxMWlJICkKICAgICAgIE9vMDBPTyA9IG9PbzBPb09vIC4gcmVhZCAoICkKICAgICAgZWxzZSA6CiAgICAgICBPbzAwT08gPSBpaTFJMUlpaSAuIHJlYWQgKCApCiAgICAgICBpZiA2MyAtIDYzOiBpMTFJaUkxSUkgKyBJMSAlIE8wMDAwMDBPCiAgICAgICBpZiA4MiAtIDgyOiBJSSAtIGlJSUkxIC8gaWlJIC8gSUkgLiBJMUlJCiAgICAgICBpZiA3NSAtIDc1OiBJMUlJSTFpSTFpaWlJaUkxCiAgICAgIGlmICdwcm94eScgaW4gaTFpIGFuZCBub3QgaUlJIGlzIE5vbmUgOgogICAgICAgdXJsbGliMiAuIGluc3RhbGxfb3BlbmVyICggdXJsbGliMiAuIGJ1aWxkX29wZW5lciAoIGlJSSApICkKICAgICAgIGlmIDgzIC0gODM6IE9PTyArIGlpSWkxSWlJCiAgICAgIE9vMDBPTyA9IElpaWkgKCBPbzAwT08gKQogICAgICBpZiA5MiAtIDkyOiBvT08KICAgICAgaWYgMzkgLSAzOTogTzAwTyAtIElJIC8gSUlJSSAqIG9PTyAvIE8wMDAwMDBPIC0gSWkKICAgICAgaWYgJ2luY2x1ZGVoZWFkZXJzJyBpbiBpMWkgOgogICAgICAgaWYgODQgLSA4NDogaTExSWkgKyBpaUlJaTFpMUlpaQogICAgICAgT28wME9PICs9ICckJEhFQURFUlNfU1RBUlQkJDonCiAgICAgICBmb3IgSTFpSUkxMWlpMWlpaSBpbiBpaTFJMUlpaSAuIGhlYWRlcnMgOgogICAgICAgIE9vMDBPTyArPSBJMWlJSTExaWkxaWlpICsgJzonICsgaWkxSTFJaWkgLiBoZWFkZXJzIC4gZ2V0ICggSTFpSUkxMWlpMWlpaSApICsgJ1xuJwogICAgICAgT28wME9PICs9ICckJEhFQURFUlNfRU5EJCQ6JwogICAgICAgaWYgMzAgLSAzMDogaUlJSTEgKyBPT08gKiBJMUlJSTFpSTFpaWlJaUkxIC8gaUlJSTEKICAgICAgaTFJaWlJSSAoIE9vMDBPTyApCiAgICAgIGkxSWlpSUkgKCBjb29raWVKYXIgKQogICAgICBpZiA1OCAtIDU4OiBpaUkKICAgICAgaWkxSTFJaWkgLiBjbG9zZSAoICkKICAgICBleGNlcHQgOgogICAgICBwYXNzCiAgICAgY2FjaGVkUGFnZXMgWyBpMWkgWyAncGFnZScgXSBdID0gT28wME9PCiAgICAgaWYgNTMgLSA1MzogaWlJSWkxaTFJaWkgKiBpSUlJMQogICAgIGlmIDk4IC0gOTg6IEkxSUlJMWlJMWlpaUlpSTEgLyBvT08gLyBJaSArIEkxIC8gaTExSWkgJSBpaUkKICAgICBpZiA0MSAtIDQxOiBJSW9vb08wb29PMG9vIC4gaTExSWlJMUlJCiAgICAgaWYgZm9yQ29va2llSmFyT25seSA6CiAgICAgIHJldHVybiBjb29raWVKYXIKICAgIGVsaWYgaTFpIFsgJ3BhZ2UnIF0gYW5kIG5vdCBpMWkgWyAncGFnZScgXSAuIHN0YXJ0c3dpdGggKCAnaHR0cCcgKSA6CiAgICAgaWYgaTFpIFsgJ3BhZ2UnIF0gLiBzdGFydHN3aXRoICggJyRweUZ1bmN0aW9uOicgKSA6CiAgICAgIE8wb09vTzAgPSBPb09vME9PMG8gKCBpMWkgWyAncGFnZScgXSAuIHNwbGl0ICggJyRweUZ1bmN0aW9uOicgKSBbIDEgXSAsICcnICwgY29va2llSmFyICwgaTFpICkKICAgICAgaWYgZm9yQ29va2llSmFyT25seSA6CiAgICAgICByZXR1cm4gY29va2llSmFyCiAgICAgIE9vMDBPTyA9IE8wb09vTzAKICAgICAgT28wME9PID0gSWlpaSAoIE9vMDBPTyApCiAgICAgZWxzZSA6CiAgICAgIE9vMDBPTyA9IGkxaSBbICdwYWdlJyBdCiAgIGlmICckcHlGdW5jdGlvbjpwbGF5bWVkaWEoJyBpbiBpMWkgWyAnZXhwcmVzJyBdIG9yICdBY3RpdmF0ZVdpbmRvdycgaW4gaTFpIFsgJ2V4cHJlcycgXSBvciAnUnVuUGx1Z2luJyBpbiBpMWkgWyAnZXhwcmVzJyBdIG9yICckUExBWUVSUFJPWFkkPScgaW4gdXJsIG9yIGFueSAoIHggaW4gdXJsIGZvciB4IGluIE9PbzBPICkgOgogICAgaTExMUlpMWlpMTEgPSBGYWxzZQogICBpZiAnJGRvcmVnZXgnIGluIGkxaSBbICdleHByZXMnIF0gOgogICAgaTFpIFsgJ2V4cHJlcycgXSA9IG9vb29vMCAoIHJlZ2V4cyAsIGkxaSBbICdleHByZXMnIF0gLCBjb29raWVKYXIgLCByZWN1cnNpdmVDYWxsID0gVHJ1ZSAsIGNhY2hlZFBhZ2VzID0gY2FjaGVkUGFnZXMgKQogICAgaWYgNDMgLSA0MzogSUkgKyBpMTFJaUkxSUkgLiBJMUlJIC4gTzAwMDAwME8gLSBJSQogICBpZiBub3QgaTFpIFsgJ2V4cHJlcycgXSA9PSAnJyA6CiAgICBpZiAxNiAtIDE2OiBpMTFJaUkxSUkgKiBpSUlJMSAvIElJb29vTzBvb08wb28gKyBJSUlJICsgaWlJaTFJaUkKICAgIGlmICckTGl2ZVN0cmVhbUNhcHRjaGEnIGluIGkxaSBbICdleHByZXMnIF0gOgogICAgIE8wb09vTzAgPSBvT29pMUlJaTFpaTExICggaTFpICwgT28wME9PICwgY29va2llSmFyICkKICAgICBpZiAyNiAtIDI2OiBvTzBvMCAuIGlJSUkxIC4gSUkgJSBPT08KICAgICB1cmwgPSB1cmwgLiByZXBsYWNlICggIiRkb3JlZ2V4WyIgKyBpMWkxSUkxMUkgKyAiXSIgLCBPMG9Pb08wICkKICAgICBpZiAxOCAtIDE4OiBpMTFJaSAtIEkxCiAgICBlbGlmIGkxaSBbICdleHByZXMnIF0gLiBzdGFydHN3aXRoICggJyRweUZ1bmN0aW9uOicgKSBvciAnIyRweUZ1bmN0aW9uJyBpbiBpMWkgWyAnZXhwcmVzJyBdIDoKICAgICBpZiA3NyAtIDc3OiBpMTFJaUkxSUkgLiBJMUlJIC4gTzAwMDAwME8KICAgICBPMG9Pb08wID0gJycKICAgICBpZiBpMWkgWyAnZXhwcmVzJyBdIC4gc3RhcnRzd2l0aCAoICckcHlGdW5jdGlvbjonICkgOgogICAgICBPMG9Pb08wID0gT29PbzBPTzBvICggaTFpIFsgJ2V4cHJlcycgXSAuIHNwbGl0ICggJyRweUZ1bmN0aW9uOicgKSBbIDEgXSAsIE9vMDBPTyAsIGNvb2tpZUphciAsIGkxaSApCiAgICAgZWxzZSA6CiAgICAgIE8wb09vTzAgPSBvT28wMCAoIGkxaSBbICdleHByZXMnIF0gLCBPbzAwT08gLCBjb29raWVKYXIgLCBpMWkgKQogICAgIGlmICdBY3RpdmF0ZVdpbmRvdycgaW4gaTFpIFsgJ2V4cHJlcycgXSBvciAnUnVuUGx1Z2luJyBpbiBpMWkgWyAnZXhwcmVzJyBdIDogcmV0dXJuICcnICwgRmFsc2UKICAgICBpZiBmb3JDb29raWVKYXJPbmx5IDoKICAgICAgcmV0dXJuIGNvb2tpZUphcgogICAgIGlmICdsaXN0cmVwZWF0JyBpbiBpMWkgOgogICAgICBPbzBvMDBPMG9vMDAwID0gaTFpIFsgJ2xpc3RyZXBlYXQnIF0KICAgICAgaWYgMzQgLSAzNDogaWlJaTFJaUkgLiBpaUkgKiBJSW9vb08wb29PMG9vCiAgICAgIGlmIDYwIC0gNjA6IEkxSUkgJSBvTzBvMCAqIElpaUlJaUlJICUgTzAwMDAwME8KICAgICAgcmV0dXJuIE9vMG8wME8wb28wMDAgLCBldmFsICggTzBvT29PMCApICwgaTFpICwgcmVnZXhzICwgY29va2llSmFyCiAgICAgIGlmIDg1IC0gODU6IE8wME8gJSBPT08KICAgICAgaWYgODcgLSA4NzogSUlvb29PMG9vTzBvbyAqIElJSUkgKiBJMUlJSTFpSTFpaWlJaUkxICogTzAwTyAtIG9PMDBvb28wbzBPTyArIElpaUlJaUlJCiAgICAgIGlmIDQzIC0gNDM6IG9PMG8wICUgSWkgJSBvT08gLyBJMUlJIC4gSTFJSUkxaUkxaWlpSWlJMQogICAgIHRyeSA6CiAgICAgIHVybCA9IHVybCAuIHJlcGxhY2UgKCB1IiRkb3JlZ2V4WyIgKyBpMWkxSUkxMUkgKyAiXSIgLCBPMG9Pb08wICkKICAgICBleGNlcHQgOiB1cmwgPSB1cmwgLiByZXBsYWNlICggIiRkb3JlZ2V4WyIgKyBpMWkxSUkxMUkgKyAiXSIgLCBPMG9Pb08wIC4gZGVjb2RlICggInV0Zi04IiApICkKICAgIGVsc2UgOgogICAgIGlmICdsaXN0cmVwZWF0JyBpbiBpMWkgOgogICAgICBPbzBvMDBPMG9vMDAwID0gaTFpIFsgJ2xpc3RyZXBlYXQnIF0KICAgICAgaWYgODQgLSA4NDogaTExSWkgKyBJSW9vb08wb29PMG9vICsgb08wbzAKICAgICAgaWYgOCAtIDg6IElpaUlJaUlJICogSTEgKiBPMDBPIC8gb09PICsgSUlvb29PMG9vTzBvbwogICAgICBpZiAxNyAtIDE3OiBvT08KICAgICAgaWYgNDggLSA0ODogaWlJSWkxaTFJaWkgLSBJMUlJCiAgICAgIGlJMTEgPSByZSAuIGZpbmRhbGwgKCBpMWkgWyAnZXhwcmVzJyBdICwgT28wME9PICkKICAgICAgaWYgNiAtIDY6IElJSUkgLSBJaQogICAgICByZXR1cm4gT28wbzAwTzBvbzAwMCAsIGlJMTEgLCBpMWkgLCByZWdleHMgLCBjb29raWVKYXIKICAgICAgaWYgNCAtIDQ6IEkxSUkgLSBJMUlJSTFpSTFpaWlJaUkxIC0gaWlJaTFJaUkgLSBJaWlJSWlJSSAlIElJb29vTzBvb08wb28KICAgICBPMG9Pb08wID0gJycKICAgICBpZiBub3QgT28wME9PID09ICcnIDoKICAgICAgaWYgMzggLSAzODogb08wbzAgJSBJSW9vb08wb29PMG9vIC4gSUkgLiBpMTFJaUkxSUkgLSBpaUlpMUlpSSAvIG9PMG8wCiAgICAgIG9PT09Pb29vTyA9IHJlIC4gY29tcGlsZSAoIGkxaSBbICdleHByZXMnIF0gKSAuIHNlYXJjaCAoIE9vMDBPTyApCiAgICAgIHRyeSA6CiAgICAgICBPMG9Pb08wID0gb09PT09vb29PIC4gZ3JvdXAgKCAxICkgLiBzdHJpcCAoICkKICAgICAgZXhjZXB0IDogdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggKQogICAgIGVsaWYgaTFpIFsgJ3BhZ2UnIF0gPT0gJycgb3IgaTFpIFsgJ3BhZ2UnIF0gPT0gTm9uZSA6CiAgICAgIE8wb09vTzAgPSBpMWkgWyAnZXhwcmVzJyBdCiAgICAgIGlmIDMzIC0gMzM6IG9PTwogICAgIGlmIHJhd1Bvc3QgOgogICAgICBpZiA2NyAtIDY3OiBJaWlJSWlJSSAuIElpIC8gSTEKICAgICAgTzBvT29PMCA9IHVybGxpYiAuIHF1b3RlX3BsdXMgKCBPMG9Pb08wICkKICAgICBpZiAnaHRtbHVuZXNjYXBlJyBpbiBpMWkgOgogICAgICBpZiA0IC0gNDogSUkgLyBPMDAwMDAwTyAtIEkxSUlJMWlJMWlpaUlpSTEgKyBJSUlJCiAgICAgIGltcG9ydCBIVE1MUGFyc2VyCiAgICAgIE8wb09vTzAgPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkgLiB1bmVzY2FwZSAoIE8wb09vTzAgKQogICAgIHRyeSA6CiAgICAgIHVybCA9IHVybCAuIHJlcGxhY2UgKCAiJGRvcmVnZXhbIiArIGkxaTFJSTExSSArICJdIiAsIE8wb09vTzAgKQogICAgIGV4Y2VwdCA6IHVybCA9IHVybCAuIHJlcGxhY2UgKCAiJGRvcmVnZXhbIiArIGkxaTFJSTExSSArICJdIiAsIE8wb09vTzAgLiBkZWNvZGUgKCAidXRmLTgiICkgKQogICAgIGlmIDczIC0gNzM6IG9PTyAqIGkxMUlpCiAgICAgaWYgMjUgLSAyNTogTzAwTyAtIElJIC4gaWlJIC8gaUlJSTEKICAgZWxzZSA6CiAgICB1cmwgPSB1cmwgLiByZXBsYWNlICggIiRkb3JlZ2V4WyIgKyBpMWkxSUkxMUkgKyAiXSIgLCAnJyApCiBpZiAnJGVwb2N0aW1lJCcgaW4gdXJsIDoKICB1cmwgPSB1cmwgLiByZXBsYWNlICggJyRlcG9jdGltZSQnICwgbzBJaTFJMTFpSWkxSTFJICggKSApCiBpZiAnJGVwb2N0aW1lMiQnIGluIHVybCA6CiAgdXJsID0gdXJsIC4gcmVwbGFjZSAoICckZXBvY3RpbWUyJCcgLCBpaTExSTFJaWlpICggKSApCiAgaWYgMTkgLSAxOTogSTFJSSAqIGlpSSAuIGlpSQogaWYgJyRHVUlEJCcgaW4gdXJsIDoKICBpbXBvcnQgdXVpZAogIHVybCA9IHVybCAuIHJlcGxhY2UgKCAnJEdVSUQkJyAsIHN0ciAoIHV1aWQgLiB1dWlkMSAoICkgKSAuIHVwcGVyICggKSApCiBpZiAnJGdldF9jb29raWVzJCcgaW4gdXJsIDoKICB1cmwgPSB1cmwgLiByZXBsYWNlICggJyRnZXRfY29va2llcyQnICwgb29vT28wT29vMCAoIGNvb2tpZUphciApICkKICBpZiA1MCAtIDUwOiBPMDAwMDAwTyArIG9PMG8wICUgaTExSWkgKiBvTzAwb29vMG8wT08gJSBJSW9vb08wb29PMG9vCiBpZiByZWN1cnNpdmVDYWxsIDogcmV0dXJuIHVybAogaWYgMzMgLSAzMzogSUkgLSBJMUlJICsgaTExSWkKIGlmIHVybCA9PSAiIiA6CiAgcmV0dXJuCiBlbHNlIDoKICByZXR1cm4gdXJsICwgaTExMUlpMWlpMTEKZGVmIG9Pb29vT29vMDAwICggdCApIDoKIGltcG9ydCBoYXNobGliCiBJSWkxSTFJSUlJSSA9IGhhc2hsaWIgLiBtZDUgKCApCiBJSWkxSTFJSUlJSSAuIHVwZGF0ZSAoIHQgKQogcmV0dXJuIElJaTFJMUlJSUlJIC4gaGV4ZGlnZXN0ICggKQogaWYgOSAtIDk6IG9PMDBvb28wbzBPTyAlIG9PMDBvb28wbzBPTyArIG9PTyArIG9PTwpkZWYgaWlJSWlpSUlJaUkxICggZW5jcnlwdGVkICkgOgogTzBPb08wT28wT08gPSAiIgogaWYgNjMgLSA2MzogaTExSWlJMUlJICUgaWlJCiBpZiA2MiAtIDYyOiBJMQogaWYgODUgLSA4NTogSWkgLiBpaUlJaTFpMUlpaSAuIEkxSUkKIGlmIDUwIC0gNTA6IGlpSSAqIEkxICsgSTFJSUkxaUkxaWlpSWlJMSAlIE9PTyArIElpaUlJaUlJCiBpZiAyMiAtIDIyOiBvT08gKiBJMUlJCmRlZiBJMWlpSWkgKCBtZWRpYV91cmwgKSA6CiB0cnkgOgogIGltcG9ydCBDdXN0b21QbGF5ZXIKICBJMWkxaWlJaTFpaTEgPSBDdXN0b21QbGF5ZXIgLiBNeVhCTUNQbGF5ZXIgKCApCiAgSTFpSWkxMTExaTFJID0geGJtY2d1aSAuIExpc3RJdGVtICggbGFiZWwgPSBzdHIgKCBJSWlpSUkxMTFpICkgLCBpY29uSW1hZ2UgPSAiRGVmYXVsdFZpZGVvLnBuZyIgLCB0aHVtYm5haWxJbWFnZSA9IHhibWMgLiBnZXRJbmZvSW1hZ2UgKCAiTGlzdEl0ZW0uVGh1bWIiICkgLCBwYXRoID0gbWVkaWFfdXJsICkKICBJMWkxaWlJaTFpaTEgLiBwbGF5ICggbWVkaWFfdXJsICwgSTFpSWkxMTExaTFJICkKICB4Ym1jIC4gc2xlZXAgKCAxMDAwICkKICB3aGlsZSBJMWkxaWlJaTFpaTEgLiBpc19hY3RpdmUgOgogICB4Ym1jIC4gc2xlZXAgKCAyMDAgKQogZXhjZXB0IDoKICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCApCiByZXR1cm4gJycKIGlmIDM4IC0gMzg6IElJb29vTzBvb08wb28gLyBPT08gLyBvTzAwb29vMG8wT08gLyBJaWlJSWlJSSAtIElpCmRlZiBJMWkgKCBwYXJhbXMgKSA6CiBvME9vTzBvID0ganNvbiAuIGR1bXBzICggcGFyYW1zICkKIElpaWkxSUkxMUlJMTEgPSB4Ym1jIC4gZXhlY3V0ZUpTT05SUEMgKCBvME9vTzBvICkKIGlmIDkwIC0gOTA6IGlpSSAlIG9PMG8wIC8gb09PICogSUkgJSBvT08gKiBvTzAwb29vMG8wT08KIHRyeSA6CiAgaWkxSTFJaWkgPSBqc29uIC4gbG9hZHMgKCBJaWlpMUlJMTFJSTExICkKIGV4Y2VwdCBVbmljb2RlRGVjb2RlRXJyb3IgOgogIGlpMUkxSWlpID0ganNvbiAuIGxvYWRzICggSWlpaTFJSTExSUkxMSAuIGRlY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApICkKICBpZiAxIC0gMTogb08wbzAgKyBJSW9vb08wb29PMG9vIC0gT09PCiB0cnkgOgogIGlmICdyZXN1bHQnIGluIGlpMUkxSWlpIDoKICAgcmV0dXJuIGlpMUkxSWlpIFsgJ3Jlc3VsdCcgXQogIHJldHVybiBOb25lCiBleGNlcHQgS2V5RXJyb3IgOgogIGxvZ2dlciAuIHdhcm4gKCAiWyVzXSAlcyIgJSAoIHBhcmFtcyBbICdtZXRob2QnIF0gLCBpaTFJMUlpaSBbICdlcnJvcicgXSBbICdtZXNzYWdlJyBdICkgKQogIHJldHVybiBOb25lCiAgaWYgOSAtIDk6IGlpSWkxSWlJICsgaWlJSWkxaTFJaWkgLiBJSSArIGlJSUkxICogb08wMG9vbzBvME9PCiAgaWYgNDMgLSA0MzogaTExSWkgLSBJSW9vb08wb29PMG9vIC4gb08wMG9vbzBvME9PIC4gaUlJSTEgKyBvT08gKyBJMQpkZWYgTzAwMG8gKCBwcm94eXNldHRpbmdzID0gTm9uZSApIDoKIGlmIDI2IC0gMjY6IGkxMUlpSTFJSSAvIGkxMUlpCiBpZiBwcm94eXNldHRpbmdzID09IE5vbmUgOgogIGlmIDY1IC0gNjU6IGlJSUkxICogSWlpSUlpSUkgJSBpaUkKICB4Ym1jIC4gZXhlY3V0ZUpTT05SUEMgKCAneyJqc29ucnBjIjoiMi4wIiwgIm1ldGhvZCI6IlNldHRpbmdzLlNldFNldHRpbmdWYWx1ZSIsICJwYXJhbXMiOnsic2V0dGluZyI6Im5ldHdvcmsudXNlaHR0cHByb3h5IiwgInZhbHVlIjpmYWxzZX0sICJpZCI6MX0nICkKIGVsc2UgOgogIGlmIDk1IC0gOTU6IGlJSUkxCiAgaWkxMUlpMWkxSWkgPSBwcm94eXNldHRpbmdzIC4gc3BsaXQgKCAnOicgKQogIGkxaUkgPSBpaTExSWkxaTFJaSBbIDAgXQogIElJMUlpaUlJID0gaWkxMUlpMWkxSWkgWyAxIF0KICBPMDBvID0gaWkxMUlpMWkxSWkgWyAyIF0KICBpaWlJMTFJMUkxMTExID0gTm9uZQogIE8wT28gPSBOb25lCiAgaWYgMTUgLSAxNTogT09PIC8gSWlpSUlpSUkgKiBPMDBPCiAgaWYgbGVuICggaWkxMUlpMWkxSWkgKSA+IDMgYW5kICdAJyBpbiBpaTExSWkxaTFJaSBbIDMgXSA6CiAgIGlpaUkxMUkxSTExMTEgPSBpaTExSWkxaTFJaSBbIDMgXSAuIHNwbGl0ICggJ0AnICkgWyAwIF0KICAgTzBPbyA9IGlpMTFJaTFpMUlpIFsgMyBdIC4gc3BsaXQgKCAnQCcgKSBbIDEgXQogICBpZiAyNiAtIDI2OiBpMTFJaSArIE9PTwogICBpZiAzOSAtIDM5OiBvT08gJSBvTzAwb29vMG8wT08gKyBpMTFJaQogIHhibWMgLiBleGVjdXRlSlNPTlJQQyAoICd7Impzb25ycGMiOiIyLjAiLCAibWV0aG9kIjoiU2V0dGluZ3MuU2V0U2V0dGluZ1ZhbHVlIiwgInBhcmFtcyI6eyJzZXR0aW5nIjoibmV0d29yay51c2VodHRwcHJveHkiLCAidmFsdWUiOnRydWV9LCAiaWQiOjF9JyApCiAgeGJtYyAuIGV4ZWN1dGVKU09OUlBDICggJ3sianNvbnJwYyI6IjIuMCIsICJtZXRob2QiOiJTZXR0aW5ncy5TZXRTZXR0aW5nVmFsdWUiLCAicGFyYW1zIjp7InNldHRpbmciOiJuZXR3b3JrLmh0dHBwcm94eXR5cGUiLCAidmFsdWUiOicgKyBzdHIgKCBPMDBvICkgKyAnfSwgImlkIjoxfScgKQogIHhibWMgLiBleGVjdXRlSlNPTlJQQyAoICd7Impzb25ycGMiOiIyLjAiLCAibWV0aG9kIjoiU2V0dGluZ3MuU2V0U2V0dGluZ1ZhbHVlIiwgInBhcmFtcyI6eyJzZXR0aW5nIjoibmV0d29yay5odHRwcHJveHlzZXJ2ZXIiLCAidmFsdWUiOiInICsgc3RyICggaTFpSSApICsgJyJ9LCAiaWQiOjF9JyApCiAgeGJtYyAuIGV4ZWN1dGVKU09OUlBDICggJ3sianNvbnJwYyI6IjIuMCIsICJtZXRob2QiOiJTZXR0aW5ncy5TZXRTZXR0aW5nVmFsdWUiLCAicGFyYW1zIjp7InNldHRpbmciOiJuZXR3b3JrLmh0dHBwcm94eXBvcnQiLCAidmFsdWUiOicgKyBzdHIgKCBJSTFJaWlJSSApICsgJ30sICJpZCI6MX0nICkKICBpZiAyIC0gMjogb08wMG9vbzBvME9PICogb09PCiAgaWYgMzMgLSAzMzogb09PCiAgaWYgbm90IGlpaUkxMUkxSTExMTEgPT0gTm9uZSA6CiAgIHhibWMgLiBleGVjdXRlSlNPTlJQQyAoICd7Impzb25ycGMiOiIyLjAiLCAibWV0aG9kIjoiU2V0dGluZ3MuU2V0U2V0dGluZ1ZhbHVlIiwgInBhcmFtcyI6eyJzZXR0aW5nIjoibmV0d29yay5odHRwcHJveHl1c2VybmFtZSIsICJ2YWx1ZSI6IicgKyBzdHIgKCBpaWlJMTFJMUkxMTExICkgKyAnIn0sICJpZCI6MX0nICkKICAgeGJtYyAuIGV4ZWN1dGVKU09OUlBDICggJ3sianNvbnJwYyI6IjIuMCIsICJtZXRob2QiOiJTZXR0aW5ncy5TZXRTZXR0aW5nVmFsdWUiLCAicGFyYW1zIjp7InNldHRpbmciOiJuZXR3b3JrLmh0dHBwcm94eXBhc3N3b3JkIiwgInZhbHVlIjoiJyArIHN0ciAoIE8wT28gKSArICcifSwgImlkIjoxfScgKQogICBpZiA1MCAtIDUwOiBvT08gKiBPMDAwMDAwTyAqIElJSUkgKiBPMDAwMDAwTyAqIE8wME8KICAgaWYgMjQgLSAyNDogSWkgLiBpMTFJaUkxSUkgKyBJMSAqIEkxSUlJMWlJMWlpaUlpSTEgKiBJSW9vb08wb29PMG9vIC8gSTEKZGVmIE8wT29Pb29PICggKSA6CiBPMG8wMDBPbzBPID0gSTFpICggeyAnanNvbnJwYycgOiAnMi4wJyAsICJtZXRob2QiIDogIlNldHRpbmdzLkdldFNldHRpbmdWYWx1ZSIgLCAicGFyYW1zIiA6IHsgInNldHRpbmciIDogIm5ldHdvcmsudXNlaHR0cHByb3h5IiB9ICwgJ2lkJyA6IDEgfSApIFsgJ3ZhbHVlJyBdCiBpZiAyMCAtIDIwOiBJaSArIGkxMUlpICUgSUkKIE8wMG8gPSBJMWkgKCB7ICdqc29ucnBjJyA6ICcyLjAnICwgIm1ldGhvZCIgOiAiU2V0dGluZ3MuR2V0U2V0dGluZ1ZhbHVlIiAsICJwYXJhbXMiIDogeyAic2V0dGluZyIgOiAibmV0d29yay5odHRwcHJveHl0eXBlIiB9ICwgJ2lkJyA6IDEgfSApIFsgJ3ZhbHVlJyBdCiBpZiA3IC0gNzogaTExSWkgLyBvTzAwb29vMG8wT08gJSBJaSAvIG9PTyAuIGkxMUlpSTFJSQogaWYgTzBvMDAwT28wTyA6CiAgaTFpSSA9IEkxaSAoIHsgJ2pzb25ycGMnIDogJzIuMCcgLCAibWV0aG9kIiA6ICJTZXR0aW5ncy5HZXRTZXR0aW5nVmFsdWUiICwgInBhcmFtcyIgOiB7ICJzZXR0aW5nIiA6ICJuZXR3b3JrLmh0dHBwcm94eXNlcnZlciIgfSAsICdpZCcgOiAxIH0gKSBbICd2YWx1ZScgXQogIElJMUlpaUlJID0gdW5pY29kZSAoIEkxaSAoIHsgJ2pzb25ycGMnIDogJzIuMCcgLCAibWV0aG9kIiA6ICJTZXR0aW5ncy5HZXRTZXR0aW5nVmFsdWUiICwgInBhcmFtcyIgOiB7ICJzZXR0aW5nIiA6ICJuZXR3b3JrLmh0dHBwcm94eXBvcnQiIH0gLCAnaWQnIDogMSB9ICkgWyAndmFsdWUnIF0gKQogIGlpaUkxMUkxSTExMTEgPSBJMWkgKCB7ICdqc29ucnBjJyA6ICcyLjAnICwgIm1ldGhvZCIgOiAiU2V0dGluZ3MuR2V0U2V0dGluZ1ZhbHVlIiAsICJwYXJhbXMiIDogeyAic2V0dGluZyIgOiAibmV0d29yay5odHRwcHJveHl1c2VybmFtZSIgfSAsICdpZCcgOiAxIH0gKSBbICd2YWx1ZScgXQogIE8wT28gPSBJMWkgKCB7ICdqc29ucnBjJyA6ICcyLjAnICwgIm1ldGhvZCIgOiAiU2V0dGluZ3MuR2V0U2V0dGluZ1ZhbHVlIiAsICJwYXJhbXMiIDogeyAic2V0dGluZyIgOiAibmV0d29yay5odHRwcHJveHlwYXNzd29yZCIgfSAsICdpZCcgOiAxIH0gKSBbICd2YWx1ZScgXQogIGlmIDczIC0gNzM6IGkxMUlpSTFJSSAqIG9PTyArIEkxICogSTFJSSAqIEkxSUlJMWlJMWlpaUlpSTEgJSBvT08KICBpZiBpaWlJMTFJMUkxMTExIGFuZCBPME9vIGFuZCBpMWlJIGFuZCBJSTFJaWlJSSA6CiAgIHJldHVybiBpMWlJICsgJzonICsgc3RyICggSUkxSWlpSUkgKSArICc6JyArIHN0ciAoIE8wMG8gKSArICc6JyArIGlpaUkxMUkxSTExMTEgKyAnQCcgKyBPME9vCiAgZWxpZiBpMWlJIGFuZCBJSTFJaWlJSSA6CiAgIHJldHVybiBpMWlJICsgJzonICsgc3RyICggSUkxSWlpSUkgKSArICc6JyArIHN0ciAoIE8wMG8gKQogZWxzZSA6CiAgcmV0dXJuIE5vbmUKICBpZiAzNyAtIDM3OiBPMDBPIC8gaTExSWlJMUlJIC4gb08wMG9vbzBvME9PIC4gSTEKZGVmIGlpMTEgKCBtZWRpYV91cmwgLCBuYW1lICwgaWNvbkltYWdlICwgcHJveHlpcCAsIHBvcnQgLCBwcm94eXVzZXIgPSBOb25lICwgcHJveHlwYXNzID0gTm9uZSApIDoKIGlmIDg2IC0gODY6IG9PMG8wCiBpZiBtZWRpYV91cmwgPT0gTm9uZSBvciBtZWRpYV91cmwgPT0gJycgOgogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLk5vdGlmaWNhdGlvbihDYXRvYWwsVW5hYmxlIHRvIHBsYXkgZW1wdHkgVXJsLDUwMDAsIiArIE8wME8wMDAgKyAiKSIgKQogIHJldHVybgogT29PMDBvbzBvbyA9IHhibWNndWkgLiBEaWFsb2dQcm9ncmVzcyAoICkKIE9vTzAwb28wb28gLiBjcmVhdGUgKCAnUHJvZ3Jlc3MnICwgJ1BsYXlpbmcgd2l0aCBjdXN0b20gcHJveHknICkKIE9vTzAwb28wb28gLiB1cGRhdGUgKCAxMCAsICIiICwgInNldHRpbmcgcHJveHkuLiIgLCAiIiApCiBJSTExSTEgPSBGYWxzZQogSUlJSWkxSWlJID0gJycKIGlmIDgyIC0gODI6IGlpSSAlIG9PMG8wCiB0cnkgOgogIGlmIDQgLSA0OiBpaUlpMUlpSSAtIGlpSWkxSWlJCiAgSUlJSWkxSWlJID0gTzBPb09vb08gKCApCiAgcHJpbnQgJ2V4aXN0aW5nX3Byb3h5JyAsIElJSUlpMUlpSQogIGlmIDEgLSAxOiBvTzAwb29vMG8wT08gLSBJSSAqIG9PTyArIElJICUgSTFJSQogIGlmIDQzIC0gNDM6IEkxSUkgLiBvTzBvMCAlIElpIC8gSWlpSUlpSUkgLyBvTzBvMAogIGlmIG5vdCBwcm94eXVzZXIgPT0gTm9uZSA6CiAgIE8wMDBvICggcHJveHlpcCArICc6JyArIHBvcnQgKyAnOjA6JyArIHByb3h5dXNlciArICdAJyArIHByb3h5cGFzcyApCiAgZWxzZSA6CiAgIE8wMDBvICggcHJveHlpcCArICc6JyArIHBvcnQgKyAnOjAnICkKICAgaWYgNjYgLSA2NjogaTExSWlJMUlJCiAgcHJpbnQgJ3Byb3h5IHNldHRpbmcgY29tcGxldGUgcGxheWluZycgLCBtZWRpYV91cmwKICBJSTExSTEgPSBUcnVlCiAgT29PMDBvbzBvbyAuIHVwZGF0ZSAoIDgwICwgIiIgLCAic2V0dGluZyBwcm94eSBjb21wbGV0ZSwgbm93IHBsYXlpbmciICwgIiIgKQogIGlmIDY2IC0gNjY6IGlpSWkxSWlJIC4gT09PIC0gb08wMG9vbzBvME9PCiAgaWYgNDIgLSA0MjogTzAwMDAwME8gKyBpaUkgLyBJaWlJSWlJSSAqIElJb29vTzBvb08wb28gLSBpMTFJaUkxSUkgLiBpaUlpMUlpSQogIGltcG9ydCBDdXN0b21QbGF5ZXIKICBJMWkxaWlJaTFpaTEgPSBDdXN0b21QbGF5ZXIgLiBNeVhCTUNQbGF5ZXIgKCApCiAgSTFpMWlpSWkxaWkxIC4gcGRpYWxvZ3VlID09IE9vTzAwb28wb28KICBJMWlJaTExMTFpMUkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBsYWJlbCA9IHN0ciAoIG5hbWUgKSAsIGljb25JbWFnZSA9IGljb25JbWFnZSAsIHRodW1ibmFpbEltYWdlID0geGJtYyAuIGdldEluZm9JbWFnZSAoICJMaXN0SXRlbS5UaHVtYiIgKSAsIHBhdGggPSBtZWRpYV91cmwgKQogIEkxaTFpaUlpMWlpMSAuIHBsYXkgKCBtZWRpYV91cmwgLCBJMWlJaTExMTFpMUkgKQogIHhibWMgLiBzbGVlcCAoIDEwMDAgKQogIGlmIDgzIC0gODM6IElJb29vTzBvb08wb28gLiBpaUlpMUlpSSAtIElJIC8gSWlpSUlpSUkgLiBJMUlJIC0gb09PCiAgaWYgMTggLSAxODogSUlvb29PMG9vTzBvbyAlIG9PTyAuIGlpSSAuIGlpSUlpMWkxSWlpIC8gSTFJSQogIGltcG9ydCB0aW1lCiAgaWkxSTFpSWlJID0gdGltZSAuIHRpbWUgKCApCiAgdHJ5IDoKICAgd2hpbGUgSTFpMWlpSWkxaWkxIC4gaXNfYWN0aXZlIDoKICAgIHhibWMgLiBzbGVlcCAoIDEwMDAgKQogICAgaWYgSTFpMWlpSWkxaWkxIC4gdXJscGxheWVkID09IEZhbHNlIGFuZCB0aW1lIC4gdGltZSAoICkgLSBpaTFJMWlJaUkgPiAxMiA6CiAgICAgcHJpbnQgJ2ZhaWxlZCEhIScKICAgICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Ob3RpZmljYXRpb24oQ2F0b2FsLFVuYWJsZSB0byBwbGF5IGNoZWNrIHByb3h5LDUwMDAsIiArIE8wME8wMDAgKyAiKSIgKQogICAgIGJyZWFrCiAgICAgaWYgMTkgLSAxOTogSTEKICBleGNlcHQgOiBwYXNzCiAgaWYgNTAgLSA1MDogb08wbzAgJSBJMSAtIGlpSUlpMWkxSWlpIC8gaTExSWlJMUlJICogSUkKICBPb08wMG9vMG9vIC4gY2xvc2UgKCApCiAgT29PMDBvbzBvbyA9IE5vbmUKIGV4Y2VwdCA6CiAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggKQogaWYgT29PMDBvbzBvbyA6CiAgT29PMDBvbzBvbyAuIGNsb3NlICggKQogaWYgSUkxMUkxIDoKICBwcmludCAnbm93IHJlc2V0dGluZyB0aGUgcHJveHkgYmFjaycKICBPMDAwbyAoIElJSUlpMUlpSSApCiAgcHJpbnQgJ3Jlc2V0IGhlcmUnCiByZXR1cm4gJycKIGlmIDM3IC0gMzc6IG9PMDBvb28wbzBPTyAlIGlJSUkxIC0gSUlvb29PMG9vTzBvbyAqIE8wME8gLiBpaUlJaTFpMUlpaSAlIGlpSQogaWYgNzMgLSA3MzogaUlJSTEgKiBPMDBPICsgSUlJSSAqIGlpSUlpMWkxSWlpICUgb09PCmRlZiBpMSAoIHBhZ2VfdmFsdWUgLCByZWZlcmVyID0gTm9uZSApIDoKIGlmIHJlZmVyZXIgOgogIHJlZmVyZXIgPSBbICggJ1JlZmVyZXInICwgcmVmZXJlciApIF0KIGlmIHBhZ2VfdmFsdWUgLiBzdGFydHN3aXRoICggImh0dHAiICkgOgogIEkxSTFpSUlpSUkxID0gcGFnZV92YWx1ZQogIHBhZ2VfdmFsdWUgPSBvMCAoIHBhZ2VfdmFsdWUgLCBoZWFkZXJzID0gcmVmZXJlciApCiAgaWYgNzYgLSA3NjogSUkgLiBpMTFJaUkxSUkgLSBpMTFJaUkxSUkgJSBPMDAwMDAwTwogaUkxSUkxaUlJID0gIihldmFsXChmdW5jdGlvblwocCxhLGMsayxlLCg/OnJ8ZCkuKikiCiBpZiAzOCAtIDM4OiBJMSArIE8wMDAwMDBPICsgSTFJSQogSWlpaTFpMUlJMSA9IHJlIC4gY29tcGlsZSAoIGlJMUlJMWlJSSApIC4gZmluZGFsbCAoIHBhZ2VfdmFsdWUgKQogaUkxSWlJID0gIiIKIGlmIElpaWkxaTFJSTEgYW5kIGxlbiAoIElpaWkxaTFJSTEgKSA+IDAgOgogIGZvciBpaTFpSTExMWlJaTEgaW4gSWlpaTFpMUlJMSA6CiAgIGkxMUlpMTFpID0gT09vb08wTzAwbzBvMCAoIGlpMWlJMTExaUlpMSApCiAgIG9vT29vbyA9IG9PMCAoIGkxMUlpMTFpICwgJ1wnKC4qPylcJycgKQogICBpZiAndW5lc2NhcGUnIGluIGkxMUlpMTFpIDoKICAgIGkxMUlpMTFpID0gdXJsbGliIC4gdW5xdW90ZSAoIG9vT29vbyApCiAgIGlJMUlpSSArPSBpMTFJaTExaSArICdcbicKICAgaWYgNTMgLSA1MzogSTFJSQogICBpZiAyNiAtIDI2OiBpMTFJaSAvIEkxSUlJMWlJMWlpaUlpSTEgKyBJMUlJIC8gSWkgKiBvTzAwb29vMG8wT08KICBJMUkxaUlJaUlJMSA9IG9PMCAoIGlJMUlpSSAsICdzcmM9IiguKj8pIicgKQogIGlmIDEyIC0gMTI6IElpaUlJaUlJIC8gSTFJSUkxaUkxaWlpSWlJMSAtIG9PMDBvb28wbzBPTyAqIElJb29vTzBvb08wb28KICBwYWdlX3ZhbHVlID0gbzAgKCBJMUkxaUlJaUlJMSAsIGhlYWRlcnMgPSByZWZlcmVyICkKICBpZiA2MCAtIDYwOiBvT08gKiBpMTFJaUkxSUkgLiBJaWlJSWlJSSArIEkxSUlJMWlJMWlpaUlpSTEgJSBJSUlJICUgaTExSWkKICBpZiAxMCAtIDEwOiBJMUlJICogb08wbzAgLiBpMTFJaQogIGlmIDg2IC0gODY6IE8wME8gKyBJSW9vb08wb29PMG9vICUgaTExSWkKIElpaWkxMWlJaTFJMSA9IG9PMCAoIHBhZ2VfdmFsdWUgLCAnc3RyZWFtZXJcJy4qP1wnKC4qPylcJ1wpJyApCiBvb29PMGlJMUkgPSBvTzAgKCBwYWdlX3ZhbHVlICwgJ2ZpbGVcJyxcc1wnKC4qPylcJycgKQogaWYgODcgLSA4NzogSUlJSSAuIG9PMG8wIC0gSUlJSSAtIE8wMDAwMDBPCiBpZiAxOCAtIDE4OiBJSW9vb08wb29PMG9vICsgb08wbzAgJSBPMDAwMDAwTwogcmV0dXJuIElpaWkxMWlJaTFJMSArICcgcGxheXBhdGg9JyArIG9vb08waUkxSSArICcgcGFnZVVybD0nICsgSTFJMWlJSWlJSTEKIGlmIDQ2IC0gNDY6IElpCmRlZiBpMTEgKCBwYWdlX3ZhbHVlICwgcmVmZXJlciA9IE5vbmUgKSA6CiBpZiByZWZlcmVyIDoKICByZWZlcmVyID0gWyAoICdSZWZlcmVyJyAsIHJlZmVyZXIgKSBdCiBpZiBwYWdlX3ZhbHVlIC4gc3RhcnRzd2l0aCAoICJodHRwIiApIDoKICBwYWdlX3ZhbHVlID0gbzAgKCBwYWdlX3ZhbHVlICwgaGVhZGVycyA9IHJlZmVyZXIgKQogaUkxSUkxaUlJID0gInZhciBhID0gKC4qPyk7XHMqdmFyIGIgPSAoLio/KTtccyp2YXIgYyA9ICguKj8pO1xzKnZhciBkID0gKC4qPyk7XHMqdmFyIGYgPSAoLio/KTtccyp2YXIgdl9wYXJ0ID0gJyguKj8pJzsiCiBJaWlpMWkxSUkxID0gcmUgLiBjb21waWxlICggaUkxSUkxaUlJICkgLiBmaW5kYWxsICggcGFnZV92YWx1ZSApIFsgMCBdCiBpZiA4OSAtIDg5OiBPMDAwMDAwTyAqIEkxSUlJMWlJMWlpaUlpSTEgLSBJaSAlIGkxMUlpSTFJSSAqIGkxMUlpSTFJSSArIE8wMDAwMDBPCiBPb29vMCAsIEkxaUlJMTFpaTFpaWkgLCBJaWkxSWlpSSAsIGkxaTFJMWlpMWkgLCBvT28wT29PbyAsIGlpMWlJMTExaUlpMSA9ICggSWlpaTFpMUlJMSApCiBvT28wT29PbyA9IGludCAoIG9PbzBPb09vICkKIE9vb28wID0gaW50ICggT29vbzAgKSAvIG9PbzBPb09vCiBJMWlJSTExaWkxaWlpID0gaW50ICggSTFpSUkxMWlpMWlpaSApIC8gb09vME9vT28KIElpaTFJaWlJID0gaW50ICggSWlpMUlpaUkgKSAvIG9PbzBPb09vCiBpMWkxSTFpaTFpID0gaW50ICggaTFpMUkxaWkxaSApIC8gb09vME9vT28KIGlmIDIgLSAyOiBpMTFJaSAqIGlJSUkxICsgb08wbzAgLSBvTzAwb29vMG8wT08gKyBvTzAwb29vMG8wT08gLyBPMDAwMDAwTwogaUkxMSA9ICdydG1wOi8vJyArIHN0ciAoIE9vb28wICkgKyAnLicgKyBzdHIgKCBJMWlJSTExaWkxaWlpICkgKyAnLicgKyBzdHIgKCBJaWkxSWlpSSApICsgJy4nICsgc3RyICggaTFpMUkxaWkxaSApICsgaWkxaUkxMTFpSWkxIDsKIHJldHVybiBpSTExCiBpZiA5NiAtIDk2OiBJSSAuIGkxMUlpIC0gaTExSWkgKyBJMUlJSTFpSTFpaWlJaUkxICUgSWkgKiBPMDAwMDAwTwpkZWYgbzBPb08wMG9vT28gKCB1cmwgLCB1c2VyYWdlbnQgPSBOb25lICkgOgogSUlJSUlJaTFJID0gJyNFWFRNM1UnCiBJSUlJSUlpMUkgKz0gJ1xuI0VYVC1YLVNUUkVBTS1JTkY6UFJPR1JBTS1JRD0xLEJBTkRXSURUSD0zNjE4MTYnCiBJSUlJSUlpMUkgKz0gJ1xuJyArIHVybCArICcmYnl0ZXM9MC0yMDAwMDAnCiBpSWkxMWlJMWlpMUkgPSBvcyAuIHBhdGggLiBqb2luICggSTExMWkxMUkxSSAsICd0ZXN0ZmlsZS5tM3UnICkKIElJSUlJSWkxSSArPSAnXG4nCiBvME9vTyAoIGlJaTExaUkxaWkxSSAsIElJSUlJSWkxSSApCiBpZiAyMSAtIDIxOiBJMUlJIC0gSUkKIHJldHVybiBpSWkxMWlJMWlpMUkKIGlmIDg2IC0gODY6IElpaUlJaUlJIC8gaWlJaTFJaUkKZGVmIG8wT29PICggZmlsZV9uYW1lICwgcGFnZV9kYXRhICwgYXBwZW5kID0gRmFsc2UgKSA6CiBpZiBhcHBlbmQgOgogIG9PbzBPb09vID0gb3BlbiAoIGZpbGVfbmFtZSAsICdhJyApCiAgb09vME9vT28gLiB3cml0ZSAoIHBhZ2VfZGF0YSApCiAgb09vME9vT28gLiBjbG9zZSAoICkKIGVsc2UgOgogIG9PbzBPb09vID0gb3BlbiAoIGZpbGVfbmFtZSAsICd3YicgKQogIG9PbzBPb09vIC4gd3JpdGUgKCBwYWdlX2RhdGEgKQogIG9PbzBPb09vIC4gY2xvc2UgKCApCiAgcmV0dXJuICcnCiAgaWYgODEgLSA4MTogaWlJSWkxaTFJaWkgLyBPT08gLSBJSW9vb08wb29PMG9vIC4gTzAwMDAwME8gLiBJaWlJSWlJSSAvIGlpSUlpMWkxSWlpCmRlZiBpSTFpICggZmlsZV9uYW1lICkgOgogb09vME9vT28gPSBvcGVuICggZmlsZV9uYW1lICwgJ3JiJyApCiBpMWkxSTFpaTFpID0gb09vME9vT28gLiByZWFkICggKQogb09vME9vT28gLiBjbG9zZSAoICkKIHJldHVybiBpMWkxSTFpaTFpCiBpZiAxOSAtIDE5OiBvTzBvMCAtIE8wME8KZGVmIE9PT08wT09vICggcGFnZV9kYXRhICkgOgogaW1wb3J0IHJlICwgYmFzZTY0ICwgdXJsbGliIDsKIElpMUlJMUlpSSA9IHBhZ2VfZGF0YQogd2hpbGUgJ2dlaCgnIGluIElpMUlJMUlpSSA6CiAgaWYgSWkxSUkxSWlJIC4gc3RhcnRzd2l0aCAoICdsb2woJyApIDogSWkxSUkxSWlJID0gSWkxSUkxSWlJIFsgNSA6IC0gMSBdCiAgaWYgNzUgLSA3NTogSUlJSSAqIGkxMUlpICogSUlvb29PMG9vTzBvbyAvIE9PTyAtIElJCiAgSWkxSUkxSWlJID0gcmUgLiBjb21waWxlICggJyIoLio/KSInICkgLiBmaW5kYWxsICggSWkxSUkxSWlJICkgWyAwIF0gOwogIElpMUlJMUlpSSA9IGJhc2U2NCAuIGI2NGRlY29kZSAoIElpMUlJMUlpSSApIDsKICBJaTFJSTFJaUkgPSB1cmxsaWIgLiB1bnF1b3RlICggSWkxSUkxSWlJICkgOwogcHJpbnQgSWkxSUkxSWlJCiByZXR1cm4gSWkxSUkxSWlJCiBpZiA4MSAtIDgxOiBJMUlJIC0gaTExSWkgLSBJSSAvIG9PMG8wIC0gTzAwTwpkZWYgSTExMTFpaUlpSUkgKCBwYWdlX2RhdGEgKSA6CiBpZiA5OSAtIDk5OiBPMDBPIC0gSTFJSSAlIE8wMDAwMDBPICogSTFJSUkxaUkxaWlpSWlJMSAqIG9PMG8wCiBPT09vbzBPT29vT08wID0gbzAgKCBwYWdlX2RhdGEgKSA7CiBpMUlpMTFJSSA9ICcoaHR0cC4qKScKIGltcG9ydCB1dWlkCiBvb09Pb28wT09vbzAgPSBzdHIgKCB1dWlkIC4gdXVpZDEgKCApICkgLiB1cHBlciAoICkKIGlpaUlJSSA9IHJlIC4gY29tcGlsZSAoIGkxSWkxMUlJICkgLiBmaW5kYWxsICggT09Pb28wT09vb09PMCApCiBJMWlJSWkgPSBbICggJ1gtUGxheWJhY2stU2Vzc2lvbi1JZCcgLCBvb09Pb28wT09vbzAgKSBdCiBmb3Igb09pMUlpSTFpSUkxaWlpIGluIGlpaUlJSSA6CiAgdHJ5IDoKICAgSTExaWlpSTFJaUkgPSBvMCAoIG9PaTFJaUkxaUlJMWlpaSAsIGhlYWRlcnMgPSBJMWlJSWkgKSA7CiAgIGlmIDUxIC0gNTE6IEkxICsgSTFJSUkxaUkxaWlpSWlJMSArIElJICsgaWlJICUgSTFJSUkxaUkxaWlpSWlJMQogIGV4Y2VwdCA6IHBhc3MKICBpZiA2NyAtIDY3OiBpMTFJaUkxSUkgLyBpaUkgLyBvTzAwb29vMG8wT08KIHJldHVybiBwYWdlX2RhdGEgKyAnfCZYLVBsYXliYWNrLVNlc3Npb24tSWQ9JyArIG9vT09vbzBPT29vMAogaWYgODkgLSA4OTogSUkgLSBvTzBvMCAuIElJICsgSUlJSSAqIEkxSUkKIGlmIDUwIC0gNTA6IElpaUlJaUlJICogSTFJSUkxaUkxaWlpSWlJMSAlIGlpSWkxSWlJICogSTFJSUkxaUkxaWlpSWlJMQpkZWYgb28wb29vME9PT09vICggcGFnZV9kYXRhICkgOgogaWYgNDEgLSA0MTogSUlJSSArIGkxMUlpSTFJSSAqIGkxMUlpSTFJSSAuIGkxMUlpICogT09PCiBpZiBwYWdlX2RhdGEgLiBzdGFydHN3aXRoICggJ2h0dHA6Ly9kYWcudG90YWwtc3RyZWFtLm5ldCcgKSA6CiAgSTFpSUlpID0gWyAoICdVc2VyLUFnZW50JyAsICdWZXJpc21vLUJsYWNrVUlfKDIuNC43LjUuOC4wLjM0KScgKSBdCiAgcGFnZV9kYXRhID0gbzAgKCBwYWdlX2RhdGEgLCBoZWFkZXJzID0gSTFpSUlpICkgOwogIGlmIDEwIC0gMTA6IG9PMDBvb28wbzBPTyAlIGlpSWkxSWlJCiBpZiAnMTI3LjAuMC4xJyBpbiBwYWdlX2RhdGEgOgogIHJldHVybiBvbzBvME8wb08wTyAoIHBhZ2VfZGF0YSApCiBlbGlmIG9PMCAoIHBhZ2VfZGF0YSAsICd3bXNBdXRoU2lnbiUzRChbXiUmXSspJyApICE9ICcnIDoKICBJSWlJMTFpaSA9IG9PMCAoIHBhZ2VfZGF0YSAsICcmdmVyX3Q9KFteJl0rKSYnICkgKyAnP3dtc0F1dGhTaWduPScgKyBvTzAgKCBwYWdlX2RhdGEgLCAnd21zQXV0aFNpZ24lM0QoW14lJl0rKScgKSArICc9PS9tcDQ6JyArIG9PMCAoIHBhZ2VfZGF0YSAsICdcXD95PShbXiZdKykmJyApCiBlbHNlIDoKICBJSWlJMTFpaSA9IG9PMCAoIHBhZ2VfZGF0YSAsICdocmVmPSIoW14iXSspIlteIl0rJCcgKQogIGlmIGxlbiAoIElJaUkxMWlpICkgPT0gMCA6CiAgIElJaUkxMWlpID0gcGFnZV9kYXRhCiBJSWlJMTFpaSA9IElJaUkxMWlpIC4gcmVwbGFjZSAoICcgJyAsICclMjAnICkKIHJldHVybiBJSWlJMTFpaQogaWYgNDYgLSA0NjogSTEgKiBpaUkgKyBpaUlJaTFpMUlpaSAtIElpaUlJaUlJICogSWkgLSBJMUlJCmRlZiBvTzAgKCBkYXRhICwgcmVfcGF0dGVuICkgOgogb09PbyA9ICcnCiBpMWkgPSByZSAuIHNlYXJjaCAoIHJlX3BhdHRlbiAsIGRhdGEgKQogaWYgaTFpICE9IE5vbmUgOgogIG9PT28gPSBpMWkgLiBncm91cCAoIDEgKQogZWxzZSA6CiAgb09PbyA9ICcnCiByZXR1cm4gb09PbwogaWYgMTYgLSAxNjogSUkgLSBpMTFJaSAlIEkxSUlJMWlJMWlpaUlpSTEKZGVmIG9vMG8wTzBvTzBPICggcGFnZV9kYXRhICkgOgogSUlpSTExaWkgPSAnJwogaWYgJzEyNy4wLjAuMScgaW4gcGFnZV9kYXRhIDoKICBJSWlJMTFpaSA9IG9PMCAoIHBhZ2VfZGF0YSAsICcmdmVyX3Q9KFteJl0rKSYnICkgKyAnIGxpdmU9dHJ1ZSB0aW1lb3V0PTE1IHBsYXlwYXRoPScgKyBvTzAgKCBwYWdlX2RhdGEgLCAnXFw/eT0oW2EtekEtWjAtOS1fXFwuQF0rKScgKQogIGlmIDM4IC0gMzg6IEkxSUkgKyBPT08gKyBPMDAwMDAwTyAtIG9PTyAlIGlpSSAtIGkxMUlpSTFJSQogaWYgb08wICggcGFnZV9kYXRhICwgJ3Rva2VuPShbXiZdKykmJyApICE9ICcnIDoKICBJSWlJMTFpaSA9IElJaUkxMWlpICsgJz90b2tlbj0nICsgb08wICggcGFnZV9kYXRhICwgJ3Rva2VuPShbXiZdKykmJyApCiBlbGlmIG9PMCAoIHBhZ2VfZGF0YSAsICd3bXNBdXRoU2lnbiUzRChbXiUmXSspJyApICE9ICcnIDoKICBJSWlJMTFpaSA9IG9PMCAoIHBhZ2VfZGF0YSAsICcmdmVyX3Q9KFteJl0rKSYnICkgKyAnP3dtc0F1dGhTaWduPScgKyBvTzAgKCBwYWdlX2RhdGEgLCAnd21zQXV0aFNpZ24lM0QoW14lJl0rKScgKSArICc9PS9tcDQ6JyArIG9PMCAoIHBhZ2VfZGF0YSAsICdcXD95PShbXiZdKykmJyApCiBlbHNlIDoKICBJSWlJMTFpaSA9IG9PMCAoIHBhZ2VfZGF0YSAsICdIUkVGPSIoW14iXSspIicgKQogIGlmIDIyIC0gMjI6IE8wME8KIGlmICdkYWcxLmFzeCcgaW4gSUlpSTExaWkgOgogIHJldHVybiBvbzBvb28wT09PT28gKCBJSWlJMTFpaSApCiAgaWYgODggLSA4ODogaWlJICUgSWlpSUlpSUkKIGlmICdkZXZpbmxpdmVmcy5mcGxpdmUubmV0JyBub3QgaW4gSUlpSTExaWkgOgogIElJaUkxMWlpID0gSUlpSTExaWkgLiByZXBsYWNlICggJ2RldmlubGl2ZScgLCAnZmxpdmUnICkKIGlmICdwZXJtbGl2ZWZzLmZwbGl2ZS5uZXQnIG5vdCBpbiBJSWlJMTFpaSA6CiAgSUlpSTExaWkgPSBJSWlJMTFpaSAuIHJlcGxhY2UgKCAncGVybWxpdmUnICwgJ2ZsaXZlJyApCiByZXR1cm4gSUlpSTExaWkKIGlmIDIzIC0gMjM6IElJIC8gaTExSWlJMUlJCiBpZiA3MiAtIDcyOiBJMUlJIC4gaWlJaTFJaUkgJSBPT08gKyBJMUlJIC8gaWlJICsgaWlJCmRlZiBJSTExaUlJMTExMTExICggc3RyX2V2YWwgKSA6CiBpaU9PT29PMG8wID0gIiIKIHRyeSA6CiAgaTFJMTFpSWlpID0gIncsaSxzLGU9KCIgKyBzdHJfZXZhbCArICcpJwogIGV4ZWMgKCBpMUkxMWlJaWkgKQogIGlpT09Pb08wbzAgPSBJSUlpMTFpSWlJSTExICggdyAsIE9PbzBvT09PTzAgLCBJaTFJSTFJaUkgLCBlICkKIGV4Y2VwdCA6IHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogaWYgNzAgLSA3MDogSTEgKyBJaWlJSWlJSSArIEkxIC0gSWkgKyBJMUlJSTFpSTFpaWlJaUkxICogSWkKIHJldHVybiBpaU9PT29PMG8wCiBpZiAzNiAtIDM2OiBJMUlJSTFpSTFpaWlJaUkxICUgSUlvb29PMG9vTzBvbyAtIElJCmRlZiBJSUlpMTFpSWlJSTExICggdyAsIGkgLCBzICwgZSApIDoKIEkxaTFJMWlJMUlpSSA9IDAgOwogbzAwb08wT09vTyA9IDAgOwogaTFJMTExaUlpMWkxaSA9IDAgOwogb09vMDBPb08wbyA9IFsgXSA7CiBJMWkxMWlJSWkxSTFpID0gWyBdIDsKIHdoaWxlIFRydWUgOgogIGlmICggSTFpMUkxaUkxSWlJIDwgNSApIDoKICAgSTFpMTFpSUlpMUkxaSAuIGFwcGVuZCAoIHcgWyBJMWkxSTFpSTFJaUkgXSApCiAgZWxpZiAoIEkxaTFJMWlJMUlpSSA8IGxlbiAoIHcgKSApIDoKICAgb09vMDBPb08wbyAuIGFwcGVuZCAoIHcgWyBJMWkxSTFpSTFJaUkgXSApIDsKICBJMWkxSTFpSTFJaUkgKz0gMSA7CiAgaWYgKCBvMDBvTzBPT29PIDwgNSApIDoKICAgSTFpMTFpSUlpMUkxaSAuIGFwcGVuZCAoIGkgWyBvMDBvTzBPT29PIF0gKQogIGVsaWYgKCBvMDBvTzBPT29PIDwgbGVuICggaSApICkgOgogICBvT28wME9vTzBvIC4gYXBwZW5kICggaSBbIG8wMG9PME9Pb08gXSApCiAgbzAwb08wT09vTyArPSAxIDsKICBpZiAoIGkxSTExMWlJaTFpMWkgPCA1ICkgOgogICBJMWkxMWlJSWkxSTFpIC4gYXBwZW5kICggcyBbIGkxSTExMWlJaTFpMWkgXSApCiAgZWxpZiAoIGkxSTExMWlJaTFpMWkgPCBsZW4gKCBzICkgKSA6CiAgIG9PbzAwT29PMG8gLiBhcHBlbmQgKCBzIFsgaTFJMTExaUlpMWkxaSBdICkgOwogIGkxSTExMWlJaTFpMWkgKz0gMSA7CiAgaWYgKCBsZW4gKCB3ICkgKyBsZW4gKCBpICkgKyBsZW4gKCBzICkgKyBsZW4gKCBlICkgPT0gbGVuICggb09vMDBPb08wbyApICsgbGVuICggSTFpMTFpSUlpMUkxaSApICsgbGVuICggZSApICkgOgogICBicmVhayA7CiAgIGlmIDMyIC0gMzI6IGlJSUkxICogb09PICsgaWlJSWkxaTFJaWkKIG9PT29PTyA9ICcnIC4gam9pbiAoIG9PbzAwT29PMG8gKQogaWlJaWlJID0gJycgLiBqb2luICggSTFpMTFpSUlpMUkxaSApCiBvMDBvTzBPT29PID0gMCA7CiBJSUlpMWkxaSA9IFsgXSA7CiBmb3IgSTFpMUkxaUkxSWlJIGluIHJhbmdlICggMCAsIGxlbiAoIG9PbzAwT29PMG8gKSAsIDIgKSA6CiAgaWYgMSAtIDE6IElJCiAgaWlJSWlpaTFpMSA9IC0gMSA7CiAgaWYgKCBvcmQgKCBpaUlpaUkgWyBvMDBvTzBPT29PIF0gKSAlIDIgKSA6CiAgIGlpSUlpaWkxaTEgPSAxIDsKICAgaWYgMzMgLSAzMzogT09PIC8gTzAwMDAwME8gKyBPT08gLSBJMUlJCiAgSUlJaTFpMWkgLiBhcHBlbmQgKCBjaHIgKCBpbnQgKCBvT09vT08gWyBJMWkxSTFpSTFJaUkgOiBJMWkxSTFpSTFJaUkgKyAyIF0gLCAzNiApIC0gaWlJSWlpaTFpMSApICkgOwogIG8wMG9PME9Pb08gKz0gMSA7CiAgaWYgKCBvMDBvTzBPT29PID49IGxlbiAoIEkxaTExaUlJaTFJMWkgKSApIDoKICAgbzAwb08wT09vTyA9IDAgOwogaUkxMSA9ICcnIC4gam9pbiAoIElJSWkxaTFpICkKIGlmICdldmFsKGZ1bmN0aW9uKHcsaSxzLGUpJyBpbiBpSTExIDoKICBpZiA3NCAtIDc0OiBpaUkgKiBJMUlJIC8gSWlpSUlpSUkgKiBJMQogIGlJMTEgPSByZSAuIGNvbXBpbGUgKCAnZXZhbFwoZnVuY3Rpb25cKHcsaSxzLGVcKS4qfVwoKC4qPylcKScgKSAuIGZpbmRhbGwgKCBpSTExICkgWyAwIF0KICByZXR1cm4gSUkxMWlJSTExMTExMSAoIGlJMTEgKQogZWxzZSA6CiAgaWYgNTkgLSA1OTogaTExSWlJMUlJICogSUlJSQogIHJldHVybiBpSTExCiAgaWYgNjIgLSA2Mjogb08wbzAgLyBPT08gLiBpaUlJaTFpMUlpaSAqIElJSUkgLiBJaQpkZWYgT09vb08wTzAwbzBvMCAoIHBhZ2VfdmFsdWUgLCByZWdleF9mb3JfdGV4dCA9ICcnICwgaXRlcmF0aW9ucyA9IDEgLCB0b3RhbF9pdGVyYXRpb24gPSAxICkgOgogdHJ5IDoKICBpMWlpSUkxMUlpMUlpID0gTm9uZQogIGlmIHBhZ2VfdmFsdWUgLiBzdGFydHN3aXRoICggImh0dHAiICkgOgogICBwYWdlX3ZhbHVlID0gbzAgKCBwYWdlX3ZhbHVlICkKICAgaWYgMzkgLSAzOTogSUlvb29PMG9vTzBvbyAvIGlpSWkxSWlJIC0gSWlpSUlpSUkgLSBJaSAvIEkxSUkKICBpZiByZWdleF9mb3JfdGV4dCBhbmQgbGVuICggcmVnZXhfZm9yX3RleHQgKSA+IDAgOgogICB0cnkgOgogICAgcGFnZV92YWx1ZSA9IHJlIC4gY29tcGlsZSAoIHJlZ2V4X2Zvcl90ZXh0ICkgLiBmaW5kYWxsICggcGFnZV92YWx1ZSApIFsgMCBdCiAgIGV4Y2VwdCA6IHJldHVybiAnTk9UUEFDS0VEJwogICBpZiAxMDAgLSAxMDA6IElpaUlJaUlJICUgTzAwMDAwME8KICBwYWdlX3ZhbHVlID0gbzBPME9PTzAgKCBwYWdlX3ZhbHVlICwgaXRlcmF0aW9ucyAsIHRvdGFsX2l0ZXJhdGlvbiApCiBleGNlcHQgOgogIHBhZ2VfdmFsdWUgPSAnVU5QQUNLRURGQUlMRUQnCiAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgaWYgNTEgLSA1MTogT09PIC8gaWlJaTFJaUkKIGlmICdzYXYxbGl2ZS50dicgaW4gcGFnZV92YWx1ZSA6CiAgcGFnZV92YWx1ZSA9IHBhZ2VfdmFsdWUgLiByZXBsYWNlICggJ3NhdjFsaXZlLnR2JyAsICdzYXdsaXZlLnR2JyApCiAgaWYgNDAgLSA0MDogaWlJICogSUlJSSAqIE8wME8KIHJldHVybiBwYWdlX3ZhbHVlCiBpZiAxMSAtIDExOiBvT08gKyBvT08gKiBJSUlJIC4gaWlJaTFJaUkKZGVmIG8wTzBPT08wICggc0phdmFzY3JpcHQgLCBpdGVyYXRpb24gPSAxICwgdG90YWxpdGVyYXRpb25zID0gMiApIDoKIGlmIDkyIC0gOTI6IElpaUlJaUlJICogTzAwMDAwME8gLSBPMDBPCiBpZiBzSmF2YXNjcmlwdCAuIHN0YXJ0c3dpdGggKCAndmFyIF8weGNiOGE9JyApIDoKICBJMUlJaWlpaSA9IHNKYXZhc2NyaXB0IC4gc3BsaXQgKCAndmFyIF8weGNiOGE9JyApCiAgaTFJMTFpSWlpID0gIm15YXJyYXk9IiArIEkxSUlpaWlpIFsgMSBdIC4gc3BsaXQgKCAiZXZhbCgiICkgWyAwIF0KICBleGVjICggaTFJMTFpSWlpICkKICBPT28wMCA9IDYyCiAgTzBPaUkxID0gaW50ICggSTFJSWlpaWkgWyAxIF0gLiBzcGxpdCAoICIsNjIsIiApIFsgMSBdIC4gc3BsaXQgKCAnLCcgKSBbIDAgXSApCiAgSUlPb28wMDBPMDBvME8gPSBteWFycmF5IFsgMCBdCiAgbzAwbzBvbzBPb28wID0gbXlhcnJheSBbIDMgXQogIHdpdGggb3BlbiAoICd0ZW1wIGZpbGUnICsgc3RyICggaXRlcmF0aW9uICkgKyAnLmpzJyAsICJ3YiIgKSBhcyBpMTFJaWlpaUkxMWkxMUlJSSA6CiAgIGkxMUlpaWlpSTExaTExSUlJIC4gd3JpdGUgKCBzdHIgKCBvMDBvMG9vME9vbzAgKSApCiAgIGlmIDI1IC0gMjU6IG9PMDBvb28wbzBPTyAuIGlpSWkxSWlJICsgSUkKIGVsc2UgOgogIGlmIDkzIC0gOTM6IEkxSUlJMWlJMWlpaUlpSTEgJSBJSSArIGlpSSAlIGlpSSAlIG9PMDBvb28wbzBPTwogIGlmICJybiBwfSgnIiBpbiBzSmF2YXNjcmlwdCA6CiAgIEkxSUlpaWlpID0gc0phdmFzY3JpcHQgLiBzcGxpdCAoICJybiBwfSgnIiApCiAgZWxzZSA6CiAgIEkxSUlpaWlpID0gc0phdmFzY3JpcHQgLiBzcGxpdCAoICJybiBBfSgnIiApCiAgIGlmIDE2IC0gMTY6IElpICsgaWlJaTFJaUkgLiBPMDAwMDAwTwogICBpZiA2NiAtIDY2OiBpMTFJaSAlIElJSUkKICBJSU9vbzAwME8wMG8wTyAsIE9PbzAwICwgTzBPaUkxICwgbzAwbzBvbzBPb28wID0gKCAnJyAsICcwJyAsICcwJyAsICcnICkKICBpZiAxNiAtIDE2OiBpaUlpMUlpSSAvIG9PMDBvb28wbzBPTyAqIElJb29vTzBvb08wb28gLSBpaUlpMUlpSQogIGkxSTExaUlpaSA9ICJwMSxhMSxjMSxrMT0oJyIgKyBJMUlJaWlpaSBbIDEgXSAuIHNwbGl0ICggIi5zcGxpIiApIFsgMCBdICsgJyknCiAgZXhlYyAoIGkxSTExaUlpaSApCiBvMDBvMG9vME9vbzAgPSBvMDBvMG9vME9vbzAgLiBzcGxpdCAoICd8JyApCiBJMUlJaWlpaSA9IEkxSUlpaWlpIFsgMSBdIC4gc3BsaXQgKCAiKSknIiApCiBpZiAyMCAtIDIwOiBJaWlJSWlJSSAlIE8wMDAwMDBPIC0gaWlJSWkxaTFJaWkgLyBpaUkgKyBJMUlJICUgaWlJSWkxaTFJaWkKIGlmIDk0IC0gOTQ6IEkxSUkKIGlmIDc4IC0gNzg6IGkxMUlpIC4gaWlJIC8gaUlJSTEKIGlmIDU0IC0gNTQ6IE9PTyAlIG9PTyAuIElJICUgTzAwMDAwME8gJSBJMUlJSTFpSTFpaWlJaUkxIC0gb08wMG9vbzBvME9PCiBpZiAyMyAtIDIzOiBpaUkgKyBJMUlJICUgSTFJSSAlIEkxSUkKIGlmIDMgLSAzOiBJSW9vb08wb29PMG9vICogT09PCiBpZiAxMiAtIDEyOiBvTzBvMCArIGkxMUlpICUgTzAwMDAwME8gLyBvTzBvMCArIElJCiBpZiA2MiAtIDYyOiBJaSArIGkxMUlpSTFJSSAqIGlpSWkxSWlJIC4gSUlvb29PMG9vTzBvbyAqIElpaUlJaUlJICUgT09PCiBpZiAzOSAtIDM5OiBJaSArIE8wME8KIGlmIDMgLSAzOiBPMDAwMDAwTwogaWYgNjcgLSA2NzogSWlpSUlpSUkgLSBvT08gLyBJMUlJSTFpSTFpaWlJaUkxIC4gaTExSWlJMUlJCiBpZiA4NCAtIDg0OiBJMQogaWYgNzggLSA3ODogT09PIC8gb08wbzAgLyBPMDBPCiBpZiA4MyAtIDgzOiBpaUkgLyBpaUlpMUlpSSAvIEkxICUgSWlpSUlpSUkgLiBpaUlJaTFpMUlpaQogaWYgODUgLSA4NTogaWlJaTFJaUkgJSBvT08gKiBpaUlJaTFpMUlpaQogaWYgNjEgLSA2MTogT09PIC4gaWlJICsgb08wMG9vbzBvME9PICUgaWlJIC8gaWlJSWkxaTFJaWkgJSBJaQogaWYgNDMgLSA0MzogSWlpSUlpSUkgJSBJSUlJIC8gSTFJSSAtIE8wMDAwMDBPCiBpZiA2NiAtIDY2OiBvT08KIGlmIDUwIC0gNTA6IE8wME8KIGlmIDQyIC0gNDI6IG9PMG8wIC4gSWkgLiBvTzAwb29vMG8wT08gLSBJSW9vb08wb29PMG9vCiBpZiAzIC0gMzogSWlpSUlpSUkgLyBpSUlJMSArIElJSUkgLiBpaUlpMUlpSQogaWYgNyAtIDc6IElpCiBpMUlpMUlJID0gJycKIGkxaTFJMWlpMWkgPSAnJwogaWYgNTIgLSA1MjogaWlJaTFJaUkgLSBpaUkgLyBJaSAuIGkxMUlpSTFJSQogaWYgMjcgLSAyNzogTzAwMDAwME8gLyBJMUlJICsgSTEgLSBJMUlJSTFpSTFpaWlJaUkxIC8gb08wbzAgKiBpaUlJaTFpMUlpaQogaWlpaUlJaTEgPSBzdHIgKCBJaTFpSUlpICggSUlPb28wMDBPMDBvME8gLCBPT28wMCAsIE8wT2lJMSAsIG8wMG8wb28wT29vMCAsIGkxSWkxSUkgLCBpMWkxSTFpaTFpICwgaXRlcmF0aW9uICkgKQogaWYgNiAtIDY6IEkxSUkgJSBPT08gKiBpaUlpMUlpSSAuIElpIC8gT09PIC0gT09PCiBpZiAyMyAtIDIzOiBpMTFJaUkxSUkgJSBpMTFJaSArIGkxMUlpCiBpZiA0OCAtIDQ4OiBvTzBvMCArIG9PTyAlIE8wMDAwMDBPICogSUkgLSBPT08KIGlmIDEwIC0gMTA6IEkxSUlJMWlJMWlpaUlpSTEgLyBJMUlJSTFpSTFpaWlJaUkxIC0gb08wMG9vbzBvME9PICsgSWkgJSBJSSArIGkxMUlpSTFJSQogaWYgOTYgLSA5Njogb08wbzAgJSBJaWlJSWlJSSAtIEkxIC4gaWlJaTFJaUkKIGlmIGl0ZXJhdGlvbiA+PSB0b3RhbGl0ZXJhdGlvbnMgOgogIGlmIDEyIC0gMTI6IElJSUkgJSBJMSArIElpICogaWlJaTFJaUkgLyBvTzAwb29vMG8wT08gLSBJMUlJCiAgcmV0dXJuIGlpaWlJSWkxCiBlbHNlIDoKICBpZiAzMiAtIDMyOiBPMDAwMDAwTyAtIElJCiAgcmV0dXJuIG8wTzBPT08wICggaWlpaUlJaTEgLCBpdGVyYXRpb24gKyAxICkKICBpZiA2IC0gNjogSUlJSSAlIEkxSUkgLyBpaUlpMUlpSSAqIGlpSWkxSWlJCmRlZiBJaTFpSUlpICggcCAsIGEgLCBjICwgayAsIGUgLCBkICwgaXRlcmF0aW9uICwgdiA9IDEgKSA6CiBpZiAyIC0gMjogSWkKIGlmIDg4IC0gODg6IG9PMG8wICogaWlJICUgT09PCiBpZiA4MyAtIDgzOiBJMSAvIGlJSUkxICsgb09PICogTzAwMDAwME8gJSBJMQogd2hpbGUgKCBjID49IDEgKSA6CiAgYyA9IGMgLSAxCiAgaWYgKCBrIFsgYyBdICkgOgogICBJSUkxSUlpSUkxMSA9IHN0ciAoIGlJMUlpMUlJSTExMUkgKCBjICwgYSApICkKICAgaWYgdiA9PSAxIDoKICAgIHAgPSByZSAuIHN1YiAoICdcXGInICsgSUlJMUlJaUlJMTEgKyAnXFxiJyAsIGsgWyBjIF0gLCBwICkKICAgZWxzZSA6CiAgICBwID0gT09PbzBvTyAoIHAgLCBJSUkxSUlpSUkxMSAsIGsgWyBjIF0gKQogICAgaWYgMTEgLSAxMTogb08wMG9vbzBvME9PIC4gTzAwMDAwME8gKiBpaUkKICAgIGlmIDgxIC0gODE6IE9PTyAuIElJICogb09PCiAgICBpZiA5MCAtIDkwOiBpMTFJaUkxSUkgLiBpMTFJaQogICAgaWYgMTAwIC0gMTAwOiBpMTFJaUkxSUkgKyBJaWlJSWlJSSAqIGkxMUlpICsgSTFJSUkxaUkxaWlpSWlJMQogICAgaWYgOTQgLSA5NDogaWlJaTFJaUkgLiBpaUkgKyBvTzBvMAogICAgaWYgMjMgLSAyMzogSUlvb29PMG9vTzBvbwogcmV0dXJuIHAKIGlmIDkwIC0gOTA6IGlpSSAqIEkxSUlJMWlJMWlpaUlpSTEgLiBJaWlJSWlJSQogaWYgMTggLSAxODogSWlpSUlpSUkgLyBJMQogaWYgOTQgLSA5NDogT09PIC0gT09PICUgaWlJIC0gSTEgKyBvTzAwb29vMG8wT08KZGVmIE9PT28wb08gKCBzb3VyY2Vfc3RyICwgd29yZF90b19maW5kICwgcmVwbGFjZV93aXRoICkgOgogaWlJSTFpMSA9IE5vbmUKIGlpSUkxaTEgPSBzb3VyY2Vfc3RyIC4gc3BsaXQgKCB3b3JkX3RvX2ZpbmQgKQogaWYgbGVuICggaWlJSTFpMSApID4gMSA6CiAgSUlpID0gWyBdCiAgaTFJSWlJID0gMAogIGZvciBPb29vT09Pb09vIGluIGlpSUkxaTEgOgogICBpZiA1MiAtIDUyOiBpMTFJaUkxSUkgJSBPMDAwMDAwTyArIElJb29vTzBvb08wb28KICAgSUlpIC4gYXBwZW5kICggT29vb09PT29PbyApCiAgIE8wb09vTzAgPSB3b3JkX3RvX2ZpbmQKICAgaWYgNDEgLSA0MTogb09PCiAgIGlmIDYwIC0gNjA6IGlpSWkxSWlJICsgaUlJSTEgKyBJaSArIGlpSWkxSWlJCiAgIGlmIGkxSUlpSSA9PSBsZW4gKCBpaUlJMWkxICkgLSAxIDoKICAgIE8wb09vTzAgPSAnJwogICBlbHNlIDoKICAgIGlmIGxlbiAoIE9vb29PT09vT28gKSA9PSAwIDoKICAgICBpZiAoIGxlbiAoIGlpSUkxaTEgWyBpMUlJaUkgKyAxIF0gKSA9PSAwIGFuZCB3b3JkX3RvX2ZpbmQgWyAwIF0gLiBsb3dlciAoICkgbm90IGluICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejEyMzQ1Njc4OTBfJyApIG9yICggbGVuICggaWlJSTFpMSBbIGkxSUlpSSArIDEgXSApID4gMCBhbmQgaWlJSTFpMSBbIGkxSUlpSSArIDEgXSBbIDAgXSAuIGxvd2VyICggKSBub3QgaW4gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MTIzNDU2Nzg5MF8nICkgOgogICAgICBPMG9Pb08wID0gcmVwbGFjZV93aXRoCiAgICAgIGlmIDcxIC0gNzE6IEkxSUkgKiBPMDAwMDAwTyAqIGlpSWkxSWlJICsgSTFJSSAvIElJSUkgJSBJMUlJSTFpSTFpaWlJaUkxCiAgICBlbHNlIDoKICAgICBpZiAoIGlpSUkxaTEgWyBpMUlJaUkgXSBbIC0gMSBdIC4gbG93ZXIgKCApIG5vdCBpbiAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoxMjM0NTY3ODkwXycgKSBhbmQgKCAoIGxlbiAoIGlpSUkxaTEgWyBpMUlJaUkgKyAxIF0gKSA9PSAwIGFuZCB3b3JkX3RvX2ZpbmQgWyAwIF0gLiBsb3dlciAoICkgbm90IGluICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejEyMzQ1Njc4OTBfJyApIG9yICggbGVuICggaWlJSTFpMSBbIGkxSUlpSSArIDEgXSApID4gMCBhbmQgaWlJSTFpMSBbIGkxSUlpSSArIDEgXSBbIDAgXSAuIGxvd2VyICggKSBub3QgaW4gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MTIzNDU2Nzg5MF8nICkgKSA6CiAgICAgIE8wb09vTzAgPSByZXBsYWNlX3dpdGgKICAgICAgaWYgNDQgLSA0NDogSWlpSUlpSUkgLSBJMUlJSTFpSTFpaWlJaUkxICUgSUlJSSAuIElJb29vTzBvb08wb28KICAgSUlpIC4gYXBwZW5kICggTzBvT29PMCApCiAgIGkxSUlpSSArPSAxCiAgIGlmIDQ1IC0gNDU6IEkxCiAgc291cmNlX3N0ciA9ICcnIC4gam9pbiAoIElJaSApCiByZXR1cm4gc291cmNlX3N0cgogaWYgOTAgLSA5MDogb08wbzAgJSBpMTFJaUkxSUkgLyBJMUlJIC4gaWlJICogSTFJSSAqIG9PMDBvb28wbzBPTwpkZWYgTzBvT09vT09PbzAgKCBudW0gLCByYWRpeCApIDoKIGlmIDI1IC0gMjU6IG9PMG8wCiBPTzBvTyA9ICIiCiBpZiBudW0gPT0gMCA6IHJldHVybiAnMCcKIHdoaWxlIG51bSA+IDAgOgogIE9PMG9PID0gIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIgWyBudW0gJSByYWRpeCBdICsgT08wb08KICBudW0gLz0gcmFkaXgKIHJldHVybiBPTzBvTwogaWYgNTMgLSA1MzogaWlJIC8gaTExSWlJMUlJIC8gb08wMG9vbzBvME9PIC8gb08wMG9vbzBvME9PCmRlZiBpSTFJaTFJSUkxMTFJICggY2MgLCBhICkgOgogSUlJMUlJaUlJMTEgPSAiIiBpZiBjYyA8IGEgZWxzZSBpSTFJaTFJSUkxMTFJICggaW50ICggY2MgLyBhICkgLCBhICkKIGNjID0gKCBjYyAlIGEgKQogb28wME9vMCA9IGNociAoIGNjICsgMjkgKSBpZiBjYyA+IDM1IGVsc2Ugc3RyICggTzBvT09vT09PbzAgKCBjYyAsIDM2ICkgKQogcmV0dXJuIElJSTFJSWlJSTExICsgb28wME9vMAogaWYgNzIgLSA3MjogaWlJaTFJaUkKIGlmIDkwIC0gOTA6IG9PMG8wIC0gSTEgKiBpaUlpMUlpSSAuIE8wME8gLyBPT08KZGVmIG9vb09vME9vbzAgKCBjb29raWVKYXIgKSA6CiB0cnkgOgogIE8wME9vbzAwb29Pb28gPSAiIgogIGZvciBJSTExSWkgLCBvb2kxMWkxSTFpSUkgaW4gZW51bWVyYXRlICggY29va2llSmFyICkgOgogICBPMDBPb28wMG9vT29vICs9IG9vaTExaTFJMWlJSSAuIG5hbWUgKyAiPSIgKyBvb2kxMWkxSTFpSUkgLiB2YWx1ZSArICI7IgogZXhjZXB0IDogcGFzcwogaWYgOTEgLSA5MTogSTFJSSAuIG9PMDBvb28wbzBPTyArIE8wME8gKiBJMUlJIC4gSWkKIHJldHVybiBPMDBPb28wMG9vT29vCiBpZiA4MyAtIDgzOiBpSUlJMSAuIEkxSUkKIGlmIDIgLSAyOiBJSUlJIC0gT09PIC0gaTExSWkKZGVmIGlpaTFpMUkgKCBjb29raWVKYXIgLCBDT09LSUVGSUxFICkgOgogdHJ5IDoKICBpMWkxID0gb3MgLiBwYXRoIC4gam9pbiAoIEkxMTFpMTFJMUkgLCBDT09LSUVGSUxFICkKICBjb29raWVKYXIgLiBzYXZlICggaTFpMSAsIGlnbm9yZV9kaXNjYXJkID0gVHJ1ZSApCiBleGNlcHQgOiBwYXNzCiBpZiA5OSAtIDk5OiBJMUlJIC4gb08wbzAgLyBpaUkKZGVmIGlJSTEgKCBDT09LSUVGSUxFICkgOgogaWYgMTAwIC0gMTAwOiBJMUlJSTFpSTFpaWlJaUkxIC8gSUlvb29PMG9vTzBvbyArIG9PTyAuIGkxMUlpSTFJSSAuIEkxSUkgKyBJaQogaUlpaTEgPSBOb25lCiBpZiBDT09LSUVGSUxFIDoKICB0cnkgOgogICBpMWkxID0gb3MgLiBwYXRoIC4gam9pbiAoIEkxMTFpMTFJMUkgLCBDT09LSUVGSUxFICkKICAgaUlpaTEgPSBjb29raWVsaWIgLiBMV1BDb29raWVKYXIgKCApCiAgIGlJaWkxIC4gbG9hZCAoIGkxaTEgLCBpZ25vcmVfZGlzY2FyZCA9IFRydWUgKQogIGV4Y2VwdCA6CiAgIGlJaWkxID0gTm9uZQogICBpZiAyNCAtIDI0OiBpMTFJaSAtIGlpSUlpMWkxSWlpICogSWkgLSBpaUlpMUlpSSAvIEkxSUkgLyBpMTFJaUkxSUkKIGlmIG5vdCBpSWlpMSA6CiAgaUlpaTEgPSBjb29raWVsaWIgLiBMV1BDb29raWVKYXIgKCApCiAgaWYgNjMgLSA2MzogaTExSWkgLiBJMSAuIE8wME8gKiBPMDAwMDAwTyAvIGlJSUkxCiByZXR1cm4gaUlpaTEKIGlmIDk0IC0gOTQ6IElpaUlJaUlJCmRlZiBPb09vME9PMG8gKCBmdW5fY2FsbCAsIHBhZ2VfZGF0YSAsIENvb2tpZV9KYXIgLCBtICkgOgogaTFpMTFpSUlpMSA9ICcnCiBpZiAyOCAtIDI4OiBJaWlJSWlJSQogaWYgT09vT08gbm90IGluIHN5cyAuIHBhdGggOgogIHN5cyAuIHBhdGggLiBhcHBlbmQgKCBPT29PTyApCiAgaWYgNjcgLSA2NzogaTExSWkgLyBJMUlJICUgSTFJSUkxaUkxaWlpSWlJMSAtIGlJSUkxIC4gb08wMG9vbzBvME9PIC4gSTFJSUkxaUkxaWlpSWlJMQogIGlmIDEyIC0gMTI6IGlJSUkxICsgSTFJSUkxaUkxaWlpSWlJMSArIEkxSUlJMWlJMWlpaUlpSTEgJSBpaUkgKyBJMQogdHJ5IDoKICBJSTExaTExMTExMUlJID0gJ2ltcG9ydCAnICsgZnVuX2NhbGwgLiBzcGxpdCAoICcuJyApIFsgMCBdCiAgaWYgNjIgLSA2MjogaTExSWkgLSBpMTFJaSAvIGlpSSAvIGlpSWkxSWlJIC0gT09PCiAgZXhlYyAoIElJMTFpMTExMTExSUkgKQogIGlmIDk3IC0gOTc6IEkxICUgb09PICUgb08wbzAgLiBpMTFJaUkxSUkKIGV4Y2VwdCA6CiAgaWYgNzcgLSA3NzogSUkgLSBPMDBPICsgT09PICogb09PCiAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgaWYgNDggLSA0ODogaWlJIC8gT09PIC0gSTFJSUkxaUkxaWlpSWlJMQogZXhlYyAoICdyZXRfdmFsPScgKyBmdW5fY2FsbCApCiBpZiAxMyAtIDEzOiBJMUlJSTFpSTFpaWlJaUkxICogb09PICsgb08wbzAgJSBpaUlJaTFpMUlpaQogaWYgODUgLSA4NTogaUlJSTEgKyBJMUlJSTFpSTFpaWlJaUkxCiB0cnkgOgogIHJldHVybiBzdHIgKCBpMWkxMWlJSWkxICkKIGV4Y2VwdCA6IHJldHVybiBpMWkxMWlJSWkxCiBpZiA0NiAtIDQ2OiBpaUlJaTFpMUlpaSAvIGkxMUlpSTFJSSArIElpaUlJaUlJICogTzAwMDAwME8gJSBPMDBPCmRlZiBvT28wMCAoIGZ1bl9jYWxsICwgcGFnZV9kYXRhICwgQ29va2llX0phciAsIG0gKSA6CiBpZiA4IC0gODogaWlJaTFJaUkKIGkxaTExaUlJaTEgPSAnJwogaWYgT09vT08gbm90IGluIHN5cyAuIHBhdGggOgogIHN5cyAuIHBhdGggLiBhcHBlbmQgKCBPT29PTyApCiAgaWYgMTAgLSAxMDogb08wMG9vbzBvME9PIC8gSWlpSUlpSUkKIG9PbzBPb09vID0gb3BlbiAoIG9zIC4gcGF0aCAuIGpvaW4gKCBPT29PTyAsICdMU1Byb2R5bmFtaWNDb2RlLnB5JyApICwgIndiIiApCiBvT28wT29PbyAuIHdyaXRlICggIiMgLSotIGNvZGluZzogdXRmLTggLSotXG4iICkKIG9PbzBPb09vIC4gd3JpdGUgKCBmdW5fY2FsbCAuIGVuY29kZSAoICJ1dGYtOCIgKSApIDsKIGlmIDY4IC0gNjg6IE9PTyAlIGkxMUlpSTFJSSAtIG9PMDBvb28wbzBPTyArIElpICsgaWlJSWkxaTFJaWkKIG9PbzBPb09vIC4gY2xvc2UgKCApCiBpbXBvcnQgTFNQcm9keW5hbWljQ29kZQogaTFpMTFpSUlpMSA9IExTUHJvZHluYW1pY0NvZGUgLiBHZXRMU1Byb0RhdGEgKCBwYWdlX2RhdGEgLCBDb29raWVfSmFyICwgbSApCiB0cnkgOgogIHJldHVybiBzdHIgKCBpMWkxMWlJSWkxICkKIGV4Y2VwdCA6IHJldHVybiBpMWkxMWlJSWkxCiBpZiA3OCAtIDc4OiBJSW9vb08wb29PMG9vICogSTEgKiBJSSAvIGlpSUlpMWkxSWlpIC8gSTEKIGlmIDg0IC0gODQ6IElpaUlJaUlJIC8gSWlpSUlpSUkgKiBPMDBPICsgT09PIC4gSWlpSUlpSUkKZGVmIG9Pb29vMDBvTzBPbyAoIGNhcHRjaGFrZXkgLCBjaiAsIHR5cGUgPSAxICkgOgogaWYgODUgLSA4NTogaWlJICUgb08wbzAgJSBvTzBvMCAqIE9PTyArIEkxSUlJMWlJMWlpaUlpSTEKIGlmIDg5IC0gODk6IEkxICogb09PIC4gaWlJIC4gb09PCiBpZiA0MyAtIDQzOiBPMDBPICogaUlJSTEgKiBJSUlJIC4gTzAwMDAwME8gLiBJaQogSWkxMUkxID0gIiIKIElpMUlJMUlpSUkxSTEgPSAiIgogaWYgMjEgLSAyMTogaTExSWkgKiBpMTFJaQogaWYgNTQgLSA1NDogTzAwTyAvIE8wMDAwMDBPIC4gTzAwTyAuIEkxSUkgJSBJMUlJSTFpSTFpaWlJaUkxIC0gSTFJSQogaWYgNTYgLSA1NjogSTFJSUkxaUkxaWlpSWlJMSAqIGlpSUlpMWkxSWlpICsgaWlJaTFJaUkgKyBPT08gLyBJaQogaWYgOTAgLSA5MDogT09PICUgSTFJSSAlIE9PTwogaWYgNzEgLSA3MTogaTExSWlJMUlJIC4gb08wMG9vbzBvME9PIC4gSUlJSSAuIElJSUkgKyBpaUlJaTFpMUlpaSAlIElJCiBPME9vMG9vMDAwID0gRmFsc2UKIE9vT08wbyA9IE5vbmUKIElpMUlJMUlpSUkxSTEgPSBOb25lCiBpZiBsZW4gKCBjYXB0Y2hha2V5ICkgPiAwIDoKICBPTzBPb29vMG8wTyA9IGNhcHRjaGFrZXkKICBpZiBub3QgT08wT29vbzBvME8gLiBzdGFydHN3aXRoICggJ2h0dHAnICkgOgogICBPTzBPb29vMG8wTyA9ICdodHRwOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS9jaGFsbGVuZ2U/az0nICsgT08wT29vbzBvME8gKyAnJmFqYXg9MScKICAgaWYgMzYgLSAzNjogTzAwTyAlIGlJSUkxIC8gaWlJaTFJaUkgKiBJaWlJSWlJSSAlIE8wMDAwMDBPIC4gSTEKICBPME9vMG9vMDAwID0gVHJ1ZQogIGlmIDgxIC0gODE6IGlpSWkxSWlJIC8gSUlJSSAlIEkxSUlJMWlJMWlpaUlpSTEgLiBpMTFJaUkxSUkgKiBJMUlJSTFpSTFpaWlJaUkxCiAgaWlJSWlJMTFJaUkxSSA9ICdjaGFsbGVuZ2UuKj9cJyguKj8pXCcnCiAgTzAwMDAwMG8gPSAnXCcoLio/KVwnJwogIE9Pb08wMG8gPSBvMCAoIE9PME9vb28wbzBPICwgY29va2llSmFyID0gY2ogKQogIElpMTFJMSA9IHJlIC4gZmluZGFsbCAoIGlpSUlpSTExSWlJMUkgLCBPT29PMDBvICkgWyAwIF0KICBvT08wbzBPT08gPSAnaHR0cDovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkvcmVsb2FkP2M9JyA7CiAgb09vb29PID0gT08wT29vbzBvME8gLiBzcGxpdCAoICdrPScgKSBbIDEgXQogIG9PTzBvME9PTyArPSBJaTExSTEgKyAnJms9JyArIG9Pb29vTyArICcmcmVhc29uPWkmdHlwZT1pbWFnZSZsYW5nPWVuJwogIE9vbzAwID0gbzAgKCBvT08wbzBPT08gLCBjb29raWVKYXIgPSBjaiApCiAgT29PTzBvID0gcmUgLiBmaW5kYWxsICggTzAwMDAwMG8gLCBPb28wMCApIFsgMCBdCiAgSUlJMTExaSA9ICdodHRwOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS9pbWFnZT9jPScgKyBPb09PMG8KICBpZiBub3QgSUlJMTExaSAuIHN0YXJ0c3dpdGggKCAiaHR0cCIgKSA6CiAgIElJSTExMWkgPSAnaHR0cDovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkvJyArIElJSTExMWkKICBpbXBvcnQgcmFuZG9tCiAgT29vMG8wb29PID0gcmFuZG9tIC4gcmFuZHJhbmdlICggMTAwICwgMTAwMCAsIDUgKQogIE8wT2kxaSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBJMTExaTExSTFJICwgc3RyICggT29vMG8wb29PICkgKyAiY2FwdGNoYS5pbWciICkKICBpMUlJSTExaSA9IG9wZW4gKCBPME9pMWkgLCAid2IiICkKICBpMUlJSTExaSAuIHdyaXRlICggbzAgKCBJSUkxMTFpICwgY29va2llSmFyID0gY2ogKSApCiAgaTFJSUkxMWkgLiBjbG9zZSAoICkKICBPbzAwb09vbzAwb08gPSBJaWlJSUkxMWlJMWlpICggY2FwdGNoYSA9IE8wT2kxaSApCiAgSWkxSUkxSWlJSTFJMSA9IE9vMDBvT29vMDBvTyAuIGdldCAoICkKICBvcyAuIHJlbW92ZSAoIE8wT2kxaSApCiAgaWYgMjMgLSAyMzogb09PICogTzAwMDAwME8gJSBpMTFJaUkxSUkgKyBPT08gLiBJaWlJSWlJSSAqIGlpSQogaWYgT29PTzBvIDoKICBpZiB0eXBlID09IDEgOgogICByZXR1cm4gJ3JlY2FwdGNoYV9jaGFsbGVuZ2VfZmllbGQ9JyArIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBPb09PMG8gKSArICcmcmVjYXB0Y2hhX3Jlc3BvbnNlX2ZpZWxkPScgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggSWkxSUkxSWlJSTFJMSApCiAgZWxpZiB0eXBlID09IDIgOgogICByZXR1cm4gJ3JlY2FwdGNoYV9jaGFsbGVuZ2VfZmllbGQ6JyArIE9vT08wbyArICcscmVjYXB0Y2hhX3Jlc3BvbnNlX2ZpZWxkOicgKyBJaTFJSTFJaUlJMUkxCiAgZWxzZSA6CiAgIHJldHVybiAncmVjYXB0Y2hhX2NoYWxsZW5nZV9maWVsZD0nICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIE9vT08wbyApICsgJyZyZWNhcHRjaGFfcmVzcG9uc2VfZmllbGQ9JyArIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBJaTFJSTFJaUlJMUkxICkKIGVsc2UgOgogIHJldHVybiAnJwogIGlmIDUxIC0gNTE6IE8wME8gKiBvT08KICBpZiA5IC0gOTogaWlJSWkxaTFJaWkKZGVmIG8wICggdXJsICwgY29va2llSmFyID0gTm9uZSAsIHBvc3QgPSBOb25lICwgdGltZW91dCA9IDIwICwgaGVhZGVycyA9IE5vbmUgLCBub3JlZGlyID0gRmFsc2UgKSA6CiBpZiA3NSAtIDc1OiBpaUlpMUlpSSAlIEkxSUkgJSBJaWlJSWlJSQogaWYgNDMgLSA0MzogaWlJaTFJaUkgJSBpSUlJMSAvIElJSUkgJSBPMDBPIC8gT09PIC0gb08wbzAKIE9vbzBvT08wMG8wb28gPSB1cmxsaWIyIC4gSFRUUENvb2tpZVByb2Nlc3NvciAoIGNvb2tpZUphciApCiBpZiA0NSAtIDQ1OiBpMTFJaUkxSUkgKiBPMDBPCiBpZiBub3JlZGlyIDoKICBpSUlpMTFJMTFpMSA9IHVybGxpYjIgLiBidWlsZF9vcGVuZXIgKCBpaTExaUkxaSAsIE9vbzBvT08wMG8wb28gLCB1cmxsaWIyIC4gSFRUUEJhc2ljQXV0aEhhbmRsZXIgKCApICwgdXJsbGliMiAuIEhUVFBIYW5kbGVyICggKSApCiBlbHNlIDoKICBpSUlpMTFJMTFpMSA9IHVybGxpYjIgLiBidWlsZF9vcGVuZXIgKCBPb28wb09PMDBvMG9vICwgdXJsbGliMiAuIEhUVFBCYXNpY0F1dGhIYW5kbGVyICggKSAsIHVybGxpYjIgLiBIVFRQSGFuZGxlciAoICkgKQogIGlmIDQ5IC0gNDk6IGlpSWkxSWlJICogSUlJSSAuIGkxMUlpICogSUlvb29PMG9vTzBvbwogaTExSWlpMWlpaTFJaUlpID0gdXJsbGliMiAuIFJlcXVlc3QgKCB1cmwgKQogaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdVc2VyLUFnZW50JyAsICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMzMuMC4xNzUwLjE1NCBTYWZhcmkvNTM3LjM2JyApCiBpZiBoZWFkZXJzIDoKICBmb3IgSUlpMUkxSUlJSUkgLCBPb08wMDAwME9vbyBpbiBoZWFkZXJzIDoKICAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoIElJaTFJMUlJSUlJICwgT29PMDAwMDBPb28gKQogICBpZiA3NCAtIDc0OiBJMUlJIC8gaWlJSWkxaTFJaWkgLSBpaUlJaTFpMUlpaSAvIElJSUkKIGlpMUkxSWlpID0gaUlJaTExSTExaTEgLiBvcGVuICggaTExSWlpMWlpaTFJaUlpICwgcG9zdCAsIHRpbWVvdXQgPSB0aW1lb3V0ICkKIE9vMDBPTyA9IGlpMUkxSWlpIC4gcmVhZCAoICkKIGlpMUkxSWlpIC4gY2xvc2UgKCApCiByZXR1cm4gT28wME9PIDsKIGlmIDgwIC0gODA6IG9PTyArIE8wME8gLiBJMUlJSTFpSTFpaWlJaUkxIC0gaWlJCmRlZiBPT09PTzAgKCBzdHIgLCByZWcgPSBOb25lICkgOgogaWYgcmVnIDoKICBzdHIgPSByZSAuIGZpbmRhbGwgKCByZWcgLCBzdHIgKSBbIDAgXQogb08wb0kxSTFpMTEgPSB1cmxsaWIgLiB1bnF1b3RlICggc3RyIFsgMCA6IGxlbiAoIHN0ciApIC0gMSBdICkgOwogT09vTyA9ICcnIDsKIGZvciBPT28wb09PT08wIGluIHJhbmdlICggbGVuICggb08wb0kxSTFpMTEgKSApIDoKICBPT29PICs9IGNociAoIG9yZCAoIG9PMG9JMUkxaTExIFsgT09vMG9PT09PMCBdICkgLSBvTzBvSTFJMWkxMSBbIGxlbiAoIG9PMG9JMUkxaTExICkgLSAxIF0gKSA7CiBPT29PID0gdXJsbGliIC4gdW5xdW90ZSAoIE9Pb08gKQogaWYgNyAtIDc6IG9PMG8wCiByZXR1cm4gT09vTwogaWYgMTYgLSAxNjogSUlJSSAvIElJb29vTzBvb08wb28gLiBJMUlJICUgTzAwMDAwME8KZGVmIElpaWkgKCBzdHIgKSA6CiBJSWlpSTExMWlpSUlpID0gcmUgLiBmaW5kYWxsICggJ3VuZXNjYXBlXChcJyguKj8pXCcnICwgc3RyICkKIGlmIDk2IC0gOTY6IGlpSSAtIElJb29vTzBvb08wb28gLyBpaUlpMUlpSQogaWYgKCBub3QgSUlpaUkxMTFpaUlJaSA9PSBOb25lICkgYW5kIGxlbiAoIElJaWlJMTExaWlJSWkgKSA+IDAgOgogIGZvciBvT28wbzAgaW4gSUlpaUkxMTFpaUlJaSA6CiAgIGlmIDc0IC0gNzQ6IElpaUlJaUlJCiAgIHN0ciA9IHN0ciAuIHJlcGxhY2UgKCBvT28wbzAgLCB1cmxsaWIgLiB1bnF1b3RlICggb09vMG8wICkgKQogcmV0dXJuIHN0cgogaWYgNDUgLSA0NTogSTFJSSAlIElJIC4gT09PCm8wT28wMCA9IDAKZGVmIG9Pb2kxSUlpMWlpMTEgKCBtICwgaHRtbF9wYWdlICwgY29va2llSmFyICkgOgogZ2xvYmFsIG8wT28wMAogbzBPbzAwICs9IDEKIGlpSUlJSSA9IG0gWyAnZXhwcmVzJyBdCiBJMUkxaUlJaUlJMSA9IG0gWyAncGFnZScgXQogaUlpMTFpaTFpID0gcmUgLiBjb21waWxlICggJ1wkTGl2ZVN0cmVhbUNhcHRjaGFcWyhbXlxdXSopXF0nICkgLiBmaW5kYWxsICggaWlJSUlJICkgWyAwIF0KIGlmIDQ1IC0gNDU6IEkxSUkgLSBJaSAvIE8wMDAwMDBPIC0gaTExSWlJMUlJIC0gaTExSWlJMUlJICsgaTExSWlJMUlJCiBPTzBPb29vMG8wTyA9IHJlIC4gY29tcGlsZSAoIGlJaTExaWkxaSApIC4gZmluZGFsbCAoIGh0bWxfcGFnZSApIFsgMCBdCiBpZiA2NCAtIDY0OiBPT08gLyBpMTFJaUkxSUkgLyBpSUlJMSAvIGlpSUlpMWkxSWlpICsgSUlvb29PMG9vTzBvbwogaWYgbm90IE9PME9vb28wbzBPIC4gc3RhcnRzd2l0aCAoICJodHRwIiApIDoKICBvbzBPID0gJ2h0dHA6Ly8nICsgIiIgLiBqb2luICggSTFJMWlJSWlJSTEgLiBzcGxpdCAoICcvJyApIFsgMiA6IDMgXSApCiAgaWYgT08wT29vbzBvME8gLiBzdGFydHN3aXRoICggIi8iICkgOgogICBPTzBPb29vMG8wTyA9IG9vME8gKyBPTzBPb29vMG8wTwogIGVsc2UgOgogICBPTzBPb29vMG8wTyA9IG9vME8gKyAnLycgKyBPTzBPb29vMG8wTwogICBpZiA0NiAtIDQ2OiBvTzAwb29vMG8wT08gLyBpMTFJaUkxSUkgLiBvT08gLSBPMDAwMDAwTwogTzBPaTFpID0gb3MgLiBwYXRoIC4gam9pbiAoIEkxMTFpMTFJMUkgLCBzdHIgKCBvME9vMDAgKSArICJjYXB0Y2hhLmpwZyIgKQogaTFJSUkxMWkgPSBvcGVuICggTzBPaTFpICwgIndiIiApCiBpZiAxNyAtIDE3OiBJaWlJSWlJSSAtIEkxSUkgJSBJaSAuIGlpSSArIE9PTwogaTExSWlpMWlpaTFJaUlpID0gdXJsbGliMiAuIFJlcXVlc3QgKCBPTzBPb29vMG8wTyApCiBpMTFJaWkxaWlpMUlpSWkgLiBhZGRfaGVhZGVyICggJ1VzZXItQWdlbnQnICwgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgcnY6MTQuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xNC4wLjEnICkKIGlmICdyZWZlcmVyJyBpbiBtIDoKICBpMTFJaWkxaWlpMUlpSWkgLiBhZGRfaGVhZGVyICggJ1JlZmVyZXInICwgbSBbICdyZWZlcmVyJyBdICkKIGlmICdhZ2VudCcgaW4gbSA6CiAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdVc2VyLWFnZW50JyAsIG0gWyAnYWdlbnQnIF0gKQogaWYgJ3NldGNvb2tpZScgaW4gbSA6CiAgaWYgMzUgLSAzNTogaTExSWlJMUlJICogaWlJSWkxaTFJaWkgKyBPT08KICBpMTFJaWkxaWlpMUlpSWkgLiBhZGRfaGVhZGVyICggJ0Nvb2tpZScgLCBtIFsgJ3NldGNvb2tpZScgXSApCiAgaWYgODIgLSA4MjogSWkgLiBJaWlJSWlJSQogIGlmIDE4IC0gMTg6IGlJSUkxIC8gTzAwMDAwME8gLiBvTzBvMAogIGlmIDk0IC0gOTQ6IG9PMG8wIC0gSUlvb29PMG9vTzBvbyAvIGkxMUlpSTFJSSAuIGkxMUlpIC8gT09PIC4gb09PCiAgaWYgNiAtIDY6IElJb29vTzBvb08wb28KIHVybGxpYjIgLiB1cmxvcGVuICggaTExSWlpMWlpaTFJaUlpICkKIGlpMUkxSWlpID0gdXJsbGliMiAuIHVybG9wZW4gKCBpMTFJaWkxaWlpMUlpSWkgKQogaWYgNzUgLSA3NTogSWkgLyBJSSAuIElpaUlJaUlJIC8gSTFJSQogaTFJSUkxMWkgLiB3cml0ZSAoIGlpMUkxSWlpIC4gcmVhZCAoICkgKQogaWkxSTFJaWkgLiBjbG9zZSAoICkKIGkxSUlJMTFpIC4gY2xvc2UgKCApCiBPbzAwb09vbzAwb08gPSBJaWlJSUkxMWlJMWlpICggY2FwdGNoYSA9IE8wT2kxaSApCiBJaTFJSTFJaUlJMUkxID0gT28wMG9Pb28wMG9PIC4gZ2V0ICggKQogcmV0dXJuIElpMUlJMUlpSUkxSTEKIGlmIDYwIC0gNjA6IElJSUkKZGVmIE9PMDAwTyAoIGltYWdlcmVnZXggLCBodG1sX3BhZ2UgLCBjb29raWVKYXIgLCBtICkgOgogZ2xvYmFsIG8wT28wMAogbzBPbzAwICs9IDEKIGlmIDc3IC0gNzc6IElJb29vTzBvb08wb28gKiBJaSAlIGlpSSAtIG9PTyAtIElJCiBpZiAyNiAtIDI2OiBvTzAwb29vMG8wT08gJSBvTzAwb29vMG8wT08KIGlmIG5vdCBpbWFnZXJlZ2V4ID09ICcnIDoKICBpZiBodG1sX3BhZ2UgLiBzdGFydHN3aXRoICggImh0dHAiICkgOgogICBvbzBPID0gbzAgKCBodG1sX3BhZ2UgLCBjb29raWVKYXIgPSBjb29raWVKYXIgKQogIGVsc2UgOgogICBvbzBPID0gaHRtbF9wYWdlCiAgT08wT29vbzBvME8gPSByZSAuIGNvbXBpbGUgKCBpbWFnZXJlZ2V4ICkgLiBmaW5kYWxsICggaHRtbF9wYWdlICkgWyAwIF0KIGVsc2UgOgogIE9PME9vb28wbzBPID0gaHRtbF9wYWdlCiAgaWYgJ29uZXBsYXkudHYvZW1iZWQnIGluIGh0bWxfcGFnZSA6CiAgIGltcG9ydCBvbmVwbGF5CiAgIG9vME8gPSBvMCAoIGh0bWxfcGFnZSAsIGNvb2tpZUphciA9IGNvb2tpZUphciApCiAgIE9PME9vb28wbzBPID0gb25lcGxheSAuIGdldENhcHRjaGFVcmwgKCBvbzBPICkKICAgaWYgNDEgLSA0MTogaTExSWkgLyBPT08gKyBJMSAtIElJIC8gaTExSWkKIE8wT2kxaSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBJMTExaTExSTFJICwgc3RyICggbzBPbzAwICkgKyAiY2FwdGNoYS5qcGciICkKIGkxSUlJMTFpID0gb3BlbiAoIE8wT2kxaSAsICJ3YiIgKQogaWYgMjQgLSAyNDogTzAwTyAlIGlpSSAtIE9PTyAqIGlpSUlpMWkxSWlpCiBpMTFJaWkxaWlpMUlpSWkgPSB1cmxsaWIyIC4gUmVxdWVzdCAoIE9PME9vb28wbzBPICkKIGkxMUlpaTFpaWkxSWlJaSAuIGFkZF9oZWFkZXIgKCAnVXNlci1BZ2VudCcgLCAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBydjoxNC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzE0LjAuMScgKQogaWYgJ3JlZmVyZXInIGluIG0gOgogIGkxMUlpaTFpaWkxSWlJaSAuIGFkZF9oZWFkZXIgKCAnUmVmZXJlcicgLCBtIFsgJ3JlZmVyZXInIF0gKQogaWYgJ2FnZW50JyBpbiBtIDoKICBpMTFJaWkxaWlpMUlpSWkgLiBhZGRfaGVhZGVyICggJ1VzZXItYWdlbnQnICwgbSBbICdhZ2VudCcgXSApCiBpZiAnYWNjZXB0JyBpbiBtIDoKICBpMTFJaWkxaWlpMUlpSWkgLiBhZGRfaGVhZGVyICggJ0FjY2VwdCcgLCBtIFsgJ2FjY2VwdCcgXSApCiBpZiAnc2V0Y29va2llJyBpbiBtIDoKICBpZiA2NyAtIDY3OiBpaUkgLiBPMDBPIC8gSTEgJSBJaSAlIGkxMUlpCiAgaTExSWlpMWlpaTFJaUlpIC4gYWRkX2hlYWRlciAoICdDb29raWUnICwgbSBbICdzZXRjb29raWUnIF0gKQogIGlmIDE0IC0gMTQ6IElpIC8gb09PICUgSTFJSSAtIE9PTwogIGlmIDgyIC0gODI6IE8wME8gLyBpMTFJaUkxSUkKICBpZiA0NSAtIDQ1OiBPT08gLiBJaWlJSWlJSSArIG9PTyAtIG9PMDBvb28wbzBPTyAtIElJSUkKICBpZiAzMSAtIDMxOiBJaWlJSWlJSSAlIElJb29vTzBvb08wb28gKyBPMDBPCiAgaWYgMzIgLSAzMjogaWlJSWkxaTFJaWkKIGlpMUkxSWlpID0gdXJsbGliMiAuIHVybG9wZW4gKCBpMTFJaWkxaWlpMUlpSWkgKQogaWYgMTAgLSAxMDogb09PIC8gSTEgLiBpMTFJaQogaTFJSUkxMWkgLiB3cml0ZSAoIGlpMUkxSWlpIC4gcmVhZCAoICkgKQogaWkxSTFJaWkgLiBjbG9zZSAoICkKIGkxSUlJMTFpIC4gY2xvc2UgKCApCiBPbzAwb09vbzAwb08gPSBJaWlJSUkxMWlJMWlpICggY2FwdGNoYSA9IE8wT2kxaSApCiBJaTFJSTFJaUlJMUkxID0gT28wMG9Pb28wMG9PIC4gZ2V0ICggKQogcmV0dXJuIElpMUlJMUlpSUkxSTEKIGlmIDQgLSA0OiBJSUlJIC0gaWlJaTFJaUkgLiBvTzAwb29vMG8wT08KIGlmIDQ1IC0gNDU6IGlpSSAuIEkxSUkgLSBJSUlJCiBpZiAyNCAtIDI0OiBvTzAwb29vMG8wT08KIGlmIDEwIC0gMTA6IG9PMG8wICsgaTExSWkgKiBpaUlJaTFpMUlpaSAtIEkxSUkgLyBvTzAwb29vMG8wT08gLyBPT08KIGlmIDYzIC0gNjM6IGkxMUlpIC0gaUlJSTEgLyBvTzBvMCAuIGlpSWkxSWlJICsgaWlJCiBpZiAzMSAtIDMxOiBpaUkgKiBPMDBPICogaTExSWkgLiBJMSAtIGlJSUkxCiBpZiA4OSAtIDg5OiBpaUkgLyBvT08gLSBpaUkgKiBpaUlpMUlpSQogaWYgOTUgLSA5NTogSUkKIGlmIDE4IC0gMTg6IG9PMG8wICogaTExSWlJMUlJIC0gb09PCiBpZiA4OCAtIDg4OiBJaSArIGkxMUlpSTFJSSAtIG9PMDBvb28wbzBPTyArIElJICUgaWlJaTFJaUkKIGlmIDM5IC0gMzk6IElJIC0gSUlvb29PMG9vTzBvbyAlIElpICsgaWlJSWkxaTFJaWkgLyBJaSAuIGlpSUlpMWkxSWlpCiBpZiAxMyAtIDEzOiBJSW9vb08wb29PMG9vCiBpZiA1NyAtIDU3OiBpMTFJaUkxSUkgLyBpMTFJaUkxSUkgLyBJaWlJSWlJSSArIElpaUlJaUlJIC4gaTExSWkgLiBpaUlJaTFpMUlpaQpkZWYgSUlpMUkxSTExMSAoIG5hbWUgLCBoZWFkbmFtZSApIDoKIGlmIDc4IC0gNzg6IElJSUkgKiBPT08gKyBJSUlJICogaTExSWkKIGlmIDMyIC0gMzI6IElJb29vTzBvb08wb28gLiBJMUlJCiBpSWlpMUlpaTFJaSA9IHhibWMgLiBLZXlib2FyZCAoICdkZWZhdWx0JyAsICdoZWFkaW5nJyAsIFRydWUgKQogaUlpaTFJaWkxSWkgLiBzZXREZWZhdWx0ICggbmFtZSApCiBpSWlpMUlpaTFJaSAuIHNldEhlYWRpbmcgKCBoZWFkbmFtZSApCiBpSWlpMUlpaTFJaSAuIHNldEhpZGRlbklucHV0ICggRmFsc2UgKQogcmV0dXJuIGlJaWkxSWlpMUlpIC4gZ2V0VGV4dCAoICkKIGlmIDc3IC0gNzc6IGkxMUlpICsgb09PIC0gaTExSWlJMUlJIC0gSUlJSSAlIGlpSSAvIEkxCiBpZiA4IC0gODogSWlpSUlpSUkgKyBPMDAwMDAwTwogaWYgNDYgLSA0NjogaUlJSTEgLSBJMUlJSTFpSTFpaWlJaUkxIC8gSWkKIGlmIDQ4IC0gNDg6IEkxSUlJMWlJMWlpaUlpSTEgKiBPMDAwMDAwTyAtIE8wME8gKyBvTzBvMApjbGFzcyBJaWlJSUkxMWlJMWlpICggeGJtY2d1aSAuIFdpbmRvd0RpYWxvZyApIDoKIGRlZiBfX2luaXRfXyAoIHNlbGYgLCAqIGFyZ3MgLCAqKiBrd2FyZ3MgKSA6CiAgc2VsZiAuIGNwdGxvYyA9IGt3YXJncyAuIGdldCAoICdjYXB0Y2hhJyApCiAgc2VsZiAuIGltZyA9IHhibWNndWkgLiBDb250cm9sSW1hZ2UgKCAzMzUgLCAzMCAsIDYyNCAsIDYwICwgc2VsZiAuIGNwdGxvYyApCiAgc2VsZiAuIGFkZENvbnRyb2wgKCBzZWxmIC4gaW1nICkKICBzZWxmIC4ga2JkID0geGJtYyAuIEtleWJvYXJkICggKQogIGlmIDQ4IC0gNDg6IGlpSWkxSWlJICsgaTExSWkgKiBpaUlJaTFpMUlpaSAlIEkxSUlJMWlJMWlpaUlpSTEgLSBvT08gLSBPT08KIGRlZiBnZXQgKCBzZWxmICkgOgogIHNlbGYgLiBzaG93ICggKQogIHRpbWUgLiBzbGVlcCAoIDIgKQogIHNlbGYgLiBrYmQgLiBkb01vZGFsICggKQogIGlmICggc2VsZiAuIGtiZCAuIGlzQ29uZmlybWVkICggKSApIDoKICAgT09PT29vbzBvMCA9IHNlbGYgLiBrYmQgLiBnZXRUZXh0ICggKQogICBzZWxmIC4gY2xvc2UgKCApCiAgIHJldHVybiBPT09Pb29vMG8wCiAgc2VsZiAuIGNsb3NlICggKQogIHJldHVybiBGYWxzZQogIGlmIDU3IC0gNTc6IGlJSUkxIC8gaWlJIC4gSTFJSUkxaUkxaWlpSWlJMSAuIGkxMUlpSTFJSQpkZWYgbzBJaTFJMTFpSWkxSTFJICggKSA6CiBpbXBvcnQgdGltZQogcmV0dXJuIHN0ciAoIGludCAoIHRpbWUgLiB0aW1lICggKSAqIDEwMDAgKSApCiBpZiAxMyAtIDEzOiBvTzBvMApkZWYgaWkxMUkxSWlpaSAoICkgOgogaW1wb3J0IHRpbWUKIHJldHVybiBzdHIgKCBpbnQgKCB0aW1lIC4gdGltZSAoICkgKSApCiBpZiA5NyAtIDk3OiBpaUlJaTFpMUlpaSAvIElpaUlJaUlJCmRlZiBvMG9PMDBPTzBPMCAoICkgOgogaTExaUkxSTFJSSA9IFsgXQogb29PTzBPMDBvbzBvbyA9IHN5cyAuIGFyZ3YgWyAyIF0KIGlmIGxlbiAoIG9vT08wTzAwb28wb28gKSA+PSAyIDoKICBPbyA9IHN5cyAuIGFyZ3YgWyAyIF0KICBpaTExMWlJID0gT28gLiByZXBsYWNlICggJz8nICwgJycgKQogIGlmICggT28gWyBsZW4gKCBPbyApIC0gMSBdID09ICcvJyApIDoKICAgT28gPSBPbyBbIDAgOiBsZW4gKCBPbyApIC0gMiBdCiAgSUlpSTEgPSBpaTExMWlJIC4gc3BsaXQgKCAnJicgKQogIGkxMWlJMUkxSUkgPSB7IH0KICBmb3IgT09vMG9PT09PMCBpbiByYW5nZSAoIGxlbiAoIElJaUkxICkgKSA6CiAgIElJSWlJSUkxMWlpID0geyB9CiAgIElJSWlJSUkxMWlpID0gSUlpSTEgWyBPT28wb09PT08wIF0gLiBzcGxpdCAoICc9JyApCiAgIGlmICggbGVuICggSUlJaUlJSTExaWkgKSApID09IDIgOgogICAgaTExaUkxSTFJSSBbIElJSWlJSUkxMWlpIFsgMCBdIF0gPSBJSUlpSUlJMTFpaSBbIDEgXQogcmV0dXJuIGkxMWlJMUkxSUkKIGlmIDg2IC0gODY6IG9PMG8wICogSWkKIGlmIDI1IC0gMjU6IEkxICsgSWkgJSBJaWlJSWlJSSAqIG9PMDBvb28wbzBPTyArIE9PTwpkZWYgSWlpSUkxaTFpSSAoICkgOgogaXRlbXMgPSBqc29uIC4gbG9hZHMgKCBvcGVuICggbzBPMG9PMCApIC4gcmVhZCAoICkgKQogT09PaTEgPSBsZW4gKCBpdGVtcyApCiBmb3IgT09vMG9PT09PMCBpbiBpdGVtcyA6CiAgSUlpaUlJMTExaSA9IE9PbzBvT09PTzAgWyAwIF0KICBvb09vT08wME9Pb28wID0gT09vMG9PT09PMCBbIDEgXQogIElJMWlJID0gT09vMG9PT09PMCBbIDIgXQogIHRyeSA6CiAgIElpMUkxaTFpSUkgPSBPT28wb09PT08wIFsgMyBdCiAgIGlmIElpMUkxaTFpSUkgPT0gTm9uZSA6CiAgICByYWlzZQogIGV4Y2VwdCA6CiAgIGlmIE9vbyAuIGdldFNldHRpbmcgKCAndXNlX3RodW1iJyApID09ICJ0cnVlIiA6CiAgICBJaTFJMWkxaUlJID0gSUkxaUkKICAgZWxzZSA6CiAgICBJaTFJMWkxaUlJID0gb29vMG9vT29PME9vCiAgdHJ5IDogT29PMDAwID0gT09vMG9PT09PMCBbIDUgXQogIGV4Y2VwdCA6IE9vTzAwMCA9IE5vbmUKICB0cnkgOiBPME9vTzBvbzAgPSBPT28wb09PT08wIFsgNiBdCiAgZXhjZXB0IDogTzBPb08wb28wID0gTm9uZQogIGlmIDkgLSA5OiBpaUkgLiBpaUlpMUlpSQogIGlmIE9PbzBvT09PTzAgWyA0IF0gPT0gMCA6CiAgIGlpICggb29Pb09PMDBPT29vMCAsIElJaWlJSTExMWkgLCBJSTFpSSAsIElpMUkxaTFpSUkgLCAnJyAsICcnICwgJycgLCAnZmF2JyAsIE9vTzAwMCAsIE8wT29PMG9vMCAsIE9PT2kxICkKICBlbHNlIDoKICAgb28wT09PME8gKCBJSWlpSUkxMTFpICwgb29Pb09PMDBPT29vMCAsIE9PbzBvT09PTzAgWyA0IF0gLCBJSTFpSSAsIG9vbzBvb09vTzBPbyAsICcnICwgJycgLCAnJyAsICcnICwgJ2ZhdicgKQogICBpZiA5MiAtIDkyOiBPMDBPIC4gb08wbzAgLSBPMDAwMDAwTwogICBpZiA2NCAtIDY0OiBpMTFJaUkxSUkgJSBvTzBvMCAvIE8wME8gKiBvTzBvMCArIE8wMDAwMDBPCmRlZiBpMWkxSTExMUlpSSAoIG5hbWUgLCB1cmwgLCBpY29uaW1hZ2UgLCBmYW5hcnQgLCBtb2RlICwgcGxheWxpc3QgPSBOb25lICwgcmVnZXhzID0gTm9uZSApIDoKIGlpMUkxSSA9IFsgXQogdHJ5IDoKICBpZiAyNSAtIDI1OiBJMSAqIE9PTyAlIGkxMUlpIC4gaTExSWkKICBuYW1lID0gbmFtZSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiBleGNlcHQgOgogIHBhc3MKIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIG8wTzBvTzAgKSA9PSBGYWxzZSA6CiAgaTFJaWlJSSAoICdNYWtpbmcgRmF2b3JpdGVzIEZpbGUnICkKICBpaTFJMUkgLiBhcHBlbmQgKCAoIG5hbWUgLCB1cmwgLCBpY29uaW1hZ2UgLCBmYW5hcnQgLCBtb2RlICwgcGxheWxpc3QgLCByZWdleHMgKSApCiAgT29vbzAgPSBvcGVuICggbzBPMG9PMCAsICJ3IiApCiAgT29vbzAgLiB3cml0ZSAoIGpzb24gLiBkdW1wcyAoIGlpMUkxSSApICkKICBPb29vMCAuIGNsb3NlICggKQogZWxzZSA6CiAgaTFJaWlJSSAoICdBcHBlbmRpbmcgRmF2b3JpdGVzJyApCiAgT29vbzAgPSBvcGVuICggbzBPMG9PMCApIC4gcmVhZCAoICkKICBvME9vTzBvID0ganNvbiAuIGxvYWRzICggT29vbzAgKQogIG8wT29PMG8gLiBhcHBlbmQgKCAoIG5hbWUgLCB1cmwgLCBpY29uaW1hZ2UgLCBmYW5hcnQgLCBtb2RlICkgKQogIEkxaUlJMTFpaTFpaWkgPSBvcGVuICggbzBPMG9PMCAsICJ3IiApCiAgSTFpSUkxMWlpMWlpaSAuIHdyaXRlICgganNvbiAuIGR1bXBzICggbzBPb08wbyApICkKICBJMWlJSTExaWkxaWlpIC4gY2xvc2UgKCApCiAgaWYgODcgLSA4NzogaTExSWkgLiBJMUlJSTFpSTFpaWlJaUkxIC8gSTFJSQogIGlmIDU1IC0gNTU6IE9PTwpkZWYgSTFpaUkxaTExSUkgKCBuYW1lICkgOgogbzBPb08wbyA9IGpzb24gLiBsb2FkcyAoIG9wZW4gKCBvME8wb08wICkgLiByZWFkICggKSApCiBmb3IgSUkxMUlpIGluIHJhbmdlICggbGVuICggbzBPb08wbyApICkgOgogIGlmIG8wT29PMG8gWyBJSTExSWkgXSBbIDAgXSA9PSBuYW1lIDoKICAgZGVsIG8wT29PMG8gWyBJSTExSWkgXQogICBJMWlJSTExaWkxaWlpID0gb3BlbiAoIG8wTzBvTzAgLCAidyIgKQogICBJMWlJSTExaWkxaWlpIC4gd3JpdGUgKCBqc29uIC4gZHVtcHMgKCBvME9vTzBvICkgKQogICBJMWlJSTExaWkxaWlpIC4gY2xvc2UgKCApCiAgIGJyZWFrCiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Db250YWluZXIuUmVmcmVzaCIgKQogaWYgMzAgLSAzMDogSTFJSUkxaUkxaWlpSWlJMSArIGkxMUlpCmRlZiBJMUkgKCB1cmwgKSA6CiBpbXBvcnQgdXJscmVzb2x2ZXIKIEkxMWlpMUlpSWlJaSA9IHVybHJlc29sdmVyIC4gSG9zdGVkTWVkaWFGaWxlICggdXJsICkKIGlmIEkxMWlpMUlpSWlJaSA6CiAgaUlpSSA9IHVybHJlc29sdmVyIC4gcmVzb2x2ZSAoIHVybCApCiAgaTExMSA9IGlJaUkKICBpZiBpc2luc3RhbmNlICggaTExMSAsIGxpc3QgKSA6CiAgIGZvciBpMWkxSUkxMUkgaW4gaTExMSA6CiAgICBJaTFpSWlJaWlpSWkxID0gT29vIC4gZ2V0U2V0dGluZyAoICdxdWFsaXR5JyApCiAgICBpZiBpMWkxSUkxMUkgWyAncXVhbGl0eScgXSA9PSAnSEQnIDoKICAgICBpSWlJID0gaTFpMUlJMTFJIFsgJ3VybCcgXQogICAgIGJyZWFrCiAgICBlbGlmIGkxaTFJSTExSSBbICdxdWFsaXR5JyBdID09ICdTRCcgOgogICAgIGlJaUkgPSBpMWkxSUkxMUkgWyAndXJsJyBdCiAgICBlbGlmIGkxaTFJSTExSSBbICdxdWFsaXR5JyBdID09ICcxMDgwcCcgYW5kIE9vbyAuIGdldFNldHRpbmcgKCAnMTA4MHBxdWFsaXR5JyApID09ICd0cnVlJyA6CiAgICAgaUlpSSA9IGkxaTFJSTExSSBbICd1cmwnIF0KICAgICBicmVhawogIGVsc2UgOgogICBpSWlJID0gaTExMQogZWxzZSA6CiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuTm90aWZpY2F0aW9uKENhdG9hbCxVcmxyZXNvbHZlciBkb25vdCBzdXBwb3J0IHRoaXMgZG9tYWluLiAtICw1MDAwKSIgKQogIGlJaUkgPSB1cmwKIHJldHVybiBpSWlJCmRlZiBvME9vTzAgKCB1cmwgLCBsaXN0aXRlbSAsIHBkaWFsb2d1ZSA9IE5vbmUgKSA6CiBpZiA1OSAtIDU5OiBJMQogaWYgdXJsIC4gbG93ZXIgKCApIC4gc3RhcnRzd2l0aCAoICdwbHVnaW4nICkgYW5kICd5b3V0dWJlJyBub3QgaW4gdXJsIC4gbG93ZXIgKCApIDoKICBwcmludCAncGxheWluZyB2aWEgcnVucGx1Z2luJwogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICdYQk1DLlJ1blBsdWdpbignICsgdXJsICsgJyknICkKICBmb3IgT09vMG9PT09PMCBpbiByYW5nZSAoIDggKSA6CiAgIHhibWMgLiBzbGVlcCAoIDUwMCApCiAgIHRyeSA6CiAgICBpZiAxOSAtIDE5OiBJSQogICAgaWYgeGJtYyAuIGdldENvbmRWaXNpYmlsaXR5ICggIlBsYXllci5IYXNNZWRpYSIgKSBhbmQgeGJtYyAuIFBsYXllciAoICkgLiBpc1BsYXlpbmcgKCApIDoKICAgICByZXR1cm4gVHJ1ZQogICBleGNlcHQgOiBwYXNzCiAgcHJpbnQgJ3JldHVybmluZyBub3cnCiAgcmV0dXJuIEZhbHNlCiBpbXBvcnQgQ3VzdG9tUGxheWVyICwgdGltZQogaWYgNTAgLSA1MDogaWlJSWkxaTFJaWkgKiBpSUlJMSAuIElpIC8gb08wMG9vbzBvME9PICsgaTExSWlJMUlJIC0gb08wbzAKIEkxaTFpaUlpMWlpMSA9IEN1c3RvbVBsYXllciAuIE15WEJNQ1BsYXllciAoICkKIEkxaTFpaUlpMWlpMSAuIHBkaWFsb2d1ZSA9IHBkaWFsb2d1ZQogSTFJMSA9IHRpbWUgLiB0aW1lICggKQogaWYgMTggLSAxODogSUkgLiBJaWlJSWlJSSAlIEkxSUlJMWlJMWlpaUlpSTEgKyBJMSAvIGlpSWkxSWlJCiBwcmludCAnZ29pbmcgdG8gcGxheScKIGltcG9ydCB0aW1lCiBpaTFJMWlJaUkgPSB0aW1lIC4gdGltZSAoICkKIEkxaTFpaUlpMWlpMSAuIHBsYXkgKCB1cmwgLCBsaXN0aXRlbSApCiB4Ym1jIC4gc2xlZXAgKCAxMDAwICkKIGlmIDgwIC0gODA6IElpIC4gb09PIC0gTzAwTyAtIElJb29vTzBvb08wb28gLiBJSSAqIGlpSQogdHJ5IDoKICB3aGlsZSBJMWkxaWlJaTFpaTEgLiBpc19hY3RpdmUgOgogICB4Ym1jIC4gc2xlZXAgKCA0MDAgKQogICBpZiA4IC0gODogb08wMG9vbzBvME9PCiAgIGlmIEkxaTFpaUlpMWlpMSAuIHVybHBsYXllZCA6CiAgICBwcmludCAneWVzIHBsYXllZCcKICAgIHJldHVybiBUcnVlCiAgIGlmIHRpbWUgLiB0aW1lICggKSAtIGlpMUkxaUlpSSA+IDQgOiByZXR1cm4gRmFsc2UKICAgaWYgODUgLSA4NTogSUkgLiBJaWlJSWlJSSAqIEkxSUkgLSBpMTFJaUkxSUkgJSBpMTFJaSAqIElJb29vTzBvb08wb28KIGV4Y2VwdCA6IHBhc3MKIHByaW50ICdub3QgcGxheWVkJyAsIHVybAogcmV0dXJuIEZhbHNlCmRlZiBPbzBPMDBPMCAoIG5hbWUgLCBtdV9wbGF5bGlzdCAsIHF1ZXVlVmlkZW8gPSBOb25lICkgOgogT29PMDAwID0geGJtYyAuIFBsYXlMaXN0ICggeGJtYyAuIFBMQVlMSVNUX1ZJREVPICkKIGlmIDUzIC0gNTM6IGkxMUlpSTFJSSAuIElpaUlJaUlJICUgSUkgLyBpaUlpMUlpSQogaWYgJyQkTFNQbGF5T25seU9uZSQkJyBpbiBtdV9wbGF5bGlzdCBbIDAgXSA6CiAgbXVfcGxheWxpc3QgWyAwIF0gPSBtdV9wbGF5bGlzdCBbIDAgXSAuIHJlcGxhY2UgKCAnJCRMU1BsYXlPbmx5T25lJCQnICwgJycgKQogIGltcG9ydCB1cmxwYXJzZQogIG9PT09vb28gPSBbIF0KICBJSUlJSSA9IDAKICBPb08wMG9vMG9vID0geGJtY2d1aSAuIERpYWxvZ1Byb2dyZXNzICggKQogIE9vTzAwb28wb28gLiBjcmVhdGUgKCAnUHJvZ3Jlc3MnICwgJ1RyeWluZyBNdWx0aXBsZSBMaW5rcycgKQogIGZvciBPT28wb09PT08wIGluIG11X3BsYXlsaXN0IDoKICAgaWYgNzkgLSA3OTogaWlJaTFJaUkgLiBJMSAvIG9PTwogICBpZiAyMCAtIDIwOiBJMUlJICogSWkKICAgaWYgJyQkbHNuYW1lPScgaW4gT09vMG9PT09PMCA6CiAgICBJaWkgPSBPT28wb09PT08wIC4gc3BsaXQgKCAnJCRsc25hbWU9JyApIFsgMSBdIC4gc3BsaXQgKCAnJnJlZ2V4cycgKSBbIDAgXQogICAgb09PT29vbyAuIGFwcGVuZCAoIElpaSApCiAgICBtdV9wbGF5bGlzdCBbIElJSUlJIF0gPSBPT28wb09PT08wIC4gc3BsaXQgKCAnJCRsc25hbWU9JyApIFsgMCBdICsgKCAnJnJlZ2V4cycgKyBPT28wb09PT08wIC4gc3BsaXQgKCAnJnJlZ2V4cycgKSBbIDEgXSBpZiAnJnJlZ2V4cycgaW4gT09vMG9PT09PMCBlbHNlICcnICkKICAgZWxzZSA6CiAgICBJaWkgPSB1cmxwYXJzZSAuIHVybHBhcnNlICggT09vMG9PT09PMCApIC4gbmV0bG9jCiAgICBpZiBJaWkgPT0gJycgOgogICAgIG9PT09vb28gLiBhcHBlbmQgKCBuYW1lICkKICAgIGVsc2UgOgogICAgIG9PT09vb28gLiBhcHBlbmQgKCBJaWkgKQogICBJSTExSWkgPSBJSUlJSQogICBJSUlJSSArPSAxCiAgIGlmIDc5IC0gNzk6IElpIC4gaTExSWlJMUlJIC8gb09PICUgaWlJSWkxaTFJaWkgJSBPT08KICAgb28wMG9PbzAgPSBvT09Pb29vIFsgSUkxMUlpIF0KICAgaWYgT29PMDBvbzBvbyAuIGlzY2FuY2VsZWQgKCApIDogcmV0dXJuCiAgIE9vTzAwb28wb28gLiB1cGRhdGUgKCBJSUlJSSAvIGxlbiAoIG11X3BsYXlsaXN0ICkgKiAxMDAgLCAiIiAsICJMaW5rIyVkIiAlICggSUlJSUkgKSAsIG9vMDBvT28wICkKICAgcHJpbnQgJ2F1dG8gcGxheW5hbWV4eCcgLCBvbzAwb09vMAogICBpZiAiJm1vZGU9MTkiIGluIG11X3BsYXlsaXN0IFsgSUkxMUlpIF0gOgogICAgaWYgMjggLSAyODogTzAwMDAwME8gKiBpSUlJMSArIEkxSUlJMWlJMWlpaUlpSTEKICAgIG9vMDAgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBvbzAwb09vMCAsIGljb25JbWFnZSA9IElJMWlJICwgdGh1bWJuYWlsSW1hZ2UgPSBJSTFpSSApCiAgICBvbzAwIC4gc2V0SW5mbyAoIHR5cGUgPSAnVmlkZW8nICwgaW5mb0xhYmVscyA9IHsgJ1RpdGxlJyA6IG9vMDBvT28wIH0gKQogICAgb28wMCAuIHNldFByb3BlcnR5ICggIklzUGxheWFibGUiICwgInRydWUiICkKICAgIE9vMCA9IEkxSSAoIG11X3BsYXlsaXN0IFsgSUkxMUlpIF0gLiByZXBsYWNlICggJyZtb2RlPTE5JyAsICcnICkgLiByZXBsYWNlICggJzsnICwgJycgKSApCiAgICBvbzAwIC4gc2V0UGF0aCAoIE9vMCApCiAgICBpZiA3MSAtIDcxOiBpSUlJMSAtIG9PMG8wICsgaWlJaTFJaUkgKyBJMUlJSTFpSTFpaWlJaUkxICUgb08wbzAgLSBJSW9vb08wb29PMG9vCiAgICBpMWlpSTFpID0gbzBPb08wICggT28wICwgb28wMCApCiAgIGVsaWYgIiRkb3JlZ2V4IiBpbiBtdV9wbGF5bGlzdCBbIElJMTFJaSBdIDoKICAgIGlmIDY3IC0gNjc6IElJb29vTzBvb08wb28gLiBvTzBvMCArIG9PMDBvb28wbzBPTyAvIGlJSUkxCiAgICBvMDBvT08gPSBtdV9wbGF5bGlzdCBbIElJMTFJaSBdIC4gc3BsaXQgKCAnJnJlZ2V4cz0nICkKICAgIGlmIDg4IC0gODg6IEkxIC8gSTFJSUkxaUkxaWlpSWlJMQogICAgb29Pb09PMDBPT29vMCAsIGkxMTFJaTFpaTExID0gb29vb28wICggbzAwb09PIFsgMSBdICwgbzAwb09PIFsgMCBdICkKICAgIE9PTzBPTzBvMDAwTzAgPSBvb09vT08wME9Pb28wIC4gcmVwbGFjZSAoICc7JyAsICcnICkKICAgIG9vMDAgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBvbzAwb09vMCAsIGljb25JbWFnZSA9IElJMWlJICwgdGh1bWJuYWlsSW1hZ2UgPSBJSTFpSSApCiAgICBvbzAwIC4gc2V0SW5mbyAoIHR5cGUgPSAnVmlkZW8nICwgaW5mb0xhYmVscyA9IHsgJ1RpdGxlJyA6IG9vMDBvT28wIH0gKQogICAgb28wMCAuIHNldFByb3BlcnR5ICggIklzUGxheWFibGUiICwgInRydWUiICkKICAgIG9vMDAgLiBzZXRQYXRoICggT09PME9PMG8wMDBPMCApCiAgICBpZiA2OSAtIDY5OiBPMDAwMDAwTwogICAgaTFpaUkxaSA9IG8wT29PMCAoIE9PTzBPTzBvMDAwTzAgLCBvbzAwICkKICAgIGlmIDMwIC0gMzA6IGlpSUlpMWkxSWlpIC0gSUlvb29PMG9vTzBvbyAuIElpaUlJaUlJCiAgIGVsc2UgOgogICAgb29Pb09PMDBPT29vMCA9IG11X3BsYXlsaXN0IFsgSUkxMUlpIF0KICAgIG9vT29PTzAwT09vbzAgPSBvb09vT08wME9Pb28wIC4gc3BsaXQgKCAnJnJlZ2V4cz0nICkgWyAwIF0KICAgIG9vMDAgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBvbzAwb09vMCAsIGljb25JbWFnZSA9IElJMWlJICwgdGh1bWJuYWlsSW1hZ2UgPSBJSTFpSSApCiAgICBvbzAwIC4gc2V0SW5mbyAoIHR5cGUgPSAnVmlkZW8nICwgaW5mb0xhYmVscyA9IHsgJ1RpdGxlJyA6IG9vMDBvT28wIH0gKQogICAgb28wMCAuIHNldFByb3BlcnR5ICggIklzUGxheWFibGUiICwgInRydWUiICkKICAgIG9vMDAgLiBzZXRQYXRoICggb29Pb09PMDBPT29vMCApCiAgICBpZiA2OSAtIDY5OiBpaUkgLiBPMDBPIC4gb09PCiAgICBpMWlpSTFpID0gbzBPb08wICggb29Pb09PMDBPT29vMCAsIG9vMDAgKQogICAgcHJpbnQgJ3BsYXllZCcgLCBpMWlpSTFpCiAgIHByaW50ICdwbGF5ZWQnICwgaTFpaUkxaQogICBpZiBpMWlpSTFpIDogcmV0dXJuCiAgcmV0dXJuCiBpZiBPb28gLiBnZXRTZXR0aW5nICggJ2Fza19wbGF5bGlzdF9pdGVtcycgKSA9PSAndHJ1ZScgYW5kIG5vdCBxdWV1ZVZpZGVvIDoKICBpbXBvcnQgdXJscGFyc2UKICBvT09Pb29vID0gWyBdCiAgSUlJSUkgPSAwCiAgZm9yIE9PbzBvT09PTzAgaW4gbXVfcGxheWxpc3QgOgogICBpZiAnJCRsc25hbWU9JyBpbiBPT28wb09PT08wIDoKICAgIElpaSA9IE9PbzBvT09PTzAgLiBzcGxpdCAoICckJGxzbmFtZT0nICkgWyAxIF0gLiBzcGxpdCAoICcmcmVnZXhzJyApIFsgMCBdCiAgICBvT09Pb29vIC4gYXBwZW5kICggSWlpICkKICAgIG11X3BsYXlsaXN0IFsgSUlJSUkgXSA9IE9PbzBvT09PTzAgLiBzcGxpdCAoICckJGxzbmFtZT0nICkgWyAwIF0gKyAoICcmcmVnZXhzJyArIE9PbzBvT09PTzAgLiBzcGxpdCAoICcmcmVnZXhzJyApIFsgMSBdIGlmICcmcmVnZXhzJyBpbiBPT28wb09PT08wIGVsc2UgJycgKQogICBlbHNlIDoKICAgIElpaSA9IHVybHBhcnNlIC4gdXJscGFyc2UgKCBPT28wb09PT08wICkgLiBuZXRsb2MKICAgIGlmIElpaSA9PSAnJyA6CiAgICAgb09PT29vbyAuIGFwcGVuZCAoIG5hbWUgKQogICAgZWxzZSA6CiAgICAgb09PT29vbyAuIGFwcGVuZCAoIElpaSApCiAgICAgaWYgMjUgLSAyNTogaWlJICUgSUlJSSAqIG9PMDBvb28wbzBPTyArIElpaUlJaUlJCiAgIElJSUlJICs9IDEKICBJSTFJSWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJSTExSWkgPSBJSTFJSWlJIC4gc2VsZWN0ICggJ0Nob29zZSBhIHZpZGVvIHNvdXJjZScgLCBvT09Pb29vICkKICBpZiBJSTExSWkgPj0gMCA6CiAgIG9vMDBvT28wID0gb09PT29vbyBbIElJMTFJaSBdCiAgIHByaW50ICdwbGF5bmFtZXh4JyAsIG9vMDBvT28wCiAgIGlmICImbW9kZT0xOSIgaW4gbXVfcGxheWxpc3QgWyBJSTExSWkgXSA6CiAgICBpZiA4MSAtIDgxOiBPMDBPICogb08wbzAgLiBvTzAwb29vMG8wT08KICAgIG9vMDAgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBvbzAwb09vMCAsIGljb25JbWFnZSA9IElJMWlJICwgdGh1bWJuYWlsSW1hZ2UgPSBJSTFpSSApCiAgICBvbzAwIC4gc2V0SW5mbyAoIHR5cGUgPSAnVmlkZW8nICwgaW5mb0xhYmVscyA9IHsgJ1RpdGxlJyA6IG9vMDBvT28wIH0gKQogICAgb28wMCAuIHNldFByb3BlcnR5ICggIklzUGxheWFibGUiICwgInRydWUiICkKICAgIE9vMCA9IEkxSSAoIG11X3BsYXlsaXN0IFsgSUkxMUlpIF0gLiByZXBsYWNlICggJyZtb2RlPTE5JyAsICcnICkgLiByZXBsYWNlICggJzsnICwgJycgKSApCiAgICBvbzAwIC4gc2V0UGF0aCAoIE9vMCApCiAgICB4Ym1jIC4gUGxheWVyICggKSAuIHBsYXkgKCBPbzAgLCBvbzAwICkKICAgZWxpZiAiJGRvcmVnZXgiIGluIG11X3BsYXlsaXN0IFsgSUkxMUlpIF0gOgogICAgaWYgNzcgLSA3NzogaTExSWlJMUlJCiAgICBvMDBvT08gPSBtdV9wbGF5bGlzdCBbIElJMTFJaSBdIC4gc3BsaXQgKCAnJnJlZ2V4cz0nICkKICAgIGlmIDc5IC0gNzk6IElpaUlJaUlJICsgb09PCiAgICBvb09vT08wME9Pb28wICwgaTExMUlpMWlpMTEgPSBvb29vbzAgKCBvMDBvT08gWyAxIF0gLCBvMDBvT08gWyAwIF0gKQogICAgT09PME9PMG8wMDBPMCA9IG9vT29PTzAwT09vbzAgLiByZXBsYWNlICggJzsnICwgJycgKQogICAgb28wMCA9IHhibWNndWkgLiBMaXN0SXRlbSAoIG9vMDBvT28wICwgaWNvbkltYWdlID0gSUkxaUkgLCB0aHVtYm5haWxJbWFnZSA9IElJMWlJICkKICAgIG9vMDAgLiBzZXRJbmZvICggdHlwZSA9ICdWaWRlbycgLCBpbmZvTGFiZWxzID0geyAnVGl0bGUnIDogb28wMG9PbzAgfSApCiAgICBvbzAwIC4gc2V0UHJvcGVydHkgKCAiSXNQbGF5YWJsZSIgLCAidHJ1ZSIgKQogICAgb28wMCAuIHNldFBhdGggKCBPT08wT08wbzAwME8wICkKICAgIHhibWMgLiBQbGF5ZXIgKCApIC4gcGxheSAoIE9PTzBPTzBvMDAwTzAgLCBvbzAwICkKICAgIGlmIDUyIC0gNTI6IElJSUkgLiBJaSAvIG9PMDBvb28wbzBPTyAlIG9PMG8wCiAgIGVsc2UgOgogICAgb29Pb09PMDBPT29vMCA9IG11X3BsYXlsaXN0IFsgSUkxMUlpIF0KICAgIG9vT29PTzAwT09vbzAgPSBvb09vT08wME9Pb28wIC4gc3BsaXQgKCAnJnJlZ2V4cz0nICkgWyAwIF0KICAgIG9vMDAgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBvbzAwb09vMCAsIGljb25JbWFnZSA9IElJMWlJICwgdGh1bWJuYWlsSW1hZ2UgPSBJSTFpSSApCiAgICBvbzAwIC4gc2V0SW5mbyAoIHR5cGUgPSAnVmlkZW8nICwgaW5mb0xhYmVscyA9IHsgJ1RpdGxlJyA6IG9vMDBvT28wIH0gKQogICAgb28wMCAuIHNldFByb3BlcnR5ICggIklzUGxheWFibGUiICwgInRydWUiICkKICAgIG9vMDAgLiBzZXRQYXRoICggb29Pb09PMDBPT29vMCApCiAgICB4Ym1jIC4gUGxheWVyICggKSAuIHBsYXkgKCBvb09vT08wME9Pb28wICwgb28wMCApCiBlbGlmIG5vdCBxdWV1ZVZpZGVvIDoKICBpZiAxMSAtIDExOiBPT08KICBPb08wMDAgLiBjbGVhciAoICkKICBPTyA9IDAKICBmb3IgT09vMG9PT09PMCBpbiBtdV9wbGF5bGlzdCA6CiAgIE9PICs9IDEKICAgSTFpb29vID0geGJtY2d1aSAuIExpc3RJdGVtICggJyVzKSAlcycgJSAoIHN0ciAoIE9PICkgLCBuYW1lICkgKQogICBpZiA5MiAtIDkyOiBpaUkgJSBvTzAwb29vMG8wT08gJSBvTzBvMCAvIElJSUkKICAgdHJ5IDoKICAgIGlmICIkZG9yZWdleCIgaW4gT09vMG9PT09PMCA6CiAgICAgbzAwb09PID0gT09vMG9PT09PMCAuIHNwbGl0ICggJyZyZWdleHM9JyApCiAgICAgaWYgNDcgLSA0NzogSTEgKiBJaWlJSWlJSSAvIGlpSUlpMWkxSWlpIC4gSTFJSUkxaUkxaWlpSWlJMQogICAgIG9vT29PTzAwT09vbzAgLCBpMTExSWkxaWkxMSA9IG9vb29vMCAoIG8wMG9PTyBbIDEgXSAsIG8wMG9PTyBbIDAgXSApCiAgICBlbGlmICImbW9kZT0xOSIgaW4gT09vMG9PT09PMCA6CiAgICAgb29Pb09PMDBPT29vMCA9IEkxSSAoIE9PbzBvT09PTzAgLiByZXBsYWNlICggJyZtb2RlPTE5JyAsICcnICkgLiByZXBsYWNlICggJzsnICwgJycgKSApCiAgICBpZiBvb09vT08wME9Pb28wIDoKICAgICBPb08wMDAgLiBhZGQgKCBvb09vT08wME9Pb28wICwgSTFpb29vICkKICAgIGVsc2UgOgogICAgIHJhaXNlCiAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgT29PMDAwIC4gYWRkICggT09vMG9PT09PMCAsIEkxaW9vbyApCiAgICBwYXNzCiAgICBpZiA4MCAtIDgwOiBJSUlJCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggJ3BsYXlsaXN0LnBsYXlvZmZzZXQodmlkZW8sMCknICkKIGVsc2UgOgogIGlmIDYxIC0gNjE6IGlpSSAtIGkxMUlpSTFJSSAlIE9PTyAuIGlJSUkxCiAgSTFpSWkxMTExaTFJID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSApCiAgT29PMDAwIC4gYWRkICggbXVfcGxheWxpc3QgLCBJMWlJaTExMTFpMUkgKQogIGlmIDQ1IC0gNDU6IG9PMDBvb28wbzBPTyAlIEkxCiAgaWYgMjkgLSAyOTogSUlvb29PMG9vTzBvbyAlIE8wMDAwMDBPIC8gSTFJSQpkZWYgT08wb29PMG8wbzAgKCBuYW1lICwgdXJsICkgOgogaWYgT29vIC4gZ2V0U2V0dGluZyAoICdzYXZlX2xvY2F0aW9uJyApID09ICIiIDoKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Ob3RpZmljYXRpb24oJ0NhdG9hbCcsJ0Nob29zZSBhIGxvY2F0aW9uIHRvIHNhdmUgZmlsZXMuJywxNTAwMCwiICsgTzAwTzAwMCArICIpIiApCiAgT29vIC4gb3BlblNldHRpbmdzICggKQogT28gPSB7ICd1cmwnIDogdXJsICwgJ2Rvd25sb2FkX3BhdGgnIDogT29vIC4gZ2V0U2V0dGluZyAoICdzYXZlX2xvY2F0aW9uJyApIH0KIGRvd25sb2FkZXIgLiBkb3dubG9hZCAoIG5hbWUgLCBPbyApCiBJSTFJSWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKIGlJMTEgPSBJSTFJSWlJIC4geWVzbm8gKCAnQ2F0b2FsJyAsICdEbyB5b3Ugd2FudCB0byBhZGQgdGhpcyBmaWxlIGFzIGEgc291cmNlPycgKQogaWYgaUkxMSA6CiAgaWlJSTEgKCBvcyAuIHBhdGggLiBqb2luICggT29vIC4gZ2V0U2V0dGluZyAoICdzYXZlX2xvY2F0aW9uJyApICwgbmFtZSApICkKICBpZiAxOSAtIDE5OiBJMUlJSTFpSTFpaWlJaUkxIC0gSTFJSUkxaUkxaWlpSWlJMSAlIElJIC0gaTExSWlJMUlJCmRlZiBPbzBvbzAwT08gKCB1cmwgLCBuYW1lICkgOgogaWYgNDkgLSA0OTogSUlvb29PMG9vTzBvbwogT09JaUlpaTFJaTFpaSA9IFsgJ3BsdWdpbjovL3BsdWdpbi52aWRlby5nZW5lc2lzLz9hY3Rpb249c2hvd3Nfc2VhcmNoJyAsICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uZ2VuZXNpcy8/YWN0aW9uPW1vdmllc19zZWFyY2gnICwgJ3BsdWdpbjovL3BsdWdpbi52aWRlby5zYWx0cy8/bW9kZT1zZWFyY2gmYW1wO3NlY3Rpb249TW92aWVzJyAsICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uc2FsdHMvP21vZGU9c2VhcmNoJmFtcDtzZWN0aW9uPVRWJyAsICdwbHVnaW46Ly9wbHVnaW4udmlkZW8ubXVjaG1vdmllcy5oZC8/YWN0aW9uPW1vdmllc19zZWFyY2gnICwgJ3BsdWdpbjovL3BsdWdpbi52aWRlby52aW9vei5jby8/YWN0aW9uPXJvb3Rfc2VhcmNoJyAsICdwbHVnaW46Ly9wbHVnaW4udmlkZW8ub3Jvcm90di8/YWN0aW9uPXNob3dzX3NlYXJjaCcgLCAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLnlpZnltb3ZpZXMuaGQvP2FjdGlvbj1tb3ZpZXNfc2VhcmNoJyAsICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uY2FydG9vbmhkdHdvLz9kZXNjcmlwdGlvbiZhbXA7ZmFuYXJ0JmFtcDtpY29uaW1hZ2UmYW1wO21vZGU9MyZhbXA7bmFtZT1TZWFyY2gmYW1wO3VybD11cmwnICwgJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL2tvZGlvbi9zZWFyY2gvbGlzdC8nICwgJ3BsdWdpbjovL3BsdWdpbi52aWRlby5kYWlseW1vdGlvbl9jb20vP21vZGU9c2VhcmNoJmFtcDt1cmwnICwgJ3BsdWdpbjovL3BsdWdpbi52aWRlby52aW1lby9rb2Rpb24vc2VhcmNoL2xpc3QvJyBdCiBpZiA4MyAtIDgzOiBpMTFJaSAtIG9PMDBvb28wbzBPTyAlIE9PTyAlIEkxSUkgJSBJMUlJIC4gSUkKIGlmIDkwIC0gOTA6IGlpSSAuIElJb29vTzBvb08wb28gKyBpaUkgKiBJSW9vb08wb29PMG9vICUgaUlJSTEKIGlmIDQ3IC0gNDc6IGkxMUlpCiBpZiAxMiAtIDEyOiBJSW9vb08wb29PMG9vICUgaTExSWkKIGlmIDg0IC0gODQ6IGlpSUlpMWkxSWlpCiBpZiA1NCAtIDU0OiBJaWlJSWlJSQogaWYgNDYgLSA0NjogaTExSWkKIGlmIDI2IC0gMjY6IGkxMUlpCiBpZiA1MCAtIDUwOiBJMSAtIGlJSUkxICogaWlJICsgSUlvb29PMG9vTzBvbwogaWYgOTEgLSA5MTogSUlJSSAtIEkxSUlJMWlJMWlpaUlpSTEgKyBPT08gKyBJMUlJCiBpZiA1MSAtIDUxOiBJaSAuIElpIC0gaUlJSTEgLSBPMDAwMDAwTyAtIElJb29vTzBvb08wb28gLiBpMTFJaQogaWYgNDAgLSA0MDogaWlJIC4gaWlJaTFJaUkgJSBpaUlpMUlpSQogb09PT29vbyA9IFsgJ0dlbnNpcyBUVicgLCAnR2VuZXNpcyBNb3ZpZScgLCAnU2FsdCBtb3ZpZScgLCAnc2FsdCBUVicgLCAnTXVjaG1vdmllcycgLCAndmlvb3onICwgJ09Sb3JvVFYnICwgJ1lpZnltb3ZpZXMnICwgJ2NhcnRvb25IRCcgLCAnWW91dHViZScgLCAnRGFpbHlNb3Rpb24nICwgJ1ZpbWVvJyBdCiBpZiAzNCAtIDM0OiBJSUlJCiBJSTFJSWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKIElJMTFJaSA9IElJMUlJaUkgLiBzZWxlY3QgKCAnQ2hvb3NlIGEgdmlkZW8gc291cmNlJyAsIG9PT09vb28gKQogaWYgMTAgLSAxMDogSTFJSSAtIEkxICUgT09PICUgSUkgLSBpMTFJaUkxSUkgLiBJMQogaWYgSUkxMUlpID49IDAgOgogIHVybCA9IE9PSWlJaWkxSWkxaWkgWyBJSTExSWkgXQogIGlmIDIxIC0gMjE6IElJb29vTzBvb08wb28gJSBpMTFJaSArIElpICsgSUlvb29PMG9vTzBvbwogIE9PMG8wMDAgKCB1cmwgKQogIGlmIDEzIC0gMTM6IElJb29vTzBvb08wb28gLSBJaWlJSWlJSSAlIGlJSUkxIC4gb09PIC0gTzAwMDAwME8KZGVmIG9vME9PTzBPICggbmFtZSAsIHVybCAsIG1vZGUgLCBpY29uaW1hZ2UgLCBmYW5hcnQgLCBkZXNjcmlwdGlvbiAsIGdlbnJlICwgZGF0ZSAsIGNyZWRpdHMgLCBzaG93Y29udGV4dCA9IEZhbHNlICwgcmVnZXhzID0gTm9uZSAsIHJlZ191cmwgPSBOb25lICwgYWxsaW5mbyA9IHsgfSApIDoKIGlmIDIzIC0gMjM6IEkxSUlJMWlJMWlpaUlpSTEKIGlmIDEyIC0gMTI6IGlpSWkxSWlJICUgaWlJCiBpZiA4NSAtIDg1OiBJSSAqIE8wME8KIGlmIHJlZ2V4cyBhbmQgbGVuICggcmVnZXhzICkgPiAwIDoKICBvT29PID0gc3lzIC4gYXJndiBbIDAgXSArICI/dXJsPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggdXJsICkgKyAiJm1vZGU9IiArIHN0ciAoIG1vZGUgKSArICImbmFtZT0iICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIE8wMDBvb28wMG9Pb08gKCBuYW1lICkgKSArICImZmFuYXJ0PSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggZmFuYXJ0ICkgKyAiJnJlZ2V4cz0iICsgcmVnZXhzCiBlbHNlIDoKICBvT29PID0gc3lzIC4gYXJndiBbIDAgXSArICI/dXJsPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggdXJsICkgKyAiJm1vZGU9IiArIHN0ciAoIG1vZGUgKSArICImbmFtZT0iICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIE8wMDBvb28wMG9Pb08gKCBuYW1lICkgKSArICImZmFuYXJ0PSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggZmFuYXJ0ICkKICBpZiAzOCAtIDM4OiBPT08gLSBpaUkgLyBJMUlJSTFpSTFpaWlJaUkxCiBPTzBvME9Pb29PTzAgPSBUcnVlCiBpZiBkYXRlID09ICcnIDoKICBkYXRlID0gTm9uZQogZWxzZSA6CiAgZGVzY3JpcHRpb24gKz0gJ1xuXG5EYXRlOiAlcycgJSBkYXRlCiBvbzAwID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9ICJEZWZhdWx0Rm9sZGVyLnBuZyIgLCB0aHVtYm5haWxJbWFnZSA9IGljb25pbWFnZSApCiBpZiBsZW4gKCBhbGxpbmZvICkgPCAxIDoKICBvbzAwIC4gc2V0SW5mbyAoIHR5cGUgPSAiVmlkZW8iICwgaW5mb0xhYmVscyA9IHsgIlRpdGxlIiA6IG5hbWUgLCAiUGxvdCIgOiBkZXNjcmlwdGlvbiAsICJHZW5yZSIgOiBnZW5yZSAsICJkYXRlYWRkZWQiIDogZGF0ZSAsICJjcmVkaXRzIiA6IGNyZWRpdHMgfSApCiBlbHNlIDoKICBvbzAwIC4gc2V0SW5mbyAoIHR5cGUgPSAiVmlkZW8iICwgaW5mb0xhYmVscyA9IGFsbGluZm8gKQogb28wMCAuIHNldFByb3BlcnR5ICggIkZhbmFydF9JbWFnZSIgLCBmYW5hcnQgKQogaWYgc2hvd2NvbnRleHQgOgogIG8wT09vME9PMCA9IFsgXQogIG9vb28wME9PbzBPMCA9IE9vbyAuIGdldFNldHRpbmcgKCAncGFyZW50YWxibG9ja2VkJyApCiAgb29vbzAwT09vME8wID0gb29vbzAwT09vME8wID09ICJ0cnVlIgogIG8wMDBvb29PMG8wID0gT29vIC4gZ2V0U2V0dGluZyAoICdwYXJlbnRhbGJsb2NrZWRwaW4nICkKICBpZiA1OSAtIDU5OiBJSUlJCiAgaWYgbGVuICggbzAwMG9vb08wbzAgKSA+IDAgOgogICBpZiBvb29vMDBPT28wTzAgOgogICAgbzBPT28wT08wIC4gYXBwZW5kICggKCAnRGlzYWJsZSBQYXJlbnRhbCBCbG9jaycgLCAnWEJNQy5SdW5QbHVnaW4oJXM/bW9kZT01NSZuYW1lPSVzKScgJSAoIHN5cyAuIGFyZ3YgWyAwIF0gLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggbmFtZSApICkgKSApCiAgIGVsc2UgOgogICAgbzBPT28wT08wIC4gYXBwZW5kICggKCAnRW5hYmxlIFBhcmVudGFsIEJsb2NrJyAsICdYQk1DLlJ1blBsdWdpbiglcz9tb2RlPTU2Jm5hbWU9JXMpJyAlICggc3lzIC4gYXJndiBbIDAgXSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBuYW1lICkgKSApICkKICAgIGlmIDgxIC0gODE6IG9PMDBvb28wbzBPTwogIGlmIHNob3djb250ZXh0ID09ICdzb3VyY2UnIDoKICAgaWYgMjMgLSAyMzogSUlvb29PMG9vTzBvbyAlIElJCiAgIGlmIG5hbWUgaW4gc3RyICggaUkxaUlJMWkxaUkgKSA6CiAgICBvME9PbzBPTzAgLiBhcHBlbmQgKCAoICdSZW1vdmUgZnJvbSBTb3VyY2VzJyAsICdYQk1DLlJ1blBsdWdpbiglcz9tb2RlPTgmbmFtZT0lcyknICUgKCBzeXMgLiBhcmd2IFsgMCBdICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSApICkgKQogICAgaWYgMyAtIDM6IE8wME8gKyBJaSAtIEkxSUlJMWlJMWlpaUlpSTEgLSBJMUlJCiAgICBpZiAxNiAtIDE2OiBvTzBvMAogIGVsaWYgc2hvd2NvbnRleHQgPT0gJ2Rvd25sb2FkJyA6CiAgIG8wT09vME9PMCAuIGFwcGVuZCAoICggJ0Rvd25sb2FkJyAsICdYQk1DLlJ1blBsdWdpbiglcz91cmw9JXMmbW9kZT05Jm5hbWU9JXMpJwogJSAoIHN5cyAuIGFyZ3YgWyAwIF0gLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggdXJsICkgLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggbmFtZSApICkgKSApCiAgZWxpZiBzaG93Y29udGV4dCA9PSAnZmF2JyA6CiAgIG8wT09vME9PMCAuIGFwcGVuZCAoICggJ1JlbW92ZSBmcm9tIENhdG9hbCBGYXZvcml0ZXMnICwgJ1hCTUMuUnVuUGx1Z2luKCVzP21vZGU9NiZuYW1lPSVzKScKICUgKCBzeXMgLiBhcmd2IFsgMCBdICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSApICkgKQogIGlmIHNob3djb250ZXh0ID09ICchIXVwZGF0ZScgOgogICBJaWlJSSA9ICgKICclcz91cmw9JXMmbW9kZT0xNyZyZWdleHM9JXMnCiAlICggc3lzIC4gYXJndiBbIDAgXSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCByZWdfdXJsICkgLCByZWdleHMgKQogKQogICBvME9PbzBPTzAgLiBhcHBlbmQgKCAoICdbQ09MT1IgeWVsbG93XSEhdXBkYXRlWy9DT0xPUl0nICwgJ1hCTUMuUnVuUGx1Z2luKCVzKScgJSBJaWlJSSApICkKICBpZiBub3QgbmFtZSBpbiBpSTFJaTEgOgogICBvME9PbzBPTzAgLiBhcHBlbmQgKCAoICdBZGQgdG8gQ2F0b2FsIEZhdm9yaXRlcycgLCAnWEJNQy5SdW5QbHVnaW4oJXM/bW9kZT01Jm5hbWU9JXMmdXJsPSVzJmljb25pbWFnZT0lcyZmYW5hcnQ9JXMmZmF2X21vZGU9JXMpJwogJSAoIHN5cyAuIGFyZ3YgWyAwIF0gLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggbmFtZSApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIHVybCApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIGljb25pbWFnZSApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIGZhbmFydCApICwgbW9kZSApICkgKQogIG9vMDAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggbzBPT28wT08wICkKIE9PMG8wT09vb09PMCA9IHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtICggaGFuZGxlID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgdXJsID0gb09vTyAsIGxpc3RpdGVtID0gb28wMCAsIGlzRm9sZGVyID0gVHJ1ZSApCiByZXR1cm4gT08wbzBPT29vT08wCmRlZiBpSUlJMWkxMSAoIHVybCAsIHRpdGxlICwgbWVkaWFfdHlwZSA9ICd2aWRlbycgKSA6CiBpZiA2NSAtIDY1OiBJSQogaWYgNjcgLSA2NzogSUkgKyBvTzBvMCAqIElpICUgT09PIC0gSWkgKiBJSW9vb08wb29PMG9vCiBpbXBvcnQgeW91dHViZWRsCiBpZiBub3QgdXJsID09ICcnIDoKICBpZiBtZWRpYV90eXBlID09ICdhdWRpbycgOgogICB5b3V0dWJlZGwgLiBzaW5nbGVfWUQgKCB1cmwgLCBkb3dubG9hZCA9IFRydWUgLCBhdWRpbyA9IFRydWUgKQogIGVsc2UgOgogICB5b3V0dWJlZGwgLiBzaW5nbGVfWUQgKCB1cmwgLCBkb3dubG9hZCA9IFRydWUgKQogZWxpZiB4Ym1jIC4gUGxheWVyICggKSAuIGlzUGxheWluZyAoICkgPT0gVHJ1ZSA6CiAgaW1wb3J0IFlEU3RyZWFtRXh0cmFjdG9yCiAgaWYgWURTdHJlYW1FeHRyYWN0b3IgLiBpc0Rvd25sb2FkaW5nICggKSA9PSBUcnVlIDoKICAgaWYgNzUgLSA3NTogSWkgKiBJaWlJSWlJSSAqIGkxMUlpSTFJSSArIGlpSQogICBZRFN0cmVhbUV4dHJhY3RvciAuIG1hbmFnZURvd25sb2FkcyAoICkKICBlbHNlIDoKICAgbzBPMDAwTzBvT08gPSB4Ym1jIC4gUGxheWVyICggKSAuIGdldFBsYXlpbmdGaWxlICggKQogICBpZiAyMiAtIDIyOiBJMUlJSTFpSTFpaWlJaUkxIC0gTzAwTyArIElpICsgaWlJICsgSTFJSQogICBvME8wMDBPMG9PTyA9IG8wTzAwME8wb09PIC4gc3BsaXQgKCAnfFVzZXItQWdlbnQ9JyApIFsgMCBdCiAgIEkxaW9vbyA9IHsgJ3VybCcgOiBvME8wMDBPMG9PTyAsICd0aXRsZScgOiB0aXRsZSAsICdtZWRpYV90eXBlJyA6IG1lZGlhX3R5cGUgfQogICB5b3V0dWJlZGwgLiBzaW5nbGVfWUQgKCAnJyAsIGRvd25sb2FkID0gVHJ1ZSAsIGRsX2luZm8gPSBJMWlvb28gKQogZWxzZSA6CiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuTm90aWZpY2F0aW9uKERPV05MT0FELEZpcnN0IFBsYXkgW0NPTE9SIHllbGxvd11XSElMRSBwbGF5aW5nIGRvd25sb2FkWy9DT0xPUl0gLDEwMDAwKSIgKQogIGlmIDE5IC0gMTk6IGlpSSAvIElJb29vTzBvb08wb28gJSBpaUlJaTFpMUlpaSAuIElJb29vTzBvb08wb28KICBpZiA1NCAtIDU0OiBpMTFJaSAlIEkxSUlJMWlJMWlpaUlpSTEKZGVmIGlpSWlpaSAoIHN0cmluZyApIDoKIGlmIGlzaW5zdGFuY2UgKCBzdHJpbmcgLCBiYXNlc3RyaW5nICkgOgogIGlmIGlzaW5zdGFuY2UgKCBzdHJpbmcgLCB1bmljb2RlICkgOgogICBzdHJpbmcgPSBzdHJpbmcgLiBlbmNvZGUgKCAnYXNjaWknICwgJ2lnbm9yZScgKQogcmV0dXJuIHN0cmluZwpkZWYgSTExaTExaWlpMTExaSAoIHN0cmluZyAsIGVuY29kaW5nID0gJ3V0Zi04JyApIDoKIGlmIGlzaW5zdGFuY2UgKCBzdHJpbmcgLCBiYXNlc3RyaW5nICkgOgogIGlmIG5vdCBpc2luc3RhbmNlICggc3RyaW5nICwgdW5pY29kZSApIDoKICAgc3RyaW5nID0gdW5pY29kZSAoIHN0cmluZyAsIGVuY29kaW5nICwgJ2lnbm9yZScgKQogcmV0dXJuIHN0cmluZwogaWYgODMgLSA4MzogSTFJSUkxaUkxaWlpSWlJMSAqIE9PTyAuIEkxSUlJMWlJMWlpaUlpSTEKZGVmIE8wMDBvb28wMG9Pb08gKCBzdHJpbmcgLCBlbmNvZGluZyA9ICd1dGYtOCcgKSA6CiBpZiBpc2luc3RhbmNlICggc3RyaW5nICwgYmFzZXN0cmluZyApIDoKICBpZiBpc2luc3RhbmNlICggc3RyaW5nICwgdW5pY29kZSApIDoKICAgc3RyaW5nID0gc3RyaW5nIC4gZW5jb2RlICggJ3V0Zi04JyApCiByZXR1cm4gc3RyaW5nCiBpZiAxOCAtIDE4OiBpaUlJaTFpMUlpaSAvIElpIC8gTzAwTwpkZWYgb28wTzAwMDAwICggcyApIDogcmV0dXJuICIiIC4gam9pbiAoIGZpbHRlciAoIGxhbWJkYSBvMG9Pb28wTyA6IG9yZCAoIG8wb09vbzBPICkgPCAxMjggLCBzICkgKQppZiA5NiAtIDk2OiBJMUlJSTFpSTFpaWlJaUkxICogSTEgKiBpMTFJaUkxSUkgJSBpaUlpMUlpSSAlIE8wME8gKyBJSUlJCmRlZiBvMG9vb28wb28wbyAoIGNvbW1hbmQgKSA6CiBvME9vTzBvID0gJycKIHRyeSA6CiAgbzBPb08wbyA9IHhibWMgLiBleGVjdXRlSlNPTlJQQyAoIEkxMWkxMWlpaTExMWkgKCBjb21tYW5kICkgKQogZXhjZXB0IFVuaWNvZGVFbmNvZGVFcnJvciA6CiAgbzBPb08wbyA9IHhibWMgLiBleGVjdXRlSlNPTlJQQyAoIGlpSWlpaSAoIGNvbW1hbmQgKSApCiAgaWYgOTggLSA5ODogaWlJSWkxaTFJaWkgJSBJMUlJSTFpSTFpaWlJaUkxIC0gb08wMG9vbzBvME9PCiByZXR1cm4gSTExaTExaWlpMTExaSAoIG8wT29PMG8gKQogaWYgNTcgLSA1NzogaTExSWkgKyBpSUlJMQpkZWYgT08wbzAwMCAoIHVybCAsIGdpdmVfbWVfcmVzdWx0ID0gTm9uZSAsIHBsYXlsaXN0ID0gRmFsc2UgKSA6CiBpZiAnYXVkaW8nIGluIHVybCA6CiAgb28wMDBPb09vbyA9IEkxMWkxMWlpaTExMWkgKCAneyJqc29ucnBjIjoiMi4wIiwibWV0aG9kIjoiRmlsZXMuR2V0RGlyZWN0b3J5IiwicGFyYW1zIjogeyJkaXJlY3RvcnkiOiIlcyIsIm1lZGlhIjoidmlkZW8iLCAicHJvcGVydGllcyI6IFsidGl0bGUiLCAiYWxidW0iLCAiYXJ0aXN0IiwgImR1cmF0aW9uIiwidGh1bWJuYWlsIiwgInllYXIiXX0sICJpZCI6IDF9JyApICUgdXJsCiBlbHNlIDoKICBvbzAwME9vT29vID0gSTExaTExaWlpMTExaSAoICd7Impzb25ycGMiOiIyLjAiLCJtZXRob2QiOiJGaWxlcy5HZXREaXJlY3RvcnkiLCJwYXJhbXMiOnsiZGlyZWN0b3J5IjoiJXMiLCJtZWRpYSI6InZpZGVvIiwicHJvcGVydGllcyI6WyAicGxvdCIsInBsYXljb3VudCIsImRpcmVjdG9yIiwgImdlbnJlIiwidm90ZXMiLCJkdXJhdGlvbiIsInRyYWlsZXIiLCJwcmVtaWVyZWQiLCJ0aHVtYm5haWwiLCJ0aXRsZSIsInllYXIiLCJkYXRlYWRkZWQiLCJmYW5hcnQiLCJyYXRpbmciLCJzZWFzb24iLCJlcGlzb2RlIiwic3R1ZGlvIiwibXBhYSJdfSwiaWQiOjF9JyApICUgdXJsCiBJMUlJSTFJMTEgPSBqc29uIC4gbG9hZHMgKCBvMG9vb28wb28wbyAoIG9vMDAwT29Pb28gKSApCiBpZiA2NiAtIDY2OiBJaSAvIGkxMUlpSTFJSSAvIGlJSUkxCiBpZiBnaXZlX21lX3Jlc3VsdCA6CiAgcmV0dXJuIEkxSUlJMUkxMQogaWYgSTFJSUkxSTExIC4gaGFzX2tleSAoICdlcnJvcicgKSA6CiAgcmV0dXJuCiBlbHNlIDoKICBpZiAnZmlsZXMnIGluIEkxSUlJMUkxMSBbICdyZXN1bHQnIF0gOgogICBmb3IgT09vMG9PT09PMCBpbiBJMUlJSTFJMTEgWyAncmVzdWx0JyBdIFsgJ2ZpbGVzJyBdIDoKICAgIG8wTzBvb28gPSB7IH0KICAgIHVybCA9IE9PbzBvT09PTzAgWyAnZmlsZScgXQogICAgaWYgODMgLSA4MzogSUlvb29PMG9vTzBvbyAlIG9PTyAuIG9PTyAuIElJICUgb09PCiAgICBJSWlpSUkxMTFpID0gT09vMG9PT09PMCBbICdsYWJlbCcgXQogICAgTzBvID0gb28wTzAwMDAwICggT09vMG9PT09PMCBbICd0aHVtYm5haWwnIF0gKQogICAgb29vMG9vT29PME9vID0gb28wTzAwMDAwICggT09vMG9PT09PMCBbICdmYW5hcnQnIF0gKQogICAgbzBPMG9vbyA9IGRpY3QgKCAoIGsgLCB2ICkgZm9yIGsgLCB2IGluIE9PbzBvT09PTzAgLiBpdGVyaXRlbXMgKCApIGlmIG5vdCB2ID09ICcwJyBvciBub3QgdiA9PSAtIDEgb3IgdiA9PSAnJyApCiAgICBvME8wb29vIC4gcG9wICggImZpbGUiICwgTm9uZSApCiAgICBpZiBPT28wb09PT08wIFsgJ2ZpbGV0eXBlJyBdID09ICdmaWxlJyA6CiAgICAgaWYgcGxheWxpc3QgOgogICAgICBPbzBPMDBPMCAoIElJaWlJSTExMWkgLCB1cmwgLCBxdWV1ZVZpZGVvID0gJzEnICkKICAgICAgY29udGludWUKICAgICBlbHNlIDoKICAgICAgaWkgKCB1cmwgLCBJSWlpSUkxMTFpICwgTzBvICwgb29vMG9vT29PME9vICwgJycgLCAnJyAsICcnICwgJycgLCBOb25lICwgJycgLCB0b3RhbCA9IGxlbiAoIEkxSUlJMUkxMSBbICdyZXN1bHQnIF0gWyAnZmlsZXMnIF0gKSAsIGFsbGluZm8gPSBvME8wb29vICkKICAgICAgaWYgNzYgLSA3NjogTzAwMDAwME8gKiBJSW9vb08wb29PMG9vCiAgICAgIGlmIE9PbzBvT09PTzAgWyAndHlwZScgXSBhbmQgT09vMG9PT09PMCBbICd0eXBlJyBdID09ICd0dnNob3cnIDoKICAgICAgIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgJ3R2c2hvd3MnICkKICAgICAgZWxpZiAnZXBpc29kZScgaW4gT09vMG9PT09PMCBhbmQgT09vMG9PT09PMCBbICdlcGlzb2RlJyBdID4gMCA6CiAgICAgICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSAsICdlcGlzb2RlcycgKQogICAgICAgaWYgODAgLSA4MDogb08wbzAgLiBPMDAwMDAwTyAqIGlpSWkxSWlJIC0gaTExSWlJMUlJIC8gaWlJIC8gSTFJSQogICAgZWxzZSA6CiAgICAgb28wT09PME8gKCBJSWlpSUkxMTFpICwgdXJsICwgNTMgLCBPMG8gLCBvb28wb29Pb08wT28gLCAnJyAsICcnICwgJycgLCAnJyAsIGFsbGluZm8gPSBvME8wb29vICkKICAgeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICkKICBlbHNlIDoKICAgcmV0dXJuCiAgIGlmIDk1IC0gOTU6IE8wMDAwMDBPIC0gb09PICsgSTEgKiBJaSAtIGlJSUkxIC4gSTFJSQpkZWYgaWkgKCB1cmwgLCBuYW1lICwgaWNvbmltYWdlICwgZmFuYXJ0ICwgZGVzY3JpcHRpb24gLCBnZW5yZSAsIGRhdGUgLCBzaG93Y29udGV4dCAsIHBsYXlsaXN0ICwgcmVnZXhzICwgdG90YWwgLCBzZXRDb29raWUgPSAiIiAsIGFsbGluZm8gPSB7IH0gKSA6CiBpZiA0IC0gNDogT09PICogSUkgKiBPMDBPIC8gTzAwTyAuIElpaUlJaUlJCiBvME9PbzBPTzAgPSBbIF0KIG9vb28wME9PbzBPMCA9IE9vbyAuIGdldFNldHRpbmcgKCAncGFyZW50YWxibG9ja2VkJyApCiBvb29vMDBPT28wTzAgPSBvb29vMDBPT28wTzAgPT0gInRydWUiCiBvMDAwb29vTzBvMCA9IE9vbyAuIGdldFNldHRpbmcgKCAncGFyZW50YWxibG9ja2VkcGluJyApCiBpZiA1OSAtIDU5OiBPMDAwMDAwTyAvIGlJSUkxICogT09PICogaUlJSTEgLSBJMUlJSTFpSTFpaWlJaUkxICUgb08wMG9vbzBvME9PCiBpZiBsZW4gKCBvMDAwb29vTzBvMCApID4gMCA6CiAgaWYgb29vbzAwT09vME8wIDoKICAgbzBPT28wT08wIC4gYXBwZW5kICggKCAnRGlzYWJsZSBQYXJlbnRhbCBCbG9jaycgLCAnWEJNQy5SdW5QbHVnaW4oJXM/bW9kZT01NSZuYW1lPSVzKScgJSAoIHN5cyAuIGFyZ3YgWyAwIF0gLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggbmFtZSApICkgKSApCiAgZWxzZSA6CiAgIG8wT09vME9PMCAuIGFwcGVuZCAoICggJ0VuYWJsZSBQYXJlbnRhbCBCbG9jaycgLCAnWEJNQy5SdW5QbHVnaW4oJXM/bW9kZT01NiZuYW1lPSVzKScgJSAoIHN5cyAuIGFyZ3YgWyAwIF0gLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggbmFtZSApICkgKSApCiAgIGlmIDg3IC0gODc6IElJb29vTzBvb08wb28gKyBpSUlJMSAuIE8wMDAwMDBPICsgSTEKIHRyeSA6CiAgbmFtZSA9IG5hbWUgLiBlbmNvZGUgKCAndXRmLTgnICkKIGV4Y2VwdCA6IHBhc3MKIE9PMG8wT09vb09PMCA9IFRydWUKIElpaWlpID0gRmFsc2UKIGlmIHJlZ2V4cyA6CiAgTzBPb09vbzAgPSAnMTcnCiAgaWYgJ2xpc3RyZXBlYXQnIGluIHJlZ2V4cyA6CiAgIElpaWlpID0gVHJ1ZQogICBpZiA2NSAtIDY1OiBJMUlJSTFpSTFpaWlJaUkxICogSUkgLiBPMDBPCiAgbzBPT28wT08wIC4gYXBwZW5kICggKCAnW0NPTE9SIHdoaXRlXSEhRG93bmxvYWQgQ3VycmVudGx5IFBsYXlpbmchIVsvQ09MT1JdJyAsICdYQk1DLlJ1blBsdWdpbiglcz91cmw9JXMmbW9kZT0yMSZuYW1lPSVzKScKICUgKCBzeXMgLiBhcmd2IFsgMCBdICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIHVybCApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSApICkgKQogZWxpZiAoIGFueSAoIHggaW4gdXJsIGZvciB4IGluIE9PMDBvbzBvME8wb28gKSBhbmQgdXJsIC4gc3RhcnRzd2l0aCAoICdodHRwJyApICkgb3IgdXJsIC4gZW5kc3dpdGggKCAnJm1vZGU9MTknICkgOgogIHVybCA9IHVybCAuIHJlcGxhY2UgKCAnJm1vZGU9MTknICwgJycgKQogIE8wT29Pb28wID0gJzE5JwogIG8wT09vME9PMCAuIGFwcGVuZCAoICggJ1tDT0xPUiB3aGl0ZV0hIURvd25sb2FkIEN1cnJlbnRseSBQbGF5aW5nISFbL0NPTE9SXScgLCAnWEJNQy5SdW5QbHVnaW4oJXM/dXJsPSVzJm1vZGU9MjEmbmFtZT0lcyknCiAlICggc3lzIC4gYXJndiBbIDAgXSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCB1cmwgKSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBuYW1lICkgKSApICkKIGVsaWYgdXJsIC4gZW5kc3dpdGggKCAnJm1vZGU9MTgnICkgOgogIHVybCA9IHVybCAuIHJlcGxhY2UgKCAnJm1vZGU9MTgnICwgJycgKQogIE8wT29Pb28wID0gJzE4JwogIG8wT09vME9PMCAuIGFwcGVuZCAoICggJ1tDT0xPUiB3aGl0ZV0hIURvd25sb2FkISFbL0NPTE9SXScgLCAnWEJNQy5SdW5QbHVnaW4oJXM/dXJsPSVzJm1vZGU9MjMmbmFtZT0lcyknCiAlICggc3lzIC4gYXJndiBbIDAgXSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCB1cmwgKSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBuYW1lICkgKSApICkKICBpZiBPb28gLiBnZXRTZXR0aW5nICggJ2RsYXVkaW9vbmx5JyApID09ICd0cnVlJyA6CiAgIG8wT09vME9PMCAuIGFwcGVuZCAoICggJyEhRG93bmxvYWQgW0NPTE9SIHNlYWJsdWVdQXVkaW8hIVsvQ09MT1JdJyAsICdYQk1DLlJ1blBsdWdpbiglcz91cmw9JXMmbW9kZT0yNCZuYW1lPSVzKScKICUgKCBzeXMgLiBhcmd2IFsgMCBdICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIHVybCApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSApICkgKQogZWxpZiB1cmwgLiBzdGFydHN3aXRoICggJ21hZ25ldDo/eHQ9JyApIDoKICBpZiAnJicgaW4gdXJsIGFuZCBub3QgJyZhbXA7JyBpbiB1cmwgOgogICB1cmwgPSB1cmwgLiByZXBsYWNlICggJyYnICwgJyZhbXA7JyApCiAgdXJsID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby5wdWxzYXIvcGxheT91cmk9JyArIHVybAogIE8wT29Pb28wID0gJzEyJwogZWxzZSA6CiAgTzBPb09vbzAgPSAnMTInCiAgbzBPT28wT08wIC4gYXBwZW5kICggKCAnW0NPTE9SIHdoaXRlXSEhRG93bmxvYWQgQ3VycmVudGx5IFBsYXlpbmchIVsvQ09MT1JdJyAsICdYQk1DLlJ1blBsdWdpbiglcz91cmw9JXMmbW9kZT0yMSZuYW1lPSVzKScKICUgKCBzeXMgLiBhcmd2IFsgMCBdICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIHVybCApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSApICkgKQogaWYgJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL3BsYXkvP3ZpZGVvX2lkPScgaW4gdXJsIDoKICBJMUlpaUkxSTExID0gdXJsIC4gcmVwbGFjZSAoICdwbHVnaW46Ly9wbHVnaW4udmlkZW8ueW91dHViZS9wbGF5Lz92aWRlb19pZD0nICwgJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9JyApCiAgbzBPT28wT08wIC4gYXBwZW5kICggKCAnISFEb3dubG9hZCBbQ09MT1IgYmx1ZV1BdWRpbyEhWy9DT0xPUl0nICwgJ1hCTUMuUnVuUGx1Z2luKCVzP3VybD0lcyZtb2RlPTI0Jm5hbWU9JXMpJwogJSAoIHN5cyAuIGFyZ3YgWyAwIF0gLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggSTFJaWlJMUkxMSApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSApICkgKQogb09vTyA9IHN5cyAuIGFyZ3YgWyAwIF0gKyAiPyIKIEkxMTFpMSA9IEZhbHNlCiBpZiBwbGF5bGlzdCA6CiAgaWYgT29vIC4gZ2V0U2V0dGluZyAoICdhZGRfcGxheWxpc3QnICkgPT0gImZhbHNlIiBhbmQgJyQkTFNQbGF5T25seU9uZSQkJyBub3QgaW4gcGxheWxpc3QgWyAwIF0gOgogICBvT29PICs9ICJ1cmw9IiArIHVybGxpYiAuIHF1b3RlX3BsdXMgKCB1cmwgKSArICImbW9kZT0iICsgTzBPb09vbzAKICBlbHNlIDoKICAgb09vTyArPSAibW9kZT0xMyZuYW1lPSVzJnBsYXlsaXN0PSVzIiAlICggdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBzdHIgKCBwbGF5bGlzdCApIC4gcmVwbGFjZSAoICcsJyAsICd8fCcgKSApICkKICAgbmFtZSA9IG5hbWUgKyAnW0NPTE9SIG1hZ2VudGFdICgnICsgc3RyICggbGVuICggcGxheWxpc3QgKSApICsgJyBpdGVtcyApWy9DT0xPUl0nCiAgIEkxMTFpMSA9IFRydWUKIGVsc2UgOgogIG9Pb08gKz0gInVybD0iICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIHVybCApICsgIiZtb2RlPSIgKyBPME9vT29vMAogaWYgcmVnZXhzIDoKICBvT29PICs9ICImcmVnZXhzPSIgKyByZWdleHMKIGlmIG5vdCBzZXRDb29raWUgPT0gJycgOgogIG9Pb08gKz0gIiZzZXRDb29raWU9IiArIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBzZXRDb29raWUgKQogaWYgaWNvbmltYWdlIGFuZCBub3QgaWNvbmltYWdlID09ICcnIDoKICBvT29PICs9ICImaWNvbmltYWdlPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggaWNvbmltYWdlICkKICBpZiAzNyAtIDM3OiBPMDAwMDAwTyArIGlJSUkxIC8gb08wbzAgKyBpSUlJMSAtIGlJSUkxCiBpZiBkYXRlID09ICcnIDoKICBkYXRlID0gTm9uZQogZWxzZSA6CiAgZGVzY3JpcHRpb24gKz0gJ1xuXG5EYXRlOiAlcycgJSBkYXRlCiBvbzAwID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9ICJEZWZhdWx0VmlkZW8ucG5nIiAsIHRodW1ibmFpbEltYWdlID0gaWNvbmltYWdlICkKIGlmIDU4IC0gNTg6IGkxMUlpSTFJSQogaWYgYWxsaW5mbyA9PSBOb25lIG9yIGxlbiAoIGFsbGluZm8gKSA8IDEgOgogIG9vMDAgLiBzZXRJbmZvICggdHlwZSA9ICJWaWRlbyIgLCBpbmZvTGFiZWxzID0geyAiVGl0bGUiIDogbmFtZSAsICJQbG90IiA6IGRlc2NyaXB0aW9uICwgIkdlbnJlIiA6IGdlbnJlICwgImRhdGVhZGRlZCIgOiBkYXRlIH0gKQogZWxzZSA6CiAgb28wMCAuIHNldEluZm8gKCB0eXBlID0gIlZpZGVvIiAsIGluZm9MYWJlbHMgPSBhbGxpbmZvICkKIG9vMDAgLiBzZXRQcm9wZXJ0eSAoICJGYW5hcnRfSW1hZ2UiICwgZmFuYXJ0ICkKIGlmIDg0IC0gODQ6IGlpSWkxSWlJICsgaTExSWlJMUlJICsgb08wbzAgJSBpaUlJaTFpMUlpaQogaWYgKCBub3QgSTExMWkxICkgYW5kIG5vdCBhbnkgKCB4IGluIHVybCBmb3IgeCBpbiBPT28wTyApIGFuZCBub3QgJyRQTEFZRVJQUk9YWSQ9JyBpbiB1cmwgOgogIGlmIHJlZ2V4cyA6CiAgIGlmIDg1IC0gODU6IG9PMDBvb28wbzBPTyAtIGlpSWkxSWlJCiAgIGlmICckcHlGdW5jdGlvbjpwbGF5bWVkaWEoJyBub3QgaW4gdXJsbGliIC4gdW5xdW90ZV9wbHVzICggcmVnZXhzICkgYW5kICdub3RwbGF5YWJsZScgbm90IGluIHVybGxpYiAuIHVucXVvdGVfcGx1cyAoIHJlZ2V4cyApIGFuZCAnbGlzdHJlcGVhdCcgbm90IGluIHVybGxpYiAuIHVucXVvdGVfcGx1cyAoIHJlZ2V4cyApIDoKICAgIGlmIDkzIC0gOTM6IElJSUkgKiBvTzAwb29vMG8wT08gLSBPMDAwMDAwTwogICAgb28wMCAuIHNldFByb3BlcnR5ICggJ0lzUGxheWFibGUnICwgJ3RydWUnICkKICBlbHNlIDoKICAgb28wMCAuIHNldFByb3BlcnR5ICggJ0lzUGxheWFibGUnICwgJ3RydWUnICkKIGVsc2UgOgogIGkxSWlpSUkgKCAnTk9UIHNldHRpbmcgaXNwbGF5YWJsZScgKyB1cmwgKQogaWYgc2hvd2NvbnRleHQgOgogIGlmIDMzIC0gMzM6IElJSUkgKyBPMDBPIC8gaWlJaTFJaUkgJSBpaUlpMUlpSSAlIElJICUgTzAwMDAwME8KICBpZiBzaG93Y29udGV4dCA9PSAnZmF2JyA6CiAgIG8wT09vME9PMCAuIGFwcGVuZCAoCiAoICdSZW1vdmUgZnJvbSBDYXRvYWwgRmF2b3JpdGVzJyAsICdYQk1DLlJ1blBsdWdpbiglcz9tb2RlPTYmbmFtZT0lcyknCiAlICggc3lzIC4gYXJndiBbIDAgXSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBuYW1lICkgKSApCiApCiAgZWxpZiBub3QgbmFtZSBpbiBpSTFJaTEgOgogICB0cnkgOgogICAgTzBvb29PbzAgPSAoCiAnJXM/bW9kZT01Jm5hbWU9JXMmdXJsPSVzJmljb25pbWFnZT0lcyZmYW5hcnQ9JXMmZmF2X21vZGU9MCcKICUgKCBzeXMgLiBhcmd2IFsgMCBdICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCB1cmwgKSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBpY29uaW1hZ2UgKSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBmYW5hcnQgKSApCiApCiAgIGV4Y2VwdCA6CiAgICBPMG9vb09vMCA9ICgKICclcz9tb2RlPTUmbmFtZT0lcyZ1cmw9JXMmaWNvbmltYWdlPSVzJmZhbmFydD0lcyZmYXZfbW9kZT0wJwogJSAoIHN5cyAuIGFyZ3YgWyAwIF0gLCB1cmxsaWIgLiBxdW90ZV9wbHVzICggbmFtZSApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIHVybCApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIGljb25pbWFnZSAuIGVuY29kZSAoICJ1dGYtOCIgKSApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIGZhbmFydCAuIGVuY29kZSAoICJ1dGYtOCIgKSApICkKICkKICAgaWYgcGxheWxpc3QgOgogICAgTzBvb29PbzAgKz0gJ3BsYXlsaXN0PScgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggc3RyICggcGxheWxpc3QgKSAuIHJlcGxhY2UgKCAnLCcgLCAnfHwnICkgKQogICBpZiByZWdleHMgOgogICAgTzBvb29PbzAgKz0gIiZyZWdleHM9IiArIHJlZ2V4cwogICBvME9PbzBPTzAgLiBhcHBlbmQgKCAoICdBZGQgdG8gQ2F0b2FsIEZhdm9yaXRlcycgLCAnWEJNQy5SdW5QbHVnaW4oJXMpJyAlIE8wb29vT28wICkgKQogIG9vMDAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggbzBPT28wT08wICkKIHRyeSA6CiAgaWYgbm90IHBsYXlsaXN0IGlzIE5vbmUgOgogICBpZiBPb28gLiBnZXRTZXR0aW5nICggJ2FkZF9wbGF5bGlzdCcgKSA9PSAiZmFsc2UiIDoKICAgIGkxMU8wT08wID0gbmFtZSAuIHNwbGl0ICggJykgJyApIFsgMSBdCiAgICBPb09vMDBvMG9Pb08gPSBbCiAoICdQbGF5ICcgKyBpMTFPME9PMCArICcgUGxheUxpc3QnICwgJ1hCTUMuUnVuUGx1Z2luKCVzP21vZGU9MTMmbmFtZT0lcyZwbGF5bGlzdD0lcyknCiAlICggc3lzIC4gYXJndiBbIDAgXSAsIHVybGxpYiAuIHF1b3RlX3BsdXMgKCBpMTFPME9PMCApICwgdXJsbGliIC4gcXVvdGVfcGx1cyAoIHN0ciAoIHBsYXlsaXN0ICkgLiByZXBsYWNlICggJywnICwgJ3x8JyApICkgKSApCiBdCiAgICBvbzAwIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIE9vT28wMG8wb09vTyApCiBleGNlcHQgOiBwYXNzCiBpZiA0NCAtIDQ0OiBpMTFJaUkxSUkgLiBJSW9vb08wb29PMG9vICsgTzAwTyArIEkxSUkKIE9PMG8wT09vb09PMCA9IHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtICggaGFuZGxlID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgdXJsID0gb09vTyAsIGxpc3RpdGVtID0gb28wMCAsIHRvdGFsSXRlbXMgPSB0b3RhbCAsIGlzRm9sZGVyID0gSWlpaWkgKQogaWYgMTAwIC0gMTAwOiBJaWlJSWlJSSAqIElpaUlJaUlJICUgb09PCiBpZiA0OSAtIDQ5OiBJSUlJICsgTzAwTyAqIEkxSUkKIHJldHVybiBPTzBvME9Pb29PTzAKIGlmIDQgLSA0OiBJaSAqIGlpSUlpMWkxSWlpIC4gb08wbzAgLiBJMUlJICUgTzAwTyAvIGlJSUkxCiBpZiA2IC0gNjogSWlpSUlpSUkKZGVmIEkxMUkxaUkgKCB1cmwgLCBuYW1lICwgaWNvbmltYWdlICwgc2V0cmVzb2x2ZWQgPSBUcnVlICwgcmVnID0gTm9uZSApIDoKIHByaW50ICdwbGF5c2V0cmVzb2x2ZWQnICwgdXJsICwgc2V0cmVzb2x2ZWQKIGlmIHVybCA9PSBOb25lIDoKICB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgKQogIHJldHVybgogaWYgc2V0cmVzb2x2ZWQgOgogIGkxMWlpMSA9IFRydWUKICBpZiAnJCRMU0RpcmVjdCQkJyBpbiB1cmwgOgogICB1cmwgPSB1cmwgLiByZXBsYWNlICggJyQkTFNEaXJlY3QkJCcgLCAnJyApCiAgIGkxMWlpMSA9IEZhbHNlCiAgaWYgcmVnIGFuZCAnbm90cGxheWFibGUnIGluIHJlZyA6CiAgIGkxMWlpMSA9IEZhbHNlCiAgIGlmIDg5IC0gODk6IGlpSUlpMWkxSWlpCiAgb28wMCA9IHhibWNndWkgLiBMaXN0SXRlbSAoIG5hbWUgLCBpY29uSW1hZ2UgPSBpY29uaW1hZ2UgLCB0aHVtYm5haWxJbWFnZSA9IGljb25pbWFnZSApCiAgb28wMCAuIHNldEluZm8gKCB0eXBlID0gJ1ZpZGVvJyAsIGluZm9MYWJlbHMgPSB7ICdUaXRsZScgOiBuYW1lIH0gKQogIG9vMDAgLiBzZXRQcm9wZXJ0eSAoICJJc1BsYXlhYmxlIiAsICJ0cnVlIiApCiAgb28wMCAuIHNldFBhdGggKCB1cmwgKQogIGlmIG5vdCBpMTFpaTEgOgogICB4Ym1jIC4gUGxheWVyICggKSAuIHBsYXkgKCB1cmwgKQogIGVsc2UgOgogICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCBUcnVlICwgb28wMCApCiAgIGlmIDM1IC0gMzU6IElJb29vTzBvb08wb28gKyBJSW9vb08wb29PMG9vIC4gSWlpSUlpSUkgKiBvTzAwb29vMG8wT08gLyBJMUlJICsgaWlJaTFJaUkKIGVsc2UgOgogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICdYQk1DLlJ1blBsdWdpbignICsgdXJsICsgJyknICkKICBpZiA3NiAtIDc2OiBpMTFJaSAlIGkxMUlpIC4gSWkKICBpZiA1OCAtIDU4OiBJMSAvIG9PMDBvb28wbzBPTwogIGlmIDM1IC0gMzU6IGlpSUlpMWkxSWlpICogaTExSWlJMUlJICsgaUlJSTEgJSBJMUlJSTFpSTFpaWlJaUkxCiAgaWYgMjUgLSAyNTogSTFJSUkxaUkxaWlpSWlJMSArIEkxICUgb08wMG9vbzBvME9PCmRlZiBPT28gKCBsaW5rICkgOgogb29Pb09PMDBPT29vMCA9IHVybGxpYiAuIHVybG9wZW4gKCBsaW5rICkKIE9PMG8wT29PMDAgPSBvb09vT08wME9Pb28wIC4gcmVhZCAoICkKIG9vT29PTzAwT09vbzAgLiBjbG9zZSAoICkKIG9Pb2kxSUkxMWlpID0gT08wbzBPb08wMCAuIHNwbGl0ICggIkpldHp0IiApCiBPb2kxMUkxMWkxSUkgPSBvT29pMUlJMTFpaSBbIDEgXSAuIHNwbGl0ICggJ3Byb2dyYW1tL2RldGFpbC5waHA/Y29uc3RfaWQ9JyApCiBpaUlpaTFJaUkgPSBPb2kxMUkxMWkxSUkgWyAxIF0gLiBzcGxpdCAoICc8YnIgLz48YSBocmVmPSIvJyApCiBvT28wTzBvb28wb08gPSBpaUlpaTFJaUkgWyAwIF0gWyA0MCA6IGxlbiAoIGlpSWlpMUlpSSBbIDAgXSApIF0KIG8wMG9PMDAwT28wbzAgPSBPb2kxMUkxMWkxSUkgWyAyIF0gLiBzcGxpdCAoICI8L2E+PC9wPjwvZGl2PiIgKQogb28wb09vT28wID0gbzAwb08wMDBPbzBvMCBbIDAgXSBbIDE3IDogbGVuICggbzAwb08wMDBPbzBvMCBbIDAgXSApIF0KIG9vMG9Pb09vMCA9IG9vMG9Pb09vMCAuIGVuY29kZSAoICd1dGYtOCcgKQogcmV0dXJuICIgIC0gIiArIG9vMG9Pb09vMCArICIgLSAiICsgb09vME8wb29vMG9PCiBpZiA4NCAtIDg0OiBPMDBPIC8gSWkgKiBvTzBvMCAlIGlpSSAtIE9PTwogaWYgNTQgLSA1NDogSUlvb29PMG9vTzBvbwpkZWYgb29vbzBvICggdXJsICwgcmVnZXggKSA6CiBvME9vTzBvID0gSWkxSWlpMUkxaTFpICggdXJsICkKIHRyeSA6CiAgT08gPSByZSAuIGZpbmRhbGwgKCByZWdleCAsIG8wT29PMG8gKSBbIDAgXQogIHJldHVybiBPTwogZXhjZXB0IDoKICBpMUlpaUlJICggJ3JlZ2V4IGZhaWxlZCcgKQogIGkxSWlpSUkgKCByZWdleCApCiAgcmV0dXJuCiAgaWYgNDYgLSA0NjogSUkKICBpZiAxMDAgLSAxMDA6IE8wME8gLyBpMTFJaQogIGlmIDc0IC0gNzQ6IGkxMUlpSTFJSSAuIE8wME8gLSBpSUlJMSAtIElJIC4gTzAwMDAwME8KZGVmIGlJSTFJMUlJaTExaSAoIGQgLCByb290ID0gInJvb3QiICwgbmVzdGVkID0gMCApIDoKIGlmIDI3IC0gMjc6IElJSUkKIG9PTzBvID0gbGFtYmRhIG8wT08wMG9vMDBvIDogJzwnICsgbzBPTzAwb28wMG8gKyAnPicKIElpb28wMCA9IGxhbWJkYSBvME9PMDBvbzAwbyA6ICc8LycgKyBvME9PMDBvbzAwbyArICc+XG4nCiBpZiAyMyAtIDIzOiBpaUkKIG9vMDAwMDBPMDAwMCA9IGxhbWJkYSBpaTFpSTExMWlJaTEgLCBvb0lJaUlJSTFpIDogb29JSWlJSUkxaSArIG9PTzBvICggSUkxICkgKyBzdHIgKCBpaTFpSTExMWlJaTEgKSArIElpb28wMCAoIElJMSApCiBvb0lJaUlJSTFpID0gb09PMG8gKCByb290ICkgKyAnXG4nIGlmIHJvb3QgZWxzZSAiIgogaWYgNjcgLSA2NzogSUkgJSBvTzBvMCArIG9PTyArIG9PMDBvb28wbzBPTyAvIGkxMUlpSTFJSQogZm9yIElJMSAsIG9PMDAwTzBvbzBPMCBpbiBkIC4gaXRlcml0ZW1zICggKSA6CiAgbzBvID0gdHlwZSAoIG9PMDAwTzBvbzBPMCApCiAgaWYgbmVzdGVkID09IDAgOiBJSTEgPSAncmVnZXgnCiAgaWYgbzBvIGlzIGxpc3QgOgogICBmb3IgaWkxaUkxMTFpSWkxIGluIG9PMDAwTzBvbzBPMCA6CiAgICBpaTFpSTExMWlJaTEgPSBlc2NhcGUgKCBpaTFpSTExMWlJaTEgKQogICAgb29JSWlJSUkxaSA9IG9vMDAwMDBPMDAwMCAoIGlpMWlJMTExaUlpMSAsIG9vSUlpSUlJMWkgKQogICAgaWYgNTUgLSA1NTogSUlvb29PMG9vTzBvbyArIGkxMUlpSTFJSSArIGlpSSAtIElpaUlJaUlJCiAgaWYgbzBvIGlzIGRpY3QgOgogICBvb0lJaUlJSTFpID0gb28wMDAwME8wMDAwICggJ1xuJyArIGlJSTFJMUlJaTExaSAoIG9PMDAwTzBvbzBPMCAsIE5vbmUgLCBuZXN0ZWQgKyAxICkgLCBvb0lJaUlJSTFpICkKICBpZiBvMG8gaXMgbm90IGxpc3QgYW5kIG8wbyBpcyBub3QgZGljdCA6CiAgIGlmIG5vdCBvTzAwME8wb28wTzAgaXMgTm9uZSA6IG9PMDAwTzBvbzBPMCA9IGVzY2FwZSAoIG9PMDAwTzBvbzBPMCApCiAgIGlmIDM1IC0gMzU6IElpCiAgIGlmIG9PMDAwTzBvbzBPMCBpcyBOb25lIDoKICAgIG9vSUlpSUlJMWkgPSBvbzAwMDAwTzAwMDAgKCBvTzAwME8wb28wTzAgLCBvb0lJaUlJSTFpICkKICAgZWxzZSA6CiAgICBpZiAzOCAtIDM4OiBpSUlJMSAlIE8wMDAwMDBPCiAgICBvb0lJaUlJSTFpID0gb28wMDAwME8wMDAwICggb08wMDBPMG9vME8wIC4gZW5jb2RlICggInV0Zi04IiApICwgb29JSWlJSUkxaSApCiAgICBpZiAxIC0gMTogSTFJSUkxaUkxaWlpSWlJMSAuIElJSUkKIG9vSUlpSUlJMWkgKz0gSWlvbzAwICggcm9vdCApIGlmIHJvb3QgZWxzZSAiIgogaWYgNTEgLSA1MTogSWkgLyBJMSAvIElpaUlJaUlJIC8gSTFJSUkxaUkxaWlpSWlJMSAlIEkxSUlJMWlJMWlpaUlpSTEgLyBJSW9vb08wb29PMG9vCiByZXR1cm4gb29JSWlJSUkxaQp4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSAsICdtb3ZpZXMnICkKaWYgODEgLSA4MTogSUkgLiBvT08gJSBvT08KdHJ5IDoKIHhibWNwbHVnaW4gLiBhZGRTb3J0TWV0aG9kICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgeGJtY3BsdWdpbiAuIFNPUlRfTUVUSE9EX1VOU09SVEVEICkKZXhjZXB0IDoKIHBhc3MKdHJ5IDoKIHhibWNwbHVnaW4gLiBhZGRTb3J0TWV0aG9kICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgeGJtY3BsdWdpbiAuIFNPUlRfTUVUSE9EX0xBQkVMICkKZXhjZXB0IDoKIHBhc3MKdHJ5IDoKIHhibWNwbHVnaW4gLiBhZGRTb3J0TWV0aG9kICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgeGJtY3BsdWdpbiAuIFNPUlRfTUVUSE9EX0RBVEUgKQpleGNlcHQgOgogcGFzcwp0cnkgOgogeGJtY3BsdWdpbiAuIGFkZFNvcnRNZXRob2QgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCB4Ym1jcGx1Z2luIC4gU09SVF9NRVRIT0RfR0VOUkUgKQpleGNlcHQgOgogcGFzcwogaWYgNTMgLSA1MzogaWlJSWkxaTFJaWkgLSBPMDBPICogaTExSWkgLyBvTzAwb29vMG8wT08gLiBvT08gKiBpMTFJaQpPbyA9IG8wb08wME9PME8wICggKQppZiA2MiAtIDYyOiBvTzBvMCAtIE8wMDAwMDBPIC4gb08wbzAgLyBJaWlJSWlJSSAvIElJSUkKb29Pb09PMDBPT29vMCA9IE5vbmUKSUlpaUlJMTExaSA9IE5vbmUKTzBPb09vbzAgPSBOb25lCk9vTzAwMCA9IE5vbmUKSUkxaUkgPSBOb25lCm9vbzBvb09vTzBPbyA9IE8wT09PCk9vTzAwMCA9IE5vbmUKSTFJSUlJaTExMWlpMSA9IE5vbmUKTzBPb08wb28wID0gTm9uZQppZiAzNCAtIDM0OiBJaWlJSWlJSSAlIElJSUkgLSBpaUlJaTFpMUlpaQp0cnkgOgogb29Pb09PMDBPT29vMCA9IHVybGxpYiAuIHVucXVvdGVfcGx1cyAoIE9vIFsgInVybCIgXSApIC4gZGVjb2RlICggJ3V0Zi04JyApCmV4Y2VwdCA6CiBwYXNzCnRyeSA6CiBJSWlpSUkxMTFpID0gdXJsbGliIC4gdW5xdW90ZV9wbHVzICggT28gWyAibmFtZSIgXSApCmV4Y2VwdCA6CiBwYXNzCnRyeSA6CiBJSTFpSSA9IHVybGxpYiAuIHVucXVvdGVfcGx1cyAoIE9vIFsgImljb25pbWFnZSIgXSApCmV4Y2VwdCA6CiBwYXNzCnRyeSA6CiBvb28wb29Pb08wT28gPSB1cmxsaWIgLiB1bnF1b3RlX3BsdXMgKCBPbyBbICJmYW5hcnQiIF0gKQpleGNlcHQgOgogcGFzcwp0cnkgOgogTzBPb09vbzAgPSBpbnQgKCBPbyBbICJtb2RlIiBdICkKZXhjZXB0IDoKIHBhc3MKdHJ5IDoKIE9vTzAwMCA9IGV2YWwgKCB1cmxsaWIgLiB1bnF1b3RlX3BsdXMgKCBPbyBbICJwbGF5bGlzdCIgXSApIC4gcmVwbGFjZSAoICd8fCcgLCAnLCcgKSApCmV4Y2VwdCA6CiBwYXNzCnRyeSA6CiBJMUlJSUlpMTExaWkxID0gaW50ICggT28gWyAiZmF2X21vZGUiIF0gKQpleGNlcHQgOgogcGFzcwp0cnkgOgogTzBPb08wb28wID0gT28gWyAicmVnZXhzIiBdCmV4Y2VwdCA6CiBwYXNzCk9vb29vT28wID0gJycKdHJ5IDoKIE9vb29vT28wID0gdXJsbGliIC4gdW5xdW90ZV9wbHVzICggT28gWyAicGxheWl0ZW0iIF0gKQpleGNlcHQgOgogcGFzcwogaWYgODcgLSA4NzogaWlJaTFJaUkgLyBJSUlJICsgSWkgKyBJMUlJCmkxSWlpSUkgKCAiTW9kZTogIiArIHN0ciAoIE8wT29Pb28wICkgKQppZiA3NCAtIDc0OiBPMDBPIC8gSTFJSSAqIElJb29vTzBvb08wb28gJSBpaUlpMUlpSSAtIGlpSQppZiA3MiAtIDcyOiBvT08gJSBpMTFJaUkxSUkgKiBPMDBPCmlmIG5vdCBvb09vT08wME9Pb28wIGlzIE5vbmUgOgogaTFJaWlJSSAoICJVUkw6ICIgKyBzdHIgKCBvb09vT08wME9Pb28wIC4gZW5jb2RlICggJ3V0Zi04JyApICkgKQppMUlpaUlJICggIk5hbWU6ICIgKyBzdHIgKCBJSWlpSUkxMTFpICkgKQppZiAzMCAtIDMwOiBPMDAwMDAwTyAqIGlJSUkxCmlmIG5vdCBPb29vb09vMCA9PSAnJyA6CiBJaTFJSTFJaUkgPSBJSWlJMTEgKCAnJyAsIGRhdGEgPSBPb29vb09vMCApCiBJSWlpSUkxMTFpICwgb29Pb09PMDBPT29vMCAsIE8wT29PMG9vMCA9IGkxaUlpSWlJaSAoIElpMUlJMUlpSSAsIE5vbmUgLCBkb250TGluayA9IFRydWUgKQogTzBPb09vbzAgPSAxMTcKaWYgTzBPb09vbzAgPT0gTm9uZSA6CiBpMUlpaUlJICggImdldFNvdXJjZXMiICkKIGkxaUlpaSAoICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSApCiBpZiA3MCAtIDcwOiBJMUlJSTFpSTFpaWlJaUkxIC4gaTExSWkgKyBpaUkgLyBPMDBPICUgaUlJSTEgKyBPMDAwMDAwTwplbGlmIE8wT29Pb28wID09IDEgOgogaTFJaWlJSSAoICJnZXREYXRhIiApCiBvME9vTzBvID0gTm9uZQogaWYgMzggLSAzODogTzAwTwogaWYgTzBPb08wb28wIGFuZCBsZW4gKCBPME9vTzBvbzAgKSA+IDAgOgogIG8wT29PMG8gLCBpMTExSWkxaWkxMSA9IG9vb29vMCAoIE8wT29PMG9vMCAsIG9vT29PTzAwT09vbzAgKQogIGlmIDg0IC0gODQ6IG9PTyAtIE9PTyArIGkxMUlpSTFJSSAuIGlJSUkxCiAgaWYgMzMgLSAzMzogSWkgLiBJaWlJSWlJSSAlIGlpSWkxSWlJICogaWlJaTFJaUkgJSBpSUlJMSAqIElJSUkKICBpZiBvME9vTzBvIC4gc3RhcnRzd2l0aCAoICdodHRwJyApIG9yIG8wT29PMG8gLiBzdGFydHN3aXRoICggJ3NtYicgKSBvciBvME9vTzBvIC4gc3RhcnRzd2l0aCAoICduZnMnICkgb3IgbzBPb08wbyAuIHN0YXJ0c3dpdGggKCAnLycgKSA6CiAgIG9vT29PTzAwT09vbzAgPSBvME9vTzBvCiAgIG8wT29PMG8gPSBOb25lCiAgIGlmIDI3IC0gMjc6IElJb29vTzBvb08wb28gJSBvT08gJSBJMUlJSTFpSTFpaWlJaUkxICsgaWlJaTFJaUkgLSBJMUlJSTFpSTFpaWlJaUkxIC8gb08wbzAKICAgaWYgOTYgLSA5NjogaTExSWkgKyBpaUlpMUlpSQogTzAgKCBvb09vT08wME9Pb28wICwgb29vMG9vT29PME9vICwgbzBPb08wbyApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgKQogaWYgMzYgLSAzNjogTzAwTyAtIG9PTyArIE8wME8gLyBpaUlJaTFpMUlpaSAvIGlpSSAvIElJCiBpZiA3NyAtIDc3OiBpMTFJaUkxSUkgLiBPMDBPICUgSTEgKyBPMDAwMDAwTyAtIElpICsgaWlJCmVsaWYgTzBPb09vbzAgPT0gMiA6CiBpMUlpaUlJICggImdldENoYW5uZWxJdGVtcyIgKQogTzBPMDBvb28wME9vbyAoIElJaWlJSTExMWkgLCBvb09vT08wME9Pb28wICwgb29vMG9vT29PME9vICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSApCiBpZiA4MSAtIDgxOiBpMTFJaSArIG9PMG8wICogb09PICogSWkKZWxpZiBPME9vT29vMCA9PSAzIDoKIGkxSWlpSUkgKCAiZ2V0U3ViQ2hhbm5lbEl0ZW1zIiApCiBvbyAoIElJaWlJSTExMWkgLCBvb09vT08wME9Pb28wICwgb29vMG9vT29PME9vICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSApCiBpZiAxIC0gMTogTzAwMDAwME8gKiBpaUkgKiBpSUlJMQplbGlmIE8wT29Pb28wID09IDQgOgogaTFJaWlJSSAoICJnZXRGYXZvcml0ZXMiICkKIElpaUlJMWkxaUkgKCApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgKQogaWYgMTEgLSAxMTogTzAwTyAvIEkxSUkgLyBJMQplbGlmIE8wT29Pb28wID09IDUgOgogaTFJaWlJSSAoICJhZGRGYXZvcml0ZSIgKQogdHJ5IDoKICBJSWlpSUkxMTFpID0gSUlpaUlJMTExaSAuIHNwbGl0ICggJ1xcICcgKSBbIDEgXQogZXhjZXB0IDoKICBwYXNzCiB0cnkgOgogIElJaWlJSTExMWkgPSBJSWlpSUkxMTFpIC4gc3BsaXQgKCAnICAtICcgKSBbIDAgXQogZXhjZXB0IDoKICBwYXNzCiBpMWkxSTExMUlpSSAoIElJaWlJSTExMWkgLCBvb09vT08wME9Pb28wICwgSUkxaUkgLCBvb28wb29Pb08wT28gLCBJMUlJSUlpMTExaWkxICkKIGlmIDc1IC0gNzU6IElJSUkgKyBvTzAwb29vMG8wT08gKyBpSUlJMSAqIGkxMUlpSTFJSSAtIElpCmVsaWYgTzBPb09vbzAgPT0gNiA6CiBpMUlpaUlJICggInJtRmF2b3JpdGUiICkKIHRyeSA6CiAgSUlpaUlJMTExaSA9IElJaWlJSTExMWkgLiBzcGxpdCAoICdcXCAnICkgWyAxIF0KIGV4Y2VwdCA6CiAgcGFzcwogdHJ5IDoKICBJSWlpSUkxMTFpID0gSUlpaUlJMTExaSAuIHNwbGl0ICggJyAgLSAnICkgWyAwIF0KIGV4Y2VwdCA6CiAgcGFzcwogSTFpaUkxaTExSUkgKCBJSWlpSUkxMTFpICkKIGlmIDYwIC0gNjA6IG9PTyAuIGlpSUlpMWkxSWlpIC8gaWlJICUgSUlvb29PMG9vTzBvbwplbGlmIE8wT29Pb28wID09IDcgOgogaTFJaWlJSSAoICJhZGRTb3VyY2UiICkKIGlpSUkxICggb29Pb09PMDBPT29vMCApCiBpZiA3NiAtIDc2OiBJaSAqIG9PMG8wICogb08wMG9vbzBvME9PICUgaUlJSTEgKiBPMDAwMDAwTyArIE8wMDAwMDBPCmVsaWYgTzBPb09vbzAgPT0gOCA6CiBpMUlpaUlJICggInJtU291cmNlIiApCiBpSWkxMSAoIElJaWlJSTExMWkgKQogaWYgMzEgLSAzMTogaTExSWkKZWxpZiBPME9vT29vMCA9PSA5IDoKIGkxSWlpSUkgKCAiZG93bmxvYWRfZmlsZSIgKQogT08wb29PMG8wbzAgKCBJSWlpSUkxMTFpICwgb29Pb09PMDBPT29vMCApCiBpZiAyIC0gMjogaTExSWlJMUlJIC8gSUlvb29PMG9vTzBvbwplbGlmIE8wT29Pb28wID09IDEwIDoKIGkxSWlpSUkgKCAiZ2V0Q29tbXVuaXR5U291cmNlcyIgKQogSWkxSWkxMWkxICggKQogaWYgNTcgLSA1NzogTzAwTyAlIE8wME8gKyBvT08KZWxpZiBPME9vT29vMCA9PSAxMSA6CiBpMUlpaUlJICggImFkZFNvdXJjZSIgKQogaWlJSTEgKCBvb09vT08wME9Pb28wICkKIGlmIDEwMCAtIDEwMDogSWkgKyBpMTFJaQplbGlmIE8wT29Pb28wID09IDEyIDoKIGkxSWlpSUkgKCAic2V0UmVzb2x2ZWRVcmwiICkKIGlmIG5vdCBvb09vT08wME9Pb28wIC4gc3RhcnRzd2l0aCAoICJwbHVnaW46Ly9wbHVnaW4iICkgb3Igbm90IGFueSAoIHggaW4gb29Pb09PMDBPT29vMCBmb3IgeCBpbiBPT28wTyApIDoKICBpMTFpaTEgPSBUcnVlCiAgaWYgJyQkTFNEaXJlY3QkJCcgaW4gb29Pb09PMDBPT29vMCA6CiAgIG9vT29PTzAwT09vbzAgPSBvb09vT08wME9Pb28wIC4gcmVwbGFjZSAoICckJExTRGlyZWN0JCQnICwgJycgKQogICBpMTFpaTEgPSBGYWxzZQogIE9PID0geGJtY2d1aSAuIExpc3RJdGVtICggcGF0aCA9IG9vT29PTzAwT09vbzAgKQogIGlmIG5vdCBpMTFpaTEgOgogICB4Ym1jIC4gUGxheWVyICggKSAuIHBsYXkgKCBvb09vT08wME9Pb28wICkKICBlbHNlIDoKICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgVHJ1ZSAsIE9PICkKIGVsc2UgOgogIGlmIDk4IC0gOTg6IE9PTyAlIGkxMUlpIC4gSUlJSSAtIGlJSUkxIC4gaWlJaTFJaUkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAnWEJNQy5SdW5QbHVnaW4oJyArIG9vT29PTzAwT09vbzAgKyAnKScgKQogIGlmIDUgLSA1OiBJaSAvIGlJSUkxIC8gSTFJSQogIGlmIDEwIC0gMTA6IG9PMG8wIC8gb08wbzAgKyBJSQplbGlmIE8wT29Pb28wID09IDEzIDoKIGkxSWlpSUkgKCAicGxheV9wbGF5bGlzdCIgKQogT28wTzAwTzAgKCBJSWlpSUkxMTFpICwgT29PMDAwICkKIGlmIDE5IC0gMTk6IGlpSUlpMWkxSWlpCmVsaWYgTzBPb09vbzAgPT0gMTQgOgogaTFJaWlJSSAoICJnZXRfeG1sX2RhdGFiYXNlIiApCiBpMUkxMTExMSAoIG9vT29PTzAwT09vbzAgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICkKIGlmIDggLSA4OiBJMQplbGlmIE8wT29Pb28wID09IDE1IDoKIGkxSWlpSUkgKCAiYnJvd3NlX3htbF9kYXRhYmFzZSIgKQogaTFJMTExMTEgKCBvb09vT08wME9Pb28wICwgVHJ1ZSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgKQogaWYgMzIgLSAzMjogSTFJSSAtIG9PMG8wICUgSWlpSUlpSUkKZWxpZiBPME9vT29vMCA9PSAxNiA6CiBpMUlpaUlJICggImJyb3dzZV9jb21tdW5pdHkiICkKIElpMUlpMTFpMSAoIG9vT29PTzAwT09vbzAgLCBicm93c2UgPSBUcnVlICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSApCiBpZiA0NSAtIDQ1OiBPT08gKiBJMSAlIEkxSUkKZWxpZiBPME9vT29vMCA9PSAxNyBvciBPME9vT29vMCA9PSAxMTcgOgogaTFJaWlJSSAoICJnZXRSZWdleFBhcnNlZCIgKQogaWYgNzIgLSA3MjogT09PCiBvME9vTzBvID0gTm9uZQogaWYgTzBPb08wb28wIGFuZCAnbGlzdHJlcGVhdCcgaW4gdXJsbGliIC4gdW5xdW90ZV9wbHVzICggTzBPb08wb28wICkgOgogIE9vMG8wME8wb28wMDAgLCBpSTExICwgaTFpICwgTzBPb08wb28wICwgaUlpaTEgPSBvb29vbzAgKCBPME9vTzBvbzAgLCBvb09vT08wME9Pb28wICkKICBpZiA2NiAtIDY2OiBJMUlJSTFpSTFpaWlJaUkxICsgSTFJSQogIGkxaTFJMWlpMWkgPSAnJwogIGlmIDgwIC0gODA6IGkxMUlpSTFJSSArIG9PTyAqIGlpSSAtIElpCiAgaWYgMzUgLSAzNTogaUlJSTEgKyBPT08gKiBJaWlJSWlJSSAqIG9PTwogIG9PT29vID0gaTFpIFsgJ25hbWUnIF0KICBJSW8wb28wT29PMDAwMDAgPSBPME9vTzBvbzAgLiBwb3AgKCBvT09vbyApCiAgaWYgOTAgLSA5MDogb08wMG9vbzBvME9PIC4gSWkKICBvb09vT08wME9Pb28wID0gJycKICBpbXBvcnQgY29weQogIElJaUlpaSA9ICcnCiAgSUlJMWkxID0gMAogIGZvciBvMG9paTFJaWkgaW4gaUkxMSA6CiAgIGlmIDkgLSA5OiBpMTFJaUkxSUkKICAgdHJ5IDoKICAgIElJSTFpMSArPSAxCiAgICBJSTExMUkxSUlJMSA9IGNvcHkgLiBkZWVwY29weSAoIE8wT29PMG9vMCApCiAgICBpZiA1NCAtIDU0OiBJMSAvIE9PTyAqIGlpSQogICAgbzBvbyA9IE9vMG8wME8wb28wMDAKICAgIE9PbzBvT09PTzAgPSAwCiAgICBmb3IgT09vMG9PT09PMCBpbiByYW5nZSAoIGxlbiAoIG8wb2lpMUlpaSApICkgOgogICAgIGlmIDQ0IC0gNDQ6IElpaUlJaUlJICsgaTExSWlJMUlJIC0gSUlJSSAqIElJSUkgLyBJMUlJCiAgICAgaWYgbGVuICggSUkxMTFJMUlJSTEgKSA+IDAgOgogICAgICBmb3Igb08wMDBvbzAwICwgaUkxSWkxSWlJSTEgaW4gSUkxMTFJMUlJSTEgLiBpdGVyaXRlbXMgKCApIDoKICAgICAgIGlmIGlJMUlpMUlpSUkxIGlzIG5vdCBOb25lIDoKICAgICAgICBmb3IgaTFvb29vMDAwME8gLCBPMG9PT29vTyBpbiBpSTFJaTFJaUlJMSAuIGl0ZXJpdGVtcyAoICkgOgogICAgICAgICBpZiBPMG9PT29vTyBpcyBub3QgTm9uZSA6CiAgICAgICAgICBpZiA4NyAtIDg3OiBpMTFJaUkxSUkgLiBpSUlJMSAuIGlpSSAvIGlJSUkxIC8gSUlJSSAqIE8wME8KICAgICAgICAgIGlmIDYxIC0gNjE6IGkxMUlpIC0gSTEgKyBJSW9vb08wb29PMG9vCiAgICAgICAgICBpZiA1OCAtIDU4OiBPMDBPIC4gSTFJSSArIElpICUgSUkgKyBPMDBPCiAgICAgICAgICBpZiA2MSAtIDYxOiBPT08gKyBJSW9vb08wb29PMG9vICogSWlpSUlpSUkgLyBvTzAwb29vMG8wT08gLiBvTzBvMAogICAgICAgICAgaWYgdHlwZSAoIE8wb09Pb29PICkgaXMgZGljdCA6CiAgICAgICAgICAgZm9yIGkxaUkxaWlJMTEgLCBJMUlJb28wbzBvb28gaW4gTzBvT09vb08gLiBpdGVyaXRlbXMgKCApIDoKICAgICAgICAgICAgaWYgSTFJSW9vMG8wb29vIGlzIG5vdCBOb25lIDoKICAgICAgICAgICAgIE8wb09vTzAgPSBOb25lCiAgICAgICAgICAgICBpZiBpc2luc3RhbmNlICggbzBvaWkxSWlpICwgdHVwbGUgKSA6CiAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgTzBvT29PMCA9IG8wb2lpMUlpaSBbIE9PbzBvT09PTzAgXSAuIGRlY29kZSAoICd1dGYtOCcgKQogICAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICAgIE8wb09vTzAgPSBvMG9paTFJaWkgWyBPT28wb09PT08wIF0KICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgIE8wb09vTzAgPSBvMG9paTFJaWkgLiBkZWNvZGUgKCAndXRmLTgnICkKICAgICAgICAgICAgICBleGNlcHQgOgogICAgICAgICAgICAgICBPMG9Pb08wID0gbzBvaWkxSWlpCiAgICAgICAgICAgICAgIGlmIDE3IC0gMTc6IEkxSUkgKyBJMSAlIEkxIC4gTzAwMDAwME8gKiBpaUlpMUlpSSAvIElJCiAgICAgICAgICAgICBpZiAnWycgKyBvT09vbyArICcucGFyYW0nICsgc3RyICggT09vMG9PT09PMCArIDEgKSArICddW0RFXScgaW4gSTFJSW9vMG8wb29vIDoKICAgICAgICAgICAgICBJMUlJb28wbzBvb28gPSBJMUlJb28wbzBvb28gLiByZXBsYWNlICggJ1snICsgb09Pb28gKyAnLnBhcmFtJyArIHN0ciAoIE9PbzBvT09PTzAgKyAxICkgKyAnXVtERV0nICwgdW5lc2NhcGUgKCBPMG9Pb08wICkgKQogICAgICAgICAgICAgTzBvT09vb08gWyBpMWlJMWlpSTExIF0gPSBJMUlJb28wbzBvb28gLiByZXBsYWNlICggJ1snICsgb09Pb28gKyAnLnBhcmFtJyArIHN0ciAoIE9PbzBvT09PTzAgKyAxICkgKyAnXScgLCBPMG9Pb08wICkKICAgICAgICAgICAgIGlmIDIyIC0gMjI6IGlJSUkxCiAgICAgICAgICAgICBpZiA4MSAtIDgxOiBpaUlJaTFpMUlpaSAlIGkxMUlpSTFJSSAqIGlpSUlpMWkxSWlpIC4gaWlJICsgSWlpSUlpSUkgKiBPMDAwMDAwTwogICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgTzBvT29PMCA9IE5vbmUKICAgICAgICAgICBpZiBpc2luc3RhbmNlICggbzBvaWkxSWlpICwgdHVwbGUgKSA6CiAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICBPMG9Pb08wID0gbzBvaWkxSWlpIFsgT09vMG9PT09PMCBdIC4gZGVjb2RlICggJ3V0Zi04JyApCiAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICBPMG9Pb08wID0gbzBvaWkxSWlpIFsgT09vMG9PT09PMCBdCiAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICBPMG9Pb08wID0gbzBvaWkxSWlpIC4gZGVjb2RlICggJ3V0Zi04JyApCiAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICBPMG9Pb08wID0gbzBvaWkxSWlpCiAgICAgICAgICAgaWYgJ1snICsgb09Pb28gKyAnLnBhcmFtJyArIHN0ciAoIE9PbzBvT09PTzAgKyAxICkgKyAnXVtERV0nIGluIE8wb09Pb29PIDoKICAgICAgICAgICAgaWYgOSAtIDk6IGkxMUlpCiAgICAgICAgICAgIE8wb09Pb29PID0gTzBvT09vb08gLiByZXBsYWNlICggJ1snICsgb09Pb28gKyAnLnBhcmFtJyArIHN0ciAoIE9PbzBvT09PTzAgKyAxICkgKyAnXVtERV0nICwgdW5lc2NhcGUgKCBPMG9Pb08wICkgKQogICAgICAgICAgICBpZiA0NiAtIDQ2OiBvTzBvMCAlIElpaUlJaUlJIC8gSTEgLyBPT08gJSBvTzBvMAogICAgICAgICAgIGlJMUlpMUlpSUkxIFsgaTFvb29vMDAwME8gXSA9IE8wb09Pb29PIC4gcmVwbGFjZSAoICdbJyArIG9PT29vICsgJy5wYXJhbScgKyBzdHIgKCBPT28wb09PT08wICsgMSApICsgJ10nICwgTzBvT29PMCApCiAgICAgICAgICAgaWYgMTggLSAxODogSTFJSUkxaUkxaWlpSWlJMSAlIG9PMG8wIC0gSUkgKiBJMSAuIElJb29vTzBvb08wb28KICAgICAgICAgICBpZiA0NyAtIDQ3OiBJMUlJICogSUkgLiBvTzAwb29vMG8wT08KICAgICBPMG9Pb08wID0gTm9uZQogICAgIGlmIGlzaW5zdGFuY2UgKCBvMG9paTFJaWkgLCB0dXBsZSApIDoKICAgICAgdHJ5IDoKICAgICAgIE8wb09vTzAgPSBvMG9paTFJaWkgWyBPT28wb09PT08wIF0gLiBkZWNvZGUgKCAndXRmLTgnICkKICAgICAgZXhjZXB0IDoKICAgICAgIE8wb09vTzAgPSBvMG9paTFJaWkgWyBPT28wb09PT08wIF0KICAgICBlbHNlIDoKICAgICAgdHJ5IDoKICAgICAgIE8wb09vTzAgPSBvMG9paTFJaWkgLiBkZWNvZGUgKCAndXRmLTgnICkKICAgICAgZXhjZXB0IDoKICAgICAgIE8wb09vTzAgPSBvMG9paTFJaWkKICAgICBpZiAnWycgKyBvT09vbyArICcucGFyYW0nICsgc3RyICggT09vMG9PT09PMCArIDEgKSArICddW0RFXScgaW4gbzBvbyA6CiAgICAgIG8wb28gPSBvMG9vIC4gcmVwbGFjZSAoICdbJyArIG9PT29vICsgJy5wYXJhbScgKyBzdHIgKCBPT28wb09PT08wICsgMSApICsgJ11bREVdJyAsIE8wb09vTzAgKQogICAgIG8wb28gPSBvMG9vIC4gcmVwbGFjZSAoICdbJyArIG9PT29vICsgJy5wYXJhbScgKyBzdHIgKCBPT28wb09PT08wICsgMSApICsgJ10nICwgZXNjYXBlICggTzBvT29PMCApICkKICAgICBpZiA4MyAtIDgzOiBPMDAwMDAwTyAtIElJIC8gaWlJSWkxaTFJaWkKICAgIG8wb28gPSBvMG9vIC4gcmVwbGFjZSAoICdbJyArIG9PT29vICsgJy5wYXJhbScgKyBzdHIgKCAwICkgKyAnXScgLCBzdHIgKCBJSUkxaTEgKSApCiAgICBpZiAzNCAtIDM0OiBpSUlJMSArIG9PTyAvIE8wMDAwMDBPICsgSUkgJSBvTzBvMAogICAgdHJ5IDoKICAgICBpZiBpSWlpMSBhbmQgJ1snICsgb09Pb28gKyAnLmNvb2tpZXNdJyBpbiBvMG9vIDoKICAgICAgbzBvbyA9IG8wb28gLiByZXBsYWNlICggJ1snICsgb09Pb28gKyAnLmNvb2tpZXNdJyAsIG9vb09vME9vbzAgKCBpSWlpMSApICkKICAgIGV4Y2VwdCA6IHBhc3MKICAgIGlmIDgwIC0gODA6IG9PMDBvb28wbzBPTyAtIGlpSQogICAgaWYgMTEgLSAxMTogT09PICogSWlpSUlpSUkKICAgIGlmIDEyIC0gMTI6IEkxIC0gSUkgLSBpSUlJMQogICAgaWYgMyAtIDM6IElJIC4gSUlJSSAlIG9PMG8wCiAgICBPME8wb29PbzAwbyA9ICcnCiAgICBpZiA1MiAtIDUyOiBpaUlpMUlpSSAuIElpaUlJaUlJICsgb09PICUgSWlpSUlpSUkKICAgIGlmIGxlbiAoIElJMTExSTFJSUkxICkgPiAwIDoKICAgICBPME8wb29PbzAwbyA9IGlJSTFJMUlJaTExaSAoIElJMTExSTFJSUkxICwgJ2xzcHJvcm9vdCcgKQogICAgIE8wTzBvb09vMDBvID0gTzBPMG9vT28wMG8gLiBzcGxpdCAoICc8bHNwcm9yb290PicgKSBbIDEgXSAuIHNwbGl0ICggJzwvbHNwcm9yb290JyApIFsgMCBdCiAgICAgaWYgODggLSA4ODogSTEKICAgICBpZiAyNCAtIDI0OiBJaSAtIElpaUlJaUlJCiAgICB0cnkgOgogICAgIElJaUlpaSArPSAnXG48aXRlbT4lc1xuJXM8L2l0ZW0+JyAlICggbzBvbyAsIE8wTzBvb09vMDBvICkKICAgIGV4Y2VwdCA6IElJaUlpaSArPSAnXG48aXRlbT4lc1xuJXM8L2l0ZW0+JyAlICggbzBvbyAuIGVuY29kZSAoICJ1dGYtOCIgKSAsIE8wTzBvb09vMDBvICkKICAgZXhjZXB0IDogdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgIGlmIDQ4IC0gNDg6IE8wME8gKiBJSW9vb08wb29PMG9vIC8gSWlpSUlpSUkgLSBJaWlJSWlJSSAuIElJIC4gb08wMG9vbzBvME9PCiAgIGlmIDgxIC0gODE6IG9PMG8wICUgaWlJSWkxaTFJaWkKICAgaWYgMzAgLSAzMDogSTFJSSAuIG9PMG8wICsgTzAwMDAwME8KICAgaWYgOCAtIDg6IEkxSUkgLSBJSQogICBpZiA1MiAtIDUyOiBJSUlJIC0gb08wbzAgKyBvT08gLiBJaQogIGkxSWlpSUkgKCByZXByICggSUlpSWlpICkgKQogIE8wICggJycgLCAnJyAsIElJaUlpaSApCiAgeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICkKIGVsc2UgOgogIG9vT29PTzAwT09vbzAgLCBpMTExSWkxaWkxMSA9IG9vb29vMCAoIE8wT29PMG9vMCAsIG9vT29PTzAwT09vbzAgKQogIHByaW50IHJlcHIgKCBvb09vT08wME9Pb28wICkgLCBpMTExSWkxaWkxMSAsICdpbWhlcmUnCiAgaWYgb29Pb09PMDBPT29vMCA6CiAgIGlmICckUExBWUVSUFJPWFkkPScgaW4gb29Pb09PMDBPT29vMCA6CiAgICBvb09vT08wME9Pb28wICwgb29Pb09vT28gPSBvb09vT08wME9Pb28wIC4gc3BsaXQgKCAnJFBMQVlFUlBST1hZJD0nICkKICAgIHByaW50ICdwcm94eScgLCBvb09vT29PbwogICAgaWYgNjAgLSA2MDogaWlJSWkxaTFJaWkgLyBPT08gKyBvTzAwb29vMG8wT08KICAgIEkxaTFpaWlJaTFpaUkgPSBOb25lCiAgICBJaTFpMWkxaWlpID0gTm9uZQogICAgaWYgbGVuICggb29Pb09vT28gKSA+IDAgYW5kICdAJyBpbiBvb09vT29PbyA6CiAgICAgb29Pb09vT28gPSBvb09vT29PbyAuIHNwbGl0ICggJzonICkKICAgICBJMWkxaWlpSWkxaWlJID0gb29Pb09vT28gWyAwIF0KICAgICBJaTFpMWkxaWlpID0gb29Pb09vT28gWyAxIF0gLiBzcGxpdCAoICdAJyApIFsgMCBdCiAgICAgSWlpSWlJMSA9IG9vT29Pb09vIFsgMSBdIC4gc3BsaXQgKCAnQCcgKSBbIDEgXQogICAgIElpMTFJaTExSUkgPSBvb09vT29PbyBbIDIgXQogICAgZWxzZSA6CiAgICAgSWlpSWlJMSAsIElpMTFJaTExSUkgPSBvb09vT29PbyAuIHNwbGl0ICggJzonICkKICAgICBpZiAzNCAtIDM0OiBpMTFJaUkxSUkgKiBJSUlJICogSWlpSUlpSUkgLyBJSW9vb08wb29PMG9vIC8gaWlJSWkxaTFJaWkKICAgIGlpMTEgKCBvb09vT08wME9Pb28wICwgSUlpaUlJMTExaSAsIElJMWlJICwgSWlpSWlJMSAsIElpMTFJaTExSUkgLCBJMWkxaWlpSWkxaWlJICwgSWkxaTFpMWlpaSApCiAgIGVsc2UgOgogICAgSTExSTFpSSAoIG9vT29PTzAwT09vbzAgLCBJSWlpSUkxMTFpICwgSUkxaUkgLCBpMTExSWkxaWkxMSAsIE8wT29PMG9vMCApCiAgZWxzZSA6CiAgIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLk5vdGlmaWNhdGlvbihDYXRvYWwsRmFpbGVkIHRvIGV4dHJhY3QgcmVnZXguIC0gIiArICJ0aGlzIiArICIsNDAwMCwiICsgTzAwTzAwMCArICIpIiApCmVsaWYgTzBPb09vbzAgPT0gMTggOgogaTFJaWlJSSAoICJ5b3V0dWJlZGwiICkKIHRyeSA6CiAgaW1wb3J0IHlvdXR1YmVkbAogZXhjZXB0IEV4Y2VwdGlvbiA6CiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuTm90aWZpY2F0aW9uKENhdG9hbCxQbGVhc2UgW0NPTE9SIHllbGxvd11pbnN0YWxsIFlvdXR1YmUtZGxbL0NPTE9SXSBtb2R1bGUgLDEwMDAwLCIgIikiICkKIGkxSUkxMUkxMTEgPSB5b3V0dWJlZGwgLiBzaW5nbGVfWUQgKCBvb09vT08wME9Pb28wICkKIEkxMUkxaUkgKCBpMUlJMTFJMTExICwgSUlpaUlJMTExaSAsIElJMWlJICkKZWxpZiBPME9vT29vMCA9PSAxOSA6CiBpMUlpaUlJICggIkdlbmVzaXNjb21tb25yZXNvbHZlcnMiICkKIEkxMUkxaUkgKCBJMUkgKCBvb09vT08wME9Pb28wICkgLCBJSWlpSUkxMTFpICwgSUkxaUkgLCBUcnVlICkKIGlmIDI5IC0gMjk6IEkxSUkgKyBvTzBvMAplbGlmIE8wT29Pb28wID09IDIxIDoKIGkxSWlpSUkgKCAiZG93bmxvYWQgY3VycmVudCBmaWxlIHVzaW5nIHlvdXR1YmUtZGwgc2VydmljZSIgKQogaUlJSTFpMTEgKCAnJyAsIElJaWlJSTExMWkgLCAndmlkZW8nICkKZWxpZiBPME9vT29vMCA9PSAyMyA6CiBpMUlpaUlJICggImdldCBpbmZvIHRoZW4gZG93bmxvYWQiICkKIGlJSUkxaTExICggb29Pb09PMDBPT29vMCAsIElJaWlJSTExMWkgLCAndmlkZW8nICkKZWxpZiBPME9vT29vMCA9PSAyNCA6CiBpMUlpaUlJICggIkF1ZGlvIG9ubHkgeW91dHViZSBkb3dubG9hZCIgKQogaUlJSTFpMTEgKCBvb09vT08wME9Pb28wICwgSUlpaUlJMTExaSAsICdhdWRpbycgKQplbGlmIE8wT29Pb28wID09IDI1IDoKIGkxSWlpSUkgKCAiU2VhcmNoaW4gT3RoZXIgcGx1Z2lucyIgKQogT28wb28wME9PICggb29Pb09PMDBPT29vMCAsIElJaWlJSTExMWkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICkKZWxpZiBPME9vT29vMCA9PSA1NSA6CiBpMUlpaUlJICggImVuYWJsZWQgbG9jayIgKQogbzAwMG9vb08wbzAgPSBPb28gLiBnZXRTZXR0aW5nICggJ3BhcmVudGFsYmxvY2tlZHBpbicgKQogaWlpSUlJaUkgPSB4Ym1jIC4gS2V5Ym9hcmQgKCAnJyAsICdFbnRlciBQaW4nICkKIGlpaUlJSWlJIC4gZG9Nb2RhbCAoICkKIGlmIG5vdCAoIGlpaUlJSWlJIC4gaXNDb25maXJtZWQgKCApID09IEZhbHNlICkgOgogIElpaUkxMWlpaSA9IGlpaUlJSWlJIC4gZ2V0VGV4dCAoICkKICBpZiBJaWlJMTFpaWkgPT0gbzAwMG9vb08wbzAgOgogICBPb28gLiBzZXRTZXR0aW5nICggJ3BhcmVudGFsYmxvY2tlZCcgLCAiZmFsc2UiICkKICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuTm90aWZpY2F0aW9uKENhdG9hbCxQYXJlbnRhbCBCbG9jayBEaXNhYmxlZCw1MDAwLCIgKyBPMDBPMDAwICsgIikiICkKICBlbHNlIDoKICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuTm90aWZpY2F0aW9uKENhdG9hbCxXcm9uZyBQaW4/Pyw1MDAwLCIgKyBPMDBPMDAwICsgIikiICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSApCmVsaWYgTzBPb09vbzAgPT0gNTYgOgogaTFJaWlJSSAoICJkaXNhYmxlIGxvY2siICkKIE9vbyAuIHNldFNldHRpbmcgKCAncGFyZW50YWxibG9ja2VkJyAsICJ0cnVlIiApCiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Ob3RpZmljYXRpb24oQ2F0b2FsLFBhcmVudGFsIGJsb2NrIGVuYWJsZWQsNTAwMCwiICsgTzAwTzAwMCArICIpIiApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgKQogaWYgMTQgLSAxNDogaTExSWkgLyBpSUlJMSAvIGlpSUlpMWkxSWlpICogaTExSWkgLyBJMUlJSTFpSTFpaWlJaUkxIC0gaWlJCmVsaWYgTzBPb09vbzAgPT0gNTMgOgogaTFJaWlJSSAoICJSZXF1ZXN0aW5nIEpTT04tUlBDIEl0ZW1zIiApCiBPTzBvMDAwICggb29Pb09PMDBPT29vMCApCiBpZiAyMSAtIDIxOiBJaSAqIGlpSUlpMWkxSWlpICsgSUkgKyBJaWlJSWlJSSAvIEkxCmlmIG5vdCBPTzAwT29PID09IE5vbmUgOgogcHJpbnQgJ3NldHRpbmcgdmlldyBtb2RlJwogeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSglcykiICUgT08wME9vTyApCiMgODA3Y2IxYmZmZmIyMzRkYWNlM2Y5MzBmNTcxYTkwMzlkNzZmNGNmOQo=')